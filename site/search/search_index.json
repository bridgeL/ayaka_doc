{"config":{"indexing":"full","lang":["en","ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-\\.]+"},"docs":[{"location":"","text":"Ayaka   -   \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u5f00\u53d1 \u8f85\u52a9 \u63d2\u4ef6   \u00b6   \u9002\u7528 \u4e8e   nonebot2 \u673a\u5668 \u673a\u5668\u4eba   \u7684 \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u5f00\u53d1 \u8f85\u52a9 \u63d2\u4ef6   ayaka   \u4e8c\u6b21 \u5c01\u88c5 nonebot2 \u63d0\u4f9b \u7684 api \uff0c \u63d0\u4f9b \u4e86 \u4e13\u7528 api   \u4ece\u800c \u4e3a \u5176\u4ed6 \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \uff08 \u884d\u751f \u63d2\u4ef6 \uff09 \u7684 \u7f16\u5199 \u63d0\u4f9b \u652f\u6301   \u5355\u72ec \u5b89\u88c5 \u672c \u63d2\u4ef6 \u6ca1\u6709 \u610f\u4e49 \uff0c \u672c \u63d2\u4ef6 \u7684 \u610f\u4e49 \u5728\u4e8e \u5e2e\u52a9 \u884d\u751f \u63d2\u4ef6 \u5b9e\u73b0 \u529f\u80fd   \u6ce8\u610f \uff1a \u641c\u7d22 \u680f \u5982\u679c \u641c \u4e0d\u5230 \u6570\u636e \uff0c \u53ef\u4ee5 \u5c1d\u8bd5 \u5c06 \u5173\u952e \u5173\u952e\u8bcd \u5206\u5272 \u4e3a \u66f4 \u5c0f \u7684 \u5355\u4f4d \uff08 MkDocs \u5bf9 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \u7684 \u652f\u6301 \u8f83\u5dee \uff09   \u7279\u6027   \u00b6   \u547d\u4ee4 \u9694\u79bb   \u72b6\u6001 \u72b6\u6001\u673a   \u751f\u6210 \u5e2e\u52a9   \u6570\u636e \u7f13\u5b58 \u3001 \u6301\u4e45 \u5316   \u5b9a\u65f6 \u5b9a\u65f6\u5668   \u6d4f\u89c8 \u6d4f\u89c8\u5668 \u622a\u56fe   \u6d4b\u8bd5 \u5957\u4ef6   \u76f8\u5173 \u94fe\u63a5   \u00b6   ayaka \u4ed3\u5e93   ayaka \u6587\u6863 \u4ed3\u5e93   \u57fa\u4e8e ayaka \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u5408\u96c6   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u4ecb\u7ecd"},{"location":"#ayaka-","text":"\u9002\u7528 \u4e8e   nonebot2 \u673a\u5668 \u673a\u5668\u4eba   \u7684 \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u5f00\u53d1 \u8f85\u52a9 \u63d2\u4ef6   ayaka   \u4e8c\u6b21 \u5c01\u88c5 nonebot2 \u63d0\u4f9b \u7684 api \uff0c \u63d0\u4f9b \u4e86 \u4e13\u7528 api   \u4ece\u800c \u4e3a \u5176\u4ed6 \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \uff08 \u884d\u751f \u63d2\u4ef6 \uff09 \u7684 \u7f16\u5199 \u63d0\u4f9b \u652f\u6301   \u5355\u72ec \u5b89\u88c5 \u672c \u63d2\u4ef6 \u6ca1\u6709 \u610f\u4e49 \uff0c \u672c \u63d2\u4ef6 \u7684 \u610f\u4e49 \u5728\u4e8e \u5e2e\u52a9 \u884d\u751f \u63d2\u4ef6 \u5b9e\u73b0 \u529f\u80fd   \u6ce8\u610f \uff1a \u641c\u7d22 \u680f \u5982\u679c \u641c \u4e0d\u5230 \u6570\u636e \uff0c \u53ef\u4ee5 \u5c1d\u8bd5 \u5c06 \u5173\u952e \u5173\u952e\u8bcd \u5206\u5272 \u4e3a \u66f4 \u5c0f \u7684 \u5355\u4f4d \uff08 MkDocs \u5bf9 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \u7684 \u652f\u6301 \u8f83\u5dee \uff09","title":"Ayaka   -   \u6587\u5b57\u6e38\u620f \u5f00\u53d1 \u8f85\u52a9 \u63d2\u4ef6"},{"location":"#_1","text":"\u547d\u4ee4 \u9694\u79bb   \u72b6\u6001 \u72b6\u6001\u673a   \u751f\u6210 \u5e2e\u52a9   \u6570\u636e \u7f13\u5b58 \u3001 \u6301\u4e45 \u5316   \u5b9a\u65f6 \u5b9a\u65f6\u5668   \u6d4f\u89c8 \u6d4f\u89c8\u5668 \u622a\u56fe   \u6d4b\u8bd5 \u5957\u4ef6","title":"\u7279\u6027"},{"location":"#_2","text":"ayaka \u4ed3\u5e93   ayaka \u6587\u6863 \u4ed3\u5e93   \u57fa\u4e8e ayaka \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u5408\u96c6","title":"\u76f8\u5173 \u94fe\u63a5"},{"location":"#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/","text":"API \u5f52\u6863   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"API"},{"location":"api/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/ayaka/","text":"class   AyakaApp   \u00b6   Ayaka   \u5e94\u7528   ayaka \u63d2\u4ef6 \u7684 \u6838\u5fc3   def   __ repr __   \u00b6   \u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaApp (   {   self   .   name   }   ,   {   self   .   state   }   ) \"   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   __ init __   (   self   ,   name   :   str   )   - >   None   :   self   .   name   =   name   self   .   state   =   INIT _ STATE   self   .   triggers   :   List   [   AyakaTrigger   ]   =   [ ]   self   .   timers   :   List   [   AyakaTimer   ]   =   [ ]   self   .   _ help   :   Dict   [   str   ,   List   [   str   ] ]   =   { }   self   .   on   =   AyakaOn   (   self   )   self   .   storage   =   AyakaStorage   (   self   )   self   .   parser   =   AyakaParser   ( )   self   .   path   =   Path   (   inspect   .   stack   ( ) [   1   ]   .   filename   )   for   app   in   app _ list   :   if   app   .   name   = =   self   .   name   :   logger   .   warning   (   f   \" \u5e94\u7528   {   app   .   name   }   \u91cd\u590d \u6ce8\u518c \uff0c \u5df2 \u5ffd\u7565 \u540e \u6ce8\u518c \u7684 \u5e94\u7528 \uff01   \\ n   {   app   .   path   }   \\ n   {   self   .   path   }   ( \u88ab \u5ffd\u7565 ) \"   )   break   else   :   app _ list   .   append   (   self   )   if   AYAKA _ DEBUG   :   print   (   self   )   def   super _ triggers   \u00b6   \u65e0 \u53c2\u6570   @ property   def   super _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   t   .   super   ]   def   state _ triggers   \u00b6   \u65e0 \u53c2\u6570   @ property   def   state _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   not   t   .   super   and   t   .   state   is   not   None   ]   def   no _ state _ triggers   \u00b6   \u65e0 \u53c2\u6570   @ property   def   no _ state _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   not   t   .   super   and   t   .   state   is   None   ]   def   intro   \u00b6   \u83b7\u53d6 \u4ecb\u7ecd \uff0c \u4e5f \u5c31\u662f init \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   \u65e0 \u53c2\u6570   @ property   def   intro   (   self   ) :   ' ' ' \u83b7\u53d6 \u4ecb\u7ecd \uff0c \u4e5f \u5c31\u662f init \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 ' ' '   helps   =   self   .   _ help   .   get   (   INIT _ STATE   ,   [   \" \u6ca1\u6709 \u627e\u5230 \u5e2e\u52a9 \"   ] )   return   \"   \\ n   \"   .   join   (   helps   )   def   get _ helps   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state :   str   def   get _ helps   (   self   ,   state   :   str   ) :   helps   =   self   .   _ help   .   get   (   state   )   if   not   helps   :   return   [ ]   return   [   f   \" [   {   state   }   ] \"   ]   +   helps   def   help   \u00b6   \u83b7\u53d6 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 \uff0c \u6ca1\u6709 \u627e\u5230 \u5219 \u8fd4\u56de \u4ecb\u7ecd   \u65e0 \u53c2\u6570   @ property   def   help   (   self   ) :   ' ' ' \u83b7\u53d6 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 \uff0c \u6ca1\u6709 \u627e\u5230 \u5219 \u8fd4\u56de \u4ecb\u7ecd ' ' '   if   self   .   group   .   running _ app _ name   = =   self   .   name   :   helps   =   [ ]   state   =   self   .   state   helps   .   extend   (   self   .   get _ helps   (   state   ) )   while   \" . \"   in   state   :   state   =   state   .   rsplit   (   \" . \"   ,   1   ) [   0   ]   helps   .   extend   (   self   .   get _ helps   (   state   ) )   helps   .   extend   (   self   .   get _ helps   (   \" * \"   ) )   if   helps   :   return   \"   \\ n   \"   .   join   (   helps   )   return   self   .   intro   def   all _ help   \u00b6   \u83b7\u53d6 \u4ecb\u7ecd \u4ee5\u53ca \u5168\u90e8 \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   \u65e0 \u53c2\u6570   @ property   def   all _ help   (   self   ) :   ' ' ' \u83b7\u53d6 \u4ecb\u7ecd \u4ee5\u53ca \u5168\u90e8 \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 ' ' '   info   =   self   .   intro   for   k   ,   v   in   self   .   _ help   .   items   ( ) :   v   =   \"   \\ n   \"   .   join   (   v   )   if   k   ! =   INIT _ STATE   :   info   + =   f   \"   \\ n   [   {   k   }   ]   \\ n   {   v   }   \"   return   info   def   help   \u00b6   \u8bbe\u7f6e \u5e2e\u52a9 \uff0c \u82e5 help \u4e3a str \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u4ecb\u7ecd \uff0c \u82e5 help \u4e3a dict \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u7684 \u5e2e\u52a9   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   help :   Union [ str ,   Dict [ str ,   str ] ]   @ help   .   setter   def   help   (   self   ,   help   :   Union   [   str   ,   Dict   [   str   ,   str   ] ] ) :   ' ' ' \u8bbe\u7f6e \u5e2e\u52a9 \uff0c \u82e5 help \u4e3a str \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u4ecb\u7ecd \uff0c \u82e5 help \u4e3a dict \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u7684 \u5e2e\u52a9 ' ' '   if   isinstance   (   help   ,   dict   ) :   help   =   {   k   :   [   v   .   strip   ( ) ]   for   k   ,   v   in   help   .   items   ( ) }   self   .   _ help   .   update   (   help   )   else   :   self   .   _ help   [   INIT _ STATE   ]   =   [   help   .   strip   ( ) ]   def   valid   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d app \u662f\u5426 \u88ab \u5f53\u524d \u7fa4\u7ec4 \u542f\u7528   \u65e0 \u53c2\u6570   @ property   def   valid   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d app \u662f\u5426 \u88ab \u5f53\u524d \u7fa4\u7ec4 \u542f\u7528   ' ' '   return   self   .   group   .   get _ app   (   self   .   name   )   def   cache   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4 \u3001 \u5f53\u524d app \u7684 \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   \u65e0 \u53c2\u6570   @ property   def   cache   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4 \u3001 \u5f53\u524d app \u7684 \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   ' ' '   return   self   .   group   .   cache _ dict   .   get   (   self   .   name   )   def   user _ name   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0   \u65e0 \u53c2\u6570   @ property   def   user _ name   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0   ' ' '   s   =   self   .   event   .   sender   name   =   s   .   card   or   s   .   nickname   return   name   def   user _ id   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 uid   \u65e0 \u53c2\u6570   @ property   def   user _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 uid   ' ' '   return   self   .   event   .   user _ id   def   bot   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d bot   \u65e0 \u53c2\u6570   @ property   def   bot   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d bot   ' ' '   return   _ bot   .   get   ( )   def   event   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f   \u65e0 \u53c2\u6570   @ property   def   event   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f   ' ' '   return   _ event   .   get   ( )   def   group _ id   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4 \u7684 id   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A \u7684 id   \u65e0 \u53c2\u6570   @ property   def   group _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4 \u7684 id   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A \u7684 id   ' ' '   return   self   .   group   .   group _ id   def   bot _ id   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d bot \u7684 id   \u65e0 \u53c2\u6570   @ property   def   bot _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d bot \u7684 id   ' ' '   return   self   .   group   .   bot _ id   def   group   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A   \u65e0 \u53c2\u6570   @ property   def   group   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A   ' ' '   return   _ group   .   get   ( )   def   arg   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \u7684 \u5269\u4f59 \u90e8\u5206   \u65e0 \u53c2\u6570   @ property   def   arg   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \u7684 \u5269\u4f59 \u90e8\u5206   ' ' '   return   _ arg   .   get   ( )   def   args   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \uff0c \u5269\u4f59 \u90e8\u5206 \u6309\u7167 \u7a7a\u683c \u5206\u5272 \u540e \u7684 \u6570\u7ec4   \u6ce8 \uff1a \u9664\u4e86 \u6587\u5b57 \u6d88\u606f \u5916 \uff0c \u5176\u4ed6 \u6d88\u606f \u7c7b\u578b \u5c06 \u81ea\u52a8 \u5206\u5272 \uff0c \u4f8b\u5982 \u4e00\u4e32 qq \u8868\u60c5 \u4f1a \u88ab \u5206\u5272 \u4e3a \u591a\u4e2a \u5143\u7d20   \u65e0 \u53c2\u6570   @ property   def   args   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \uff0c \u5269\u4f59 \u90e8\u5206 \u6309\u7167 \u7a7a\u683c \u5206\u5272 \u540e \u7684 \u6570\u7ec4   \u6ce8 \uff1a \u9664\u4e86 \u6587\u5b57 \u6d88\u606f \u5916 \uff0c \u5176\u4ed6 \u6d88\u606f \u7c7b\u578b \u5c06 \u81ea\u52a8 \u5206\u5272 \uff0c \u4f8b\u5982 \u4e00\u4e32 qq \u8868\u60c5 \u4f1a \u88ab \u5206\u5272 \u4e3a \u591a\u4e2a \u5143\u7d20   ' ' '   return   _ args   .   get   ( )   def   cmd   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u547d\u4ee4 \u5934   \u65e0 \u53c2\u6570   @ property   def   cmd   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u547d\u4ee4 \u5934   ' ' '   return   _ cmd   .   get   ( )   def   message   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f   \u65e0 \u53c2\u6570   @ property   def   message   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f   ' ' '   return   _ message   .   get   ( )   async   def   start   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u542f\u52a8 \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state   async   def   start   (   self   ,   state   =   INIT _ STATE   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u542f\u52a8 \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a ' ' '   name   =   self   .   group   .   running _ app _ name   if   name   and   name   ! =   self   .   name   :   await   self   .   send   (   \" \u6253\u5f00 \u5e94\u7528 \u5931\u8d25 \"   )   return   False   self   .   group   .   running _ app   =   self   self   .   state   =   state   await   self   .   send   (   f   \" \u5df2 \u6253\u5f00 \u5e94\u7528   [   {   self   .   name   }   ] \"   )   return   True   async   def   close   \u00b6   timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5173\u95ed \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a   \u65e0 \u53c2\u6570   async   def   close   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5173\u95ed \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a ' ' '   name   =   self   .   group   .   running _ app _ name   if   name   :   self   .   group   .   running _ app   =   None   await   self   .   send   (   f   \" \u5df2 \u5173\u95ed \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   self   .   send   (   f   \" \u6ca1\u6709 \u5e94\u7528 \u5728 \u8fd0\u884c \"   )   def   set _ state   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state   def   set _ state   (   self   ,   state   =   INIT _ STATE   ) :   self   .   state   =   state   def   add _ listener   \u00b6   \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u6307\u5b9a \u79c1\u804a \u7684 \u76d1\u542c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   user _ id :   int   def   add _ listener   (   self   ,   user _ id   :   int   ) :   ' ' ' \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u6307\u5b9a \u79c1\u804a \u7684 \u76d1\u542c ' ' '   private _ listener _ dict   [   user _ id   ]   .   append   (   self   .   group _ id   )   def   remove _ listener   \u00b6   \u9ed8\u8ba4 \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u5176\u4ed6 \u79c1\u804a \u7684 \u6240\u6709 \u76d1\u542c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   user _ id :   int   def   remove _ listener   (   self   ,   user _ id   :   int   =   0   ) :   ' ' ' \u9ed8\u8ba4 \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u5176\u4ed6 \u79c1\u804a \u7684 \u6240\u6709 \u76d1\u542c ' ' '   id   =   self   .   group _ id   if   user _ id   = =   0   :   for   ids   in   private _ listener _ dict   .   values   ( ) :   if   id   in   ids   :   ids   .   remove   (   id   )   return   if   id   in   private _ listener _ dict   [   user _ id   ] :   private _ listener _ dict   [   user _ id   ]   .   remove   (   self   .   group _ id   )   async   def   send   \u00b6   \u53d1\u9001 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   Message   |   MessageSegment   |   str   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message   async   def   send   (   self   ,   message   ) :   ' ' ' \u53d1\u9001 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   Message   |   MessageSegment   |   str ' ' '   #   \u8fd9\u91cc \u4e0d \u4f7f\u7528 event \uff0c \u56e0\u4e3a \u4e00\u4e9b event \u53ef\u80fd \u6765\u81ea \u5176\u4ed6 \u8bbe\u5907 \u7684 \u76d1\u542c \u4f20\u9012   await   self   .   bot   .   send _ group _ msg   (   group _ id   =   self   .   group _ id   ,   message   =   message   )   def   pack _ messages   \u00b6   \u8f6c\u6362 \u4e3a cqhttp   node \u683c\u5f0f   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id   messages   def   pack _ messages   (   self   ,   bot _ id   ,   messages   ) :   ' ' ' \u8f6c\u6362 \u4e3a cqhttp   node \u683c\u5f0f ' ' '   data   :   List   [   MessageSegment   ]   =   [ ]   for   m   in   messages   :   if   isinstance   (   m   ,   MessageSegment   ) :   data   .   append   (   m   )   else   :   m   =   MessageSegment   .   node _ custom   (   user _ id   =   bot _ id   ,   nickname   =   \" Ayaka   Bot \"   ,   content   =   str   (   m   )   )   data   .   append   (   m   )   return   data   async   def   send _ many   \u00b6   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   List [ Message   |   MessageSegment   |   str ]   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   messages   async   def   send _ many   (   self   ,   messages   ) :   ' ' ' \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   List [ Message   |   MessageSegment   |   str ] ' ' '   #   \u5206\u5272 \u957f \u6d88\u606f \u7ec4 \uff08 \u4e0d\u53ef \u8d85\u8fc7 100 \u6761 \uff09 \u8c28\u614e \u8d77 \u89c1 \uff0c \u4f7f\u7528 80 \u4f5c\u4e3a \u5355\u5143 \u957f\u5ea6   div _ len   =   80   div _ cnt   =   ceil   (   len   (   messages   )   /   div _ len   )   for   i   in   range   (   div _ cnt   ) :   msgs   =   self   .   pack _ messages   (   self   .   bot _ id   ,   messages   [   i   *   div _ len   :   (   i   +   1   )   *   div _ len   ]   )   await   self   .   bot   .   call _ api   (   \" send _ group _ forward _ msg \"   ,   group _ id   =   self   .   group _ id   ,   messages   =   msgs   )   def   t _ check   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   t _ check   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ) :   #   \u672a \u8fde\u63a5   bot   =   get _ bot   (   bot _ id   )   if   not   bot   :   logger   .   warning   (   f   \" BOT (   {   bot _ id   }   )   \u672a \u8fde\u63a5 \"   )   return   #   \u5df2 \u7981\u7528   group   =   get _ group   (   bot _ id   ,   group _ id   )   app   =   group   .   get _ app   (   self   .   name   )   if   not   app   :   logger   .   warning   (   f   \" \u7fa4\u804a (   {   group _ id   }   )   \u5df2 \u7981\u7528   {   self   .   name   }   \"   )   return   return   bot   async   def   t _ send   \u00b6   timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   message   async   def   t _ send   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ,   message   ) :   ' ' ' timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528 ' ' '   bot   =   self   .   t _ check   (   bot _ id   ,   group _ id   )   if   not   bot   :   return   await   bot   .   send _ group _ msg   (   group _ id   =   group _ id   ,   message   =   message   )   async   def   t _ send _ many   \u00b6   timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   messages   async   def   t _ send _ many   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ,   messages   ) :   ' ' ' timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528 ' ' '   bot   =   self   .   t _ check   (   bot _ id   ,   group _ id   )   if   not   bot   :   return   #   \u5206\u5272 \u957f \u6d88\u606f \u7ec4 \uff08 \u4e0d\u53ef \u8d85\u8fc7 100 \u6761 \uff09 \u8c28\u614e \u8d77 \u89c1 \uff0c \u4f7f\u7528 80 \u4f5c\u4e3a \u5355\u5143 \u957f\u5ea6   div _ len   =   80   div _ cnt   =   ceil   (   len   (   messages   )   /   div _ len   )   for   i   in   range   (   div _ cnt   ) :   msgs   =   self   .   pack _ messages   (   bot _ id   ,   messages   [   i   *   div _ len   :   (   i   +   1   )   *   div _ len   ]   )   await   bot   .   call _ api   (   \" send _ group _ forward _ msg \"   ,   group _ id   =   group _ id   ,   messages   =   msgs   )   async   def   startup   \u00b6   \u65e0 \u53c2\u6570   @ driver   .   on _ startup   async   def   startup   ( ) :   app _ list   .   sort   (   key   =   lambda   x   :   x   .   name   )   await   init _ chrome   ( )   async   def   shutdown   \u00b6   \u65e0 \u53c2\u6570   @ driver   .   on _ shutdown   async   def   shutdown   ( ) :   await   close _ chrome   ( )   async   def   bot _ connect   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   @ driver   .   on _ bot _ connect   async   def   bot _ connect   (   bot   :   Bot   ) :   bot _ list   .   append   (   bot   )   #   \u5728 \u4e00\u5207 \u51c6\u5907 \u5c31\u7eea \u51c6\u5907\u5c31\u7eea \u540e \uff0c \u5f00\u542f \u63d2\u4ef6 \u4e2d \u7684 \u5b9a\u65f6 \u6a21\u5757   global   first _ bot _ connect   if   first _ bot _ connect   :   first _ bot _ connect   =   False   for   app   in   app _ list   :   for   t   in   app   .   timers   :   t   .   start   ( )   async   def   bot _ disconnect   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   @ driver   .   on _ bot _ disconnect   async   def   bot _ disconnect   (   bot   :   Bot   ) :   bot _ list   .   remove   (   bot   )   global   vars   \u00b6   driver   =   get _ driver   ( )   first _ bot _ connect   =   True   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"ayaka"},{"location":"api/ayaka/ayaka/#class-ayakaapp","text":"Ayaka   \u5e94\u7528   ayaka \u63d2\u4ef6 \u7684 \u6838\u5fc3","title":"class   AyakaApp"},{"location":"api/ayaka/ayaka/#def-__repr__","text":"\u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaApp (   {   self   .   name   }   ,   {   self   .   state   }   ) \"","title":"def   __ repr __"},{"location":"api/ayaka/ayaka/#def-__init__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   __ init __   (   self   ,   name   :   str   )   - >   None   :   self   .   name   =   name   self   .   state   =   INIT _ STATE   self   .   triggers   :   List   [   AyakaTrigger   ]   =   [ ]   self   .   timers   :   List   [   AyakaTimer   ]   =   [ ]   self   .   _ help   :   Dict   [   str   ,   List   [   str   ] ]   =   { }   self   .   on   =   AyakaOn   (   self   )   self   .   storage   =   AyakaStorage   (   self   )   self   .   parser   =   AyakaParser   ( )   self   .   path   =   Path   (   inspect   .   stack   ( ) [   1   ]   .   filename   )   for   app   in   app _ list   :   if   app   .   name   = =   self   .   name   :   logger   .   warning   (   f   \" \u5e94\u7528   {   app   .   name   }   \u91cd\u590d \u6ce8\u518c \uff0c \u5df2 \u5ffd\u7565 \u540e \u6ce8\u518c \u7684 \u5e94\u7528 \uff01   \\ n   {   app   .   path   }   \\ n   {   self   .   path   }   ( \u88ab \u5ffd\u7565 ) \"   )   break   else   :   app _ list   .   append   (   self   )   if   AYAKA _ DEBUG   :   print   (   self   )","title":"def   __ init __"},{"location":"api/ayaka/ayaka/#def-super_triggers","text":"\u65e0 \u53c2\u6570   @ property   def   super _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   t   .   super   ]","title":"def   super _ triggers"},{"location":"api/ayaka/ayaka/#def-state_triggers","text":"\u65e0 \u53c2\u6570   @ property   def   state _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   not   t   .   super   and   t   .   state   is   not   None   ]","title":"def   state _ triggers"},{"location":"api/ayaka/ayaka/#def-no_state_triggers","text":"\u65e0 \u53c2\u6570   @ property   def   no _ state _ triggers   (   self   ) :   return   [   t   for   t   in   self   .   triggers   if   not   t   .   super   and   t   .   state   is   None   ]","title":"def   no _ state _ triggers"},{"location":"api/ayaka/ayaka/#def-intro","text":"\u83b7\u53d6 \u4ecb\u7ecd \uff0c \u4e5f \u5c31\u662f init \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   \u65e0 \u53c2\u6570   @ property   def   intro   (   self   ) :   ' ' ' \u83b7\u53d6 \u4ecb\u7ecd \uff0c \u4e5f \u5c31\u662f init \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 ' ' '   helps   =   self   .   _ help   .   get   (   INIT _ STATE   ,   [   \" \u6ca1\u6709 \u627e\u5230 \u5e2e\u52a9 \"   ] )   return   \"   \\ n   \"   .   join   (   helps   )","title":"def   intro"},{"location":"api/ayaka/ayaka/#def-get_helps","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state :   str   def   get _ helps   (   self   ,   state   :   str   ) :   helps   =   self   .   _ help   .   get   (   state   )   if   not   helps   :   return   [ ]   return   [   f   \" [   {   state   }   ] \"   ]   +   helps","title":"def   get _ helps"},{"location":"api/ayaka/ayaka/#def-help","text":"\u83b7\u53d6 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 \uff0c \u6ca1\u6709 \u627e\u5230 \u5219 \u8fd4\u56de \u4ecb\u7ecd   \u65e0 \u53c2\u6570   @ property   def   help   (   self   ) :   ' ' ' \u83b7\u53d6 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 \uff0c \u6ca1\u6709 \u627e\u5230 \u5219 \u8fd4\u56de \u4ecb\u7ecd ' ' '   if   self   .   group   .   running _ app _ name   = =   self   .   name   :   helps   =   [ ]   state   =   self   .   state   helps   .   extend   (   self   .   get _ helps   (   state   ) )   while   \" . \"   in   state   :   state   =   state   .   rsplit   (   \" . \"   ,   1   ) [   0   ]   helps   .   extend   (   self   .   get _ helps   (   state   ) )   helps   .   extend   (   self   .   get _ helps   (   \" * \"   ) )   if   helps   :   return   \"   \\ n   \"   .   join   (   helps   )   return   self   .   intro","title":"def   help"},{"location":"api/ayaka/ayaka/#def-all_help","text":"\u83b7\u53d6 \u4ecb\u7ecd \u4ee5\u53ca \u5168\u90e8 \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   \u65e0 \u53c2\u6570   @ property   def   all _ help   (   self   ) :   ' ' ' \u83b7\u53d6 \u4ecb\u7ecd \u4ee5\u53ca \u5168\u90e8 \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9 ' ' '   info   =   self   .   intro   for   k   ,   v   in   self   .   _ help   .   items   ( ) :   v   =   \"   \\ n   \"   .   join   (   v   )   if   k   ! =   INIT _ STATE   :   info   + =   f   \"   \\ n   [   {   k   }   ]   \\ n   {   v   }   \"   return   info","title":"def   all _ help"},{"location":"api/ayaka/ayaka/#def-help_1","text":"\u8bbe\u7f6e \u5e2e\u52a9 \uff0c \u82e5 help \u4e3a str \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u4ecb\u7ecd \uff0c \u82e5 help \u4e3a dict \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u7684 \u5e2e\u52a9   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   help :   Union [ str ,   Dict [ str ,   str ] ]   @ help   .   setter   def   help   (   self   ,   help   :   Union   [   str   ,   Dict   [   str   ,   str   ] ] ) :   ' ' ' \u8bbe\u7f6e \u5e2e\u52a9 \uff0c \u82e5 help \u4e3a str \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u4ecb\u7ecd \uff0c \u82e5 help \u4e3a dict \uff0c \u5219 \u8bbe\u7f6e \u4e3a \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u7684 \u5e2e\u52a9 ' ' '   if   isinstance   (   help   ,   dict   ) :   help   =   {   k   :   [   v   .   strip   ( ) ]   for   k   ,   v   in   help   .   items   ( ) }   self   .   _ help   .   update   (   help   )   else   :   self   .   _ help   [   INIT _ STATE   ]   =   [   help   .   strip   ( ) ]","title":"def   help"},{"location":"api/ayaka/ayaka/#def-valid","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d app \u662f\u5426 \u88ab \u5f53\u524d \u7fa4\u7ec4 \u542f\u7528   \u65e0 \u53c2\u6570   @ property   def   valid   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d app \u662f\u5426 \u88ab \u5f53\u524d \u7fa4\u7ec4 \u542f\u7528   ' ' '   return   self   .   group   .   get _ app   (   self   .   name   )","title":"def   valid"},{"location":"api/ayaka/ayaka/#def-cache","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4 \u3001 \u5f53\u524d app \u7684 \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   \u65e0 \u53c2\u6570   @ property   def   cache   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4 \u3001 \u5f53\u524d app \u7684 \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   ' ' '   return   self   .   group   .   cache _ dict   .   get   (   self   .   name   )","title":"def   cache"},{"location":"api/ayaka/ayaka/#def-user_name","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0   \u65e0 \u53c2\u6570   @ property   def   user _ name   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0   ' ' '   s   =   self   .   event   .   sender   name   =   s   .   card   or   s   .   nickname   return   name","title":"def   user _ name"},{"location":"api/ayaka/ayaka/#def-user_id","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 uid   \u65e0 \u53c2\u6570   @ property   def   user _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u4eba \u7684 uid   ' ' '   return   self   .   event   .   user _ id","title":"def   user _ id"},{"location":"api/ayaka/ayaka/#def-bot","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d bot   \u65e0 \u53c2\u6570   @ property   def   bot   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d bot   ' ' '   return   _ bot   .   get   ( )","title":"def   bot"},{"location":"api/ayaka/ayaka/#def-event","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f   \u65e0 \u53c2\u6570   @ property   def   event   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f   ' ' '   return   _ event   .   get   ( )","title":"def   event"},{"location":"api/ayaka/ayaka/#def-group_id","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4 \u7684 id   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A \u7684 id   \u65e0 \u53c2\u6570   @ property   def   group _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4 \u7684 id   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A \u7684 id   ' ' '   return   self   .   group   .   group _ id","title":"def   group _ id"},{"location":"api/ayaka/ayaka/#def-bot_id","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d bot \u7684 id   \u65e0 \u53c2\u6570   @ property   def   bot _ id   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d bot \u7684 id   ' ' '   return   self   .   group   .   bot _ id","title":"def   bot _ id"},{"location":"api/ayaka/ayaka/#def-group","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u7fa4\u7ec4   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A   \u65e0 \u53c2\u6570   @ property   def   group   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u7fa4\u7ec4   \u6ce8 \uff1a \u82e5 \u7fa4\u804a A \u6b63 \u76d1\u542c \u79c1\u804a B \uff0c \u5f53 \u79c1\u804a B \u53d1\u9001 \u6d88\u606f \u89e6\u53d1 \u63d2\u4ef6 \u56de\u8c03 \u65f6 \uff0c \u8be5 \u5c5e\u6027 \u4ecd \u53ef \u6b63\u786e \u8fd4\u56de \u7fa4\u804a A   ' ' '   return   _ group   .   get   ( )","title":"def   group"},{"location":"api/ayaka/ayaka/#def-arg","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \u7684 \u5269\u4f59 \u90e8\u5206   \u65e0 \u53c2\u6570   @ property   def   arg   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \u7684 \u5269\u4f59 \u90e8\u5206   ' ' '   return   _ arg   .   get   ( )","title":"def   arg"},{"location":"api/ayaka/ayaka/#def-args","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \uff0c \u5269\u4f59 \u90e8\u5206 \u6309\u7167 \u7a7a\u683c \u5206\u5272 \u540e \u7684 \u6570\u7ec4   \u6ce8 \uff1a \u9664\u4e86 \u6587\u5b57 \u6d88\u606f \u5916 \uff0c \u5176\u4ed6 \u6d88\u606f \u7c7b\u578b \u5c06 \u81ea\u52a8 \u5206\u5272 \uff0c \u4f8b\u5982 \u4e00\u4e32 qq \u8868\u60c5 \u4f1a \u88ab \u5206\u5272 \u4e3a \u591a\u4e2a \u5143\u7d20   \u65e0 \u53c2\u6570   @ property   def   args   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u5728 \u79fb \u9664\u4e86 \u547d\u4ee4 \u540e \uff0c \u5269\u4f59 \u90e8\u5206 \u6309\u7167 \u7a7a\u683c \u5206\u5272 \u540e \u7684 \u6570\u7ec4   \u6ce8 \uff1a \u9664\u4e86 \u6587\u5b57 \u6d88\u606f \u5916 \uff0c \u5176\u4ed6 \u6d88\u606f \u7c7b\u578b \u5c06 \u81ea\u52a8 \u5206\u5272 \uff0c \u4f8b\u5982 \u4e00\u4e32 qq \u8868\u60c5 \u4f1a \u88ab \u5206\u5272 \u4e3a \u591a\u4e2a \u5143\u7d20   ' ' '   return   _ args   .   get   ( )","title":"def   args"},{"location":"api/ayaka/ayaka/#def-cmd","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f \u7684 \u547d\u4ee4 \u5934   \u65e0 \u53c2\u6570   @ property   def   cmd   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f \u7684 \u547d\u4ee4 \u5934   ' ' '   return   _ cmd   .   get   ( )","title":"def   cmd"},{"location":"api/ayaka/ayaka/#def-message","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5f53\u524d \u6d88\u606f   \u65e0 \u53c2\u6570   @ property   def   message   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5f53\u524d \u6d88\u606f   ' ' '   return   _ message   .   get   ( )","title":"def   message"},{"location":"api/ayaka/ayaka/#async-def-start","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u542f\u52a8 \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state   async   def   start   (   self   ,   state   =   INIT _ STATE   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u542f\u52a8 \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a ' ' '   name   =   self   .   group   .   running _ app _ name   if   name   and   name   ! =   self   .   name   :   await   self   .   send   (   \" \u6253\u5f00 \u5e94\u7528 \u5931\u8d25 \"   )   return   False   self   .   group   .   running _ app   =   self   self   .   state   =   state   await   self   .   send   (   f   \" \u5df2 \u6253\u5f00 \u5e94\u7528   [   {   self   .   name   }   ] \"   )   return   True","title":"async   def   start"},{"location":"api/ayaka/ayaka/#async-def-close","text":"timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528   \u5173\u95ed \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a   \u65e0 \u53c2\u6570   async   def   close   (   self   ) :   ' ' ' * timer \u89e6\u53d1 \u65f6 \u4e0d\u53ef \u7528 *   \u5173\u95ed \u5e94\u7528 \uff0c \u5e76 \u53d1\u9001 \u63d0\u793a ' ' '   name   =   self   .   group   .   running _ app _ name   if   name   :   self   .   group   .   running _ app   =   None   await   self   .   send   (   f   \" \u5df2 \u5173\u95ed \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   self   .   send   (   f   \" \u6ca1\u6709 \u5e94\u7528 \u5728 \u8fd0\u884c \"   )","title":"async   def   close"},{"location":"api/ayaka/ayaka/#def-set_state","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   state   def   set _ state   (   self   ,   state   =   INIT _ STATE   ) :   self   .   state   =   state","title":"def   set _ state"},{"location":"api/ayaka/ayaka/#def-add_listener","text":"\u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u6307\u5b9a \u79c1\u804a \u7684 \u76d1\u542c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   user _ id :   int   def   add _ listener   (   self   ,   user _ id   :   int   ) :   ' ' ' \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u6307\u5b9a \u79c1\u804a \u7684 \u76d1\u542c ' ' '   private _ listener _ dict   [   user _ id   ]   .   append   (   self   .   group _ id   )","title":"def   add _ listener"},{"location":"api/ayaka/ayaka/#def-remove_listener","text":"\u9ed8\u8ba4 \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u5176\u4ed6 \u79c1\u804a \u7684 \u6240\u6709 \u76d1\u542c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   user _ id :   int   def   remove _ listener   (   self   ,   user _ id   :   int   =   0   ) :   ' ' ' \u9ed8\u8ba4 \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u5176\u4ed6 \u79c1\u804a \u7684 \u6240\u6709 \u76d1\u542c ' ' '   id   =   self   .   group _ id   if   user _ id   = =   0   :   for   ids   in   private _ listener _ dict   .   values   ( ) :   if   id   in   ids   :   ids   .   remove   (   id   )   return   if   id   in   private _ listener _ dict   [   user _ id   ] :   private _ listener _ dict   [   user _ id   ]   .   remove   (   self   .   group _ id   )","title":"def   remove _ listener"},{"location":"api/ayaka/ayaka/#async-def-send","text":"\u53d1\u9001 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   Message   |   MessageSegment   |   str   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message   async   def   send   (   self   ,   message   ) :   ' ' ' \u53d1\u9001 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   Message   |   MessageSegment   |   str ' ' '   #   \u8fd9\u91cc \u4e0d \u4f7f\u7528 event \uff0c \u56e0\u4e3a \u4e00\u4e9b event \u53ef\u80fd \u6765\u81ea \u5176\u4ed6 \u8bbe\u5907 \u7684 \u76d1\u542c \u4f20\u9012   await   self   .   bot   .   send _ group _ msg   (   group _ id   =   self   .   group _ id   ,   message   =   message   )","title":"async   def   send"},{"location":"api/ayaka/ayaka/#def-pack_messages","text":"\u8f6c\u6362 \u4e3a cqhttp   node \u683c\u5f0f   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id   messages   def   pack _ messages   (   self   ,   bot _ id   ,   messages   ) :   ' ' ' \u8f6c\u6362 \u4e3a cqhttp   node \u683c\u5f0f ' ' '   data   :   List   [   MessageSegment   ]   =   [ ]   for   m   in   messages   :   if   isinstance   (   m   ,   MessageSegment   ) :   data   .   append   (   m   )   else   :   m   =   MessageSegment   .   node _ custom   (   user _ id   =   bot _ id   ,   nickname   =   \" Ayaka   Bot \"   ,   content   =   str   (   m   )   )   data   .   append   (   m   )   return   data","title":"def   pack _ messages"},{"location":"api/ayaka/ayaka/#async-def-send_many","text":"\u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   List [ Message   |   MessageSegment   |   str ]   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   messages   async   def   send _ many   (   self   ,   messages   ) :   ' ' ' \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f \uff0c \u6d88\u606f \u7684 \u7c7b\u578b \u53ef\u4ee5 \u662f   List [ Message   |   MessageSegment   |   str ] ' ' '   #   \u5206\u5272 \u957f \u6d88\u606f \u7ec4 \uff08 \u4e0d\u53ef \u8d85\u8fc7 100 \u6761 \uff09 \u8c28\u614e \u8d77 \u89c1 \uff0c \u4f7f\u7528 80 \u4f5c\u4e3a \u5355\u5143 \u957f\u5ea6   div _ len   =   80   div _ cnt   =   ceil   (   len   (   messages   )   /   div _ len   )   for   i   in   range   (   div _ cnt   ) :   msgs   =   self   .   pack _ messages   (   self   .   bot _ id   ,   messages   [   i   *   div _ len   :   (   i   +   1   )   *   div _ len   ]   )   await   self   .   bot   .   call _ api   (   \" send _ group _ forward _ msg \"   ,   group _ id   =   self   .   group _ id   ,   messages   =   msgs   )","title":"async   def   send _ many"},{"location":"api/ayaka/ayaka/#def-t_check","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   t _ check   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ) :   #   \u672a \u8fde\u63a5   bot   =   get _ bot   (   bot _ id   )   if   not   bot   :   logger   .   warning   (   f   \" BOT (   {   bot _ id   }   )   \u672a \u8fde\u63a5 \"   )   return   #   \u5df2 \u7981\u7528   group   =   get _ group   (   bot _ id   ,   group _ id   )   app   =   group   .   get _ app   (   self   .   name   )   if   not   app   :   logger   .   warning   (   f   \" \u7fa4\u804a (   {   group _ id   }   )   \u5df2 \u7981\u7528   {   self   .   name   }   \"   )   return   return   bot","title":"def   t _ check"},{"location":"api/ayaka/ayaka/#async-def-t_send","text":"timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   message   async   def   t _ send   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ,   message   ) :   ' ' ' timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528 ' ' '   bot   =   self   .   t _ check   (   bot _ id   ,   group _ id   )   if   not   bot   :   return   await   bot   .   send _ group _ msg   (   group _ id   =   group _ id   ,   message   =   message   )","title":"async   def   t _ send"},{"location":"api/ayaka/ayaka/#async-def-t_send_many","text":"timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   messages   async   def   t _ send _ many   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   ,   messages   ) :   ' ' ' timer \u89e6\u53d1 \u56de\u8c03 \u65f6 \uff0c \u60f3\u8981 \u53d1\u9001 \u6d88\u606f \u5fc5\u987b \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u4e00\u4e9b \u4e0a\u4e0b \u4e0b\u6587 \u4e0a\u4e0b\u6587 \u4ea6 \u65e0\u6cd5 \u4f7f\u7528 ' ' '   bot   =   self   .   t _ check   (   bot _ id   ,   group _ id   )   if   not   bot   :   return   #   \u5206\u5272 \u957f \u6d88\u606f \u7ec4 \uff08 \u4e0d\u53ef \u8d85\u8fc7 100 \u6761 \uff09 \u8c28\u614e \u8d77 \u89c1 \uff0c \u4f7f\u7528 80 \u4f5c\u4e3a \u5355\u5143 \u957f\u5ea6   div _ len   =   80   div _ cnt   =   ceil   (   len   (   messages   )   /   div _ len   )   for   i   in   range   (   div _ cnt   ) :   msgs   =   self   .   pack _ messages   (   bot _ id   ,   messages   [   i   *   div _ len   :   (   i   +   1   )   *   div _ len   ]   )   await   bot   .   call _ api   (   \" send _ group _ forward _ msg \"   ,   group _ id   =   group _ id   ,   messages   =   msgs   )","title":"async   def   t _ send _ many"},{"location":"api/ayaka/ayaka/#async-def-startup","text":"\u65e0 \u53c2\u6570   @ driver   .   on _ startup   async   def   startup   ( ) :   app _ list   .   sort   (   key   =   lambda   x   :   x   .   name   )   await   init _ chrome   ( )","title":"async   def   startup"},{"location":"api/ayaka/ayaka/#async-def-shutdown","text":"\u65e0 \u53c2\u6570   @ driver   .   on _ shutdown   async   def   shutdown   ( ) :   await   close _ chrome   ( )","title":"async   def   shutdown"},{"location":"api/ayaka/ayaka/#async-def-bot_connect","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   @ driver   .   on _ bot _ connect   async   def   bot _ connect   (   bot   :   Bot   ) :   bot _ list   .   append   (   bot   )   #   \u5728 \u4e00\u5207 \u51c6\u5907 \u5c31\u7eea \u51c6\u5907\u5c31\u7eea \u540e \uff0c \u5f00\u542f \u63d2\u4ef6 \u4e2d \u7684 \u5b9a\u65f6 \u6a21\u5757   global   first _ bot _ connect   if   first _ bot _ connect   :   first _ bot _ connect   =   False   for   app   in   app _ list   :   for   t   in   app   .   timers   :   t   .   start   ( )","title":"async   def   bot _ connect"},{"location":"api/ayaka/ayaka/#async-def-bot_disconnect","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   @ driver   .   on _ bot _ disconnect   async   def   bot _ disconnect   (   bot   :   Bot   ) :   bot _ list   .   remove   (   bot   )","title":"async   def   bot _ disconnect"},{"location":"api/ayaka/ayaka/#global-vars","text":"driver   =   get _ driver   ( )   first _ bot _ connect   =   True","title":"global   vars"},{"location":"api/ayaka/ayaka/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/ayaka_master/","text":"async   def   permit   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u542f\u7528 \"   ,   \" permit \"   )   async   def   permit   ( ) :   ' ' '   ' ' '   if   not   app   .   args   :   await   app   .   send   (   \" \u53c2\u6570 \u7f3a\u5931 \"   )   return   name   =   str   (   app   .   args   [   0   ] )   f   =   app   .   group   .   permit _ app   (   name   )   if   f   :   await   app   .   send   (   f   \" \u5df2 \u542f\u7528 \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   async   def   forbid   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u7981\u7528 \"   ,   \" forbid \"   )   async   def   forbid   ( ) :   ' ' '   ' ' '   if   not   app   .   args   :   await   app   .   send   (   \" \u53c2\u6570 \u7f3a\u5931 \"   )   return   name   =   str   (   app   .   args   [   0   ] )   f   =   app   .   group   .   forbid _ app   (   name   )   if   f   :   await   app   .   send   (   f   \" \u5df2 \u7981\u7528 \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   async   def   show _ plugins   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u63d2\u4ef6 \"   ,   \" plugin \"   ,   \" plugins \"   )   async   def   show _ plugins   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   #   \u6ca1\u6709 \u5e94\u7528 \u6b63\u5728 \u8fd0\u884c   if   not   _ app   :   #   \u67e5\u8be2 \u6307\u5b9a \u5e94\u7528 \u7684 \u8be6\u7ec6 \u5e2e\u52a9   if   app   .   args   :   name   =   str   (   app   .   args   [   0   ] )   _ app   =   app   .   group   .   get _ app   (   name   )   if   not   _ app   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   return   #   \u8be6\u7ec6 \u5e2e\u52a9   await   app   .   send   (   _ app   .   all _ help   )   return   #   \u5c55\u793a \u6240\u6709 \u5e94\u7528   items   =   [ ]   for   _ app   in   app _ list   :   s   =   \" \"   if   not   _ app   .   valid   :   s   =   \" [ \u5df2 \u7981\u7528 ]   \"   info   =   f   \" [   {   _ app   .   name   }   ]   {   s   }   \"   items   .   append   (   info   )   await   app   .   send   (   \"   \\ n   \"   .   join   (   items   ) )   async   def   show _ state   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u72b6\u6001 \"   ,   \" state \"   )   async   def   show _ state   ( ) :   ' ' '   ' ' '   name   =   app   .   group   .   running _ app _ name   if   not   name   :   await   app   .   send   (   \" \u5f53\u524d \u8bbe\u5907 \u5904\u4e8e \u95f2\u7f6e \u72b6\u6001 \"   )   return   info   =   f   \" \u6b63\u5728 \u8fd0\u884c \u5e94\u7528   [   {   name   }   |   {   app   .   group   .   running _ app   .   state   }   ] \"   await   app   .   send   (   info   )   async   def   show _ help   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u5e2e\u52a9 \"   ,   \" help \"   )   async   def   show _ help   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   #   \u6ca1\u6709 \u5e94\u7528 \u6b63\u5728 \u8fd0\u884c   if   not   _ app   :   #   \u67e5\u8be2 \u6307\u5b9a \u5e94\u7528 \u7684 \u8be6\u7ec6 \u5e2e\u52a9   if   app   .   args   :   name   =   str   (   app   .   args   [   0   ] )   _ app   =   app   .   group   .   get _ app   (   name   )   if   not   _ app   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   return   #   \u8be6\u7ec6 \u5e2e\u52a9   await   app   .   send   (   _ app   .   all _ help   )   return   #   \u5c55\u793a \u6240\u6709 \u5e94\u7528   items   =   [ ]   for   _ app   in   app _ list   :   info   =   f   \" [   {   _ app   .   name   }   ]   \\ n   {   _ app   .   intro   }   \"   items   .   append   (   info   )   await   app   .   send _ many   (   items   )   await   app   .   send   (   \" \u4f7f\u7528   \u5e2e\u52a9   < \u63d2\u4ef6 \u540d >   \u53ef\u4ee5 \u5c55\u793a \u8be5 \u63d2\u4ef6 \u7684 \u8be6\u7ec6 \u5e2e\u52a9 \u4fe1\u606f \"   )   return   #   \u5c55\u793a \u5f53\u524d \u5e94\u7528 \u5f53\u524d \u72b6\u6001 \u7684 \u5e2e\u52a9   await   app   .   send   (   _ app   .   help   )   async   def   force _ exit   \u00b6   \u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u5f3a\u5236 \u9000\u51fa \"   ,   \" force _ exit \"   )   async   def   force _ exit   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   if   _ app   :   await   _ app   .   close   ( )   global   vars   \u00b6   app   =   AyakaApp   (   \" ayaka _ master \"   )   app   .   help   =   ' ' ' ayaka \u7efc\u5408 \u7ba1\u7406 \u6a21\u5757 ' ' '   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"ayaka _ master"},{"location":"api/ayaka/ayaka_master/#async-def-permit","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u542f\u7528 \"   ,   \" permit \"   )   async   def   permit   ( ) :   ' ' '   ' ' '   if   not   app   .   args   :   await   app   .   send   (   \" \u53c2\u6570 \u7f3a\u5931 \"   )   return   name   =   str   (   app   .   args   [   0   ] )   f   =   app   .   group   .   permit _ app   (   name   )   if   f   :   await   app   .   send   (   f   \" \u5df2 \u542f\u7528 \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )","title":"async   def   permit"},{"location":"api/ayaka/ayaka_master/#async-def-forbid","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u7981\u7528 \"   ,   \" forbid \"   )   async   def   forbid   ( ) :   ' ' '   ' ' '   if   not   app   .   args   :   await   app   .   send   (   \" \u53c2\u6570 \u7f3a\u5931 \"   )   return   name   =   str   (   app   .   args   [   0   ] )   f   =   app   .   group   .   forbid _ app   (   name   )   if   f   :   await   app   .   send   (   f   \" \u5df2 \u7981\u7528 \u5e94\u7528   [   {   name   }   ] \"   )   else   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )","title":"async   def   forbid"},{"location":"api/ayaka/ayaka_master/#async-def-show_plugins","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u63d2\u4ef6 \"   ,   \" plugin \"   ,   \" plugins \"   )   async   def   show _ plugins   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   #   \u6ca1\u6709 \u5e94\u7528 \u6b63\u5728 \u8fd0\u884c   if   not   _ app   :   #   \u67e5\u8be2 \u6307\u5b9a \u5e94\u7528 \u7684 \u8be6\u7ec6 \u5e2e\u52a9   if   app   .   args   :   name   =   str   (   app   .   args   [   0   ] )   _ app   =   app   .   group   .   get _ app   (   name   )   if   not   _ app   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   return   #   \u8be6\u7ec6 \u5e2e\u52a9   await   app   .   send   (   _ app   .   all _ help   )   return   #   \u5c55\u793a \u6240\u6709 \u5e94\u7528   items   =   [ ]   for   _ app   in   app _ list   :   s   =   \" \"   if   not   _ app   .   valid   :   s   =   \" [ \u5df2 \u7981\u7528 ]   \"   info   =   f   \" [   {   _ app   .   name   }   ]   {   s   }   \"   items   .   append   (   info   )   await   app   .   send   (   \"   \\ n   \"   .   join   (   items   ) )","title":"async   def   show _ plugins"},{"location":"api/ayaka/ayaka_master/#async-def-show_state","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u72b6\u6001 \"   ,   \" state \"   )   async   def   show _ state   ( ) :   ' ' '   ' ' '   name   =   app   .   group   .   running _ app _ name   if   not   name   :   await   app   .   send   (   \" \u5f53\u524d \u8bbe\u5907 \u5904\u4e8e \u95f2\u7f6e \u72b6\u6001 \"   )   return   info   =   f   \" \u6b63\u5728 \u8fd0\u884c \u5e94\u7528   [   {   name   }   |   {   app   .   group   .   running _ app   .   state   }   ] \"   await   app   .   send   (   info   )","title":"async   def   show _ state"},{"location":"api/ayaka/ayaka_master/#async-def-show_help","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u5e2e\u52a9 \"   ,   \" help \"   )   async   def   show _ help   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   #   \u6ca1\u6709 \u5e94\u7528 \u6b63\u5728 \u8fd0\u884c   if   not   _ app   :   #   \u67e5\u8be2 \u6307\u5b9a \u5e94\u7528 \u7684 \u8be6\u7ec6 \u5e2e\u52a9   if   app   .   args   :   name   =   str   (   app   .   args   [   0   ] )   _ app   =   app   .   group   .   get _ app   (   name   )   if   not   _ app   :   await   app   .   send   (   f   \" \u5e94\u7528 \u4e0d \u5b58\u5728   [   {   name   }   ] \"   )   return   #   \u8be6\u7ec6 \u5e2e\u52a9   await   app   .   send   (   _ app   .   all _ help   )   return   #   \u5c55\u793a \u6240\u6709 \u5e94\u7528   items   =   [ ]   for   _ app   in   app _ list   :   info   =   f   \" [   {   _ app   .   name   }   ]   \\ n   {   _ app   .   intro   }   \"   items   .   append   (   info   )   await   app   .   send _ many   (   items   )   await   app   .   send   (   \" \u4f7f\u7528   \u5e2e\u52a9   < \u63d2\u4ef6 \u540d >   \u53ef\u4ee5 \u5c55\u793a \u8be5 \u63d2\u4ef6 \u7684 \u8be6\u7ec6 \u5e2e\u52a9 \u4fe1\u606f \"   )   return   #   \u5c55\u793a \u5f53\u524d \u5e94\u7528 \u5f53\u524d \u72b6\u6001 \u7684 \u5e2e\u52a9   await   app   .   send   (   _ app   .   help   )","title":"async   def   show _ help"},{"location":"api/ayaka/ayaka_master/#async-def-force_exit","text":"\u65e0 \u53c2\u6570   @ app   .   on   .   idle   (   super   =   True   )   @ app   .   on   .   command   (   \" \u5f3a\u5236 \u9000\u51fa \"   ,   \" force _ exit \"   )   async   def   force _ exit   ( ) :   ' ' '   ' ' '   _ app   =   app   .   group   .   running _ app   if   _ app   :   await   _ app   .   close   ( )","title":"async   def   force _ exit"},{"location":"api/ayaka/ayaka_master/#global-vars","text":"app   =   AyakaApp   (   \" ayaka _ master \"   )   app   .   help   =   ' ' ' ayaka \u7efc\u5408 \u7ba1\u7406 \u6a21\u5757 ' ' '","title":"global   vars"},{"location":"api/ayaka/ayaka_master/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/cache/","text":"class   AyakaCacheCtrl   \u00b6   ayaka \u7f13\u5b58 \u63a7\u5236 \u63a7\u5236\u5668 \uff0c \u5176 \u6570\u636e \u7a7a\u95f4 \u5728 \u5404 \u7fa4\u7ec4 \u3001 \u5404 \u63d2\u4ef6 \u95f4 \u76f8\u4e92 \u72ec\u7acb   def   __ repr __   \u00b6   \u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaCacheCtrl (   {   self   .   get   ( )   }   ) \"   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   __ init __   (   self   ,   data   =   None   ,   *   keys   )   - >   None   :   self   .   _ data   =   { }   if   data   is   None   else   data   self   .   _ keys   =   [   str   (   k   )   for   k   in   keys   ]   def   _ load   \u00b6   \u65e0 \u53c2\u6570   def   _ load   (   self   ) :   return   self   .   _ data   def   _ save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   self   .   _ data   =   data   def   chain   \u00b6   \u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaCacheCtrl   (   self   .   _ data   ,   *   self   .   _ keys   ,   *   keys   )   def   __ getattr __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   k   def   __ getattr __   (   self   ,   k   ) :   return   self   .   chain   (   k   )   .   get   ( )   def   __ setattr __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   k   v   def   __ setattr __   (   self   ,   k   ,   v   ) :   if   k   in   [   \" _ data \"   ,   \" _ keys \"   ] :   super   ( )   .   __ setattr __   (   k   ,   v   )   else   :   self   .   chain   (   k   )   .   set   (   v   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"cache"},{"location":"api/ayaka/cache/#class-ayakacachectrl","text":"ayaka \u7f13\u5b58 \u63a7\u5236 \u63a7\u5236\u5668 \uff0c \u5176 \u6570\u636e \u7a7a\u95f4 \u5728 \u5404 \u7fa4\u7ec4 \u3001 \u5404 \u63d2\u4ef6 \u95f4 \u76f8\u4e92 \u72ec\u7acb","title":"class   AyakaCacheCtrl"},{"location":"api/ayaka/cache/#def-__repr__","text":"\u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaCacheCtrl (   {   self   .   get   ( )   }   ) \"","title":"def   __ repr __"},{"location":"api/ayaka/cache/#def-__init__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   __ init __   (   self   ,   data   =   None   ,   *   keys   )   - >   None   :   self   .   _ data   =   { }   if   data   is   None   else   data   self   .   _ keys   =   [   str   (   k   )   for   k   in   keys   ]","title":"def   __ init __"},{"location":"api/ayaka/cache/#def-_load","text":"\u65e0 \u53c2\u6570   def   _ load   (   self   ) :   return   self   .   _ data","title":"def   _ load"},{"location":"api/ayaka/cache/#def-_save","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   self   .   _ data   =   data","title":"def   _ save"},{"location":"api/ayaka/cache/#def-chain","text":"\u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaCacheCtrl   (   self   .   _ data   ,   *   self   .   _ keys   ,   *   keys   )","title":"def   chain"},{"location":"api/ayaka/cache/#def-__getattr__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   k   def   __ getattr __   (   self   ,   k   ) :   return   self   .   chain   (   k   )   .   get   ( )","title":"def   __ getattr __"},{"location":"api/ayaka/cache/#def-__setattr__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   k   v   def   __ setattr __   (   self   ,   k   ,   v   ) :   if   k   in   [   \" _ data \"   ,   \" _ keys \"   ] :   super   ( )   .   __ setattr __   (   k   ,   v   )   else   :   self   .   chain   (   k   )   .   set   (   v   )","title":"def   __ setattr __"},{"location":"api/ayaka/cache/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/config/","text":"global   vars   \u00b6   INIT _ STATE   =   \" init \"   AYAKA _ DEBUG   =   0   driver   =   get _ driver   ( )   prefix   =   getattr   (   driver   .   config   ,   \" ayaka _ prefix \"   ,   None   )   sep   =   getattr   (   driver   .   config   ,   \" ayaka _ separate \"   ,   None   )   exclude _ old   =   getattr   (   driver   .   config   ,   \" ayaka _ exclude _ old \"   ,   True   )   fastapi _ reload   =   getattr   (   driver   .   config   ,   \" fastapi _ reload \"   ,   True   )   running _ on _ windows   =   platform   .   system   ( )   = =   \" Windows \"   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"config"},{"location":"api/ayaka/config/#global-vars","text":"INIT _ STATE   =   \" init \"   AYAKA _ DEBUG   =   0   driver   =   get _ driver   ( )   prefix   =   getattr   (   driver   .   config   ,   \" ayaka _ prefix \"   ,   None   )   sep   =   getattr   (   driver   .   config   ,   \" ayaka _ separate \"   ,   None   )   exclude _ old   =   getattr   (   driver   .   config   ,   \" ayaka _ exclude _ old \"   ,   True   )   fastapi _ reload   =   getattr   (   driver   .   config   ,   \" fastapi _ reload \"   ,   True   )   running _ on _ windows   =   platform   .   system   ( )   = =   \" Windows \"","title":"global   vars"},{"location":"api/ayaka/config/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/constant/","text":"global   vars   \u00b6   _ bot   :   ContextVar   [   Bot   ]   =   ContextVar   (   \" _ bot \"   )   _ event   :   ContextVar   [   MessageEvent   ]   =   ContextVar   (   \" _ event \"   )   _ group   :   ContextVar   [   \" AyakaGroup \"   ]   =   ContextVar   (   \" _ group \"   )   _ arg   :   ContextVar   [   Message   ]   =   ContextVar   (   \" _ arg \"   )   _ args   :   ContextVar   [   List   [   MessageSegment   ] ]   =   ContextVar   (   \" _ args \"   )   _ message   :   ContextVar   [   Message   ]   =   ContextVar   (   \" _ message \"   )   _ cmd   :   ContextVar   [   str   ]   =   ContextVar   (   \" _ cmd \"   )   app _ list   :   List   [   \" AyakaApp \"   ]   =   [ ]   group _ list   :   List   [   \" AyakaGroup \"   ]   =   [ ]   bot _ list   :   List   [   Bot   ]   =   [ ]   private _ listener _ dict   :   Dict   [   int   ,   List   [   int   ] ]   =   defaultdict   (   list   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"constant"},{"location":"api/ayaka/constant/#global-vars","text":"_ bot   :   ContextVar   [   Bot   ]   =   ContextVar   (   \" _ bot \"   )   _ event   :   ContextVar   [   MessageEvent   ]   =   ContextVar   (   \" _ event \"   )   _ group   :   ContextVar   [   \" AyakaGroup \"   ]   =   ContextVar   (   \" _ group \"   )   _ arg   :   ContextVar   [   Message   ]   =   ContextVar   (   \" _ arg \"   )   _ args   :   ContextVar   [   List   [   MessageSegment   ] ]   =   ContextVar   (   \" _ args \"   )   _ message   :   ContextVar   [   Message   ]   =   ContextVar   (   \" _ message \"   )   _ cmd   :   ContextVar   [   str   ]   =   ContextVar   (   \" _ cmd \"   )   app _ list   :   List   [   \" AyakaApp \"   ]   =   [ ]   group _ list   :   List   [   \" AyakaGroup \"   ]   =   [ ]   bot _ list   :   List   [   Bot   ]   =   [ ]   private _ listener _ dict   :   Dict   [   int   ,   List   [   int   ] ]   =   defaultdict   (   list   )","title":"global   vars"},{"location":"api/ayaka/constant/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/deal/","text":"def   get _ bot   \u00b6   \u83b7\u53d6 \u5df2 \u8fde\u63a5 \u7684 bot   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   def   get _ bot   (   bot _ id   :   int   ) :   ' ' ' \u83b7\u53d6 \u5df2 \u8fde\u63a5 \u7684 bot ' ' '   bot _ id   =   str   (   bot _ id   )   for   bot   in   bot _ list   :   if   bot   .   self _ id   = =   bot _ id   :   return   bot   def   get _ group   \u00b6   \u83b7\u53d6 \u5bf9\u5e94 \u7684 AyakaGroup \u5bf9\u8c61 \uff0c \u81ea\u52a8 \u589e\u52a0   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   get _ group   (   bot _ id   :   int   ,   group _ id   :   int   ) :   ' ' ' \u83b7\u53d6 \u5bf9\u5e94 \u7684 AyakaGroup \u5bf9\u8c61 \uff0c \u81ea\u52a8 \u589e\u52a0 ' ' '   for   group   in   group _ list   :   if   group   .   bot _ id   = =   bot _ id   and   group   .   group _ id   = =   group _ id   :   break   else   :   group   =   AyakaGroup   (   bot _ id   ,   group _ id   )   return   group   async   def   deal _ event   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   event :   MessageEvent   async   def   deal _ event   (   bot   :   Bot   ,   event   :   MessageEvent   ) :   if   exclude _ old   :   time _ i   =   int   (   datetime   .   datetime   .   now   ( )   .   timestamp   ( ) )   if   event   .   time   <   time _ i   -   60   :   return   _ bot   .   set   (   bot   )   _ event   .   set   (   event   )   bot _ id   =   int   (   bot   .   self _ id   )   if   isinstance   (   event   ,   GroupMessageEvent   ) :   group _ id   =   event   .   group _ id   await   deal _ group   (   bot _ id   ,   group _ id   )   else   :   id   =   event   .   user _ id   group _ ids   =   private _ listener _ dict   .   get   (   id   ,   [ ] )   ts   =   [   asyncio   .   create _ task   (   deal _ group   (   bot _ id   ,   group _ id   ) )   for   group _ id   in   group _ ids   ]   await   asyncio   .   gather   (   *   ts   )   async   def   deal _ group   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   async   def   deal _ group   (   bot _ id   :   int   ,   group _ id   :   int   ) :   #   \u7fa4\u7ec4   group   =   get _ group   (   bot _ id   ,   group _ id   )   _ group   .   set   (   group   )   #   \u6d88\u606f   message   =   _ event   .   get   ( )   .   message   _ message   .   set   (   message   )   #   \u547d\u4ee4 \u3001 \u53c2\u6570   cmd   =   get _ cmd   (   message   )   _ cmd   .   set   (   cmd   )   #   \u8ba9 super \u5148\u6765   triggers   =   [ ]   for   app   in   group   .   apps   :   for   t   in   app   .   super _ triggers   :   triggers   .   append   (   t   )   #   \u82e5 \u6267\u884c \u4e86 super \u547d\u4ee4 \uff0c \u5219 \u9000\u51fa   if   await   deal _ triggers   (   triggers   ) :   return   #   \u666e\u901a \u547d\u4ee4 \u7ee7\u7eed   triggers   =   [ ]   #   \u5f53\u524d \u6b63\u5728 \u8fd0\u884c   app   =   group   .   running _ app   if   app   :   for   t   in   app   .   state _ triggers   :   if   t   .   state   = =   \" * \"   :   triggers   .   append   (   t   )   else   :   #   \u5b50 \u72b6\u6001   #   s1   =   \u6dfb\u52a0 .   #   s2   =   \u6dfb\u52a0 . \u59d3\u540d .   s1   =   t   .   state   +   \" . \"   s2   =   app   .   state   +   \" . \"   if   s2   .   startswith   (   s1   ) :   triggers   .   append   (   t   )   #   \u5176\u4ed6 \u684c\u9762 \u5e94\u7528   else   :   for   app   in   group   .   apps   :   for   t   in   app   .   no _ state _ triggers   :   triggers   .   append   (   t   )   await   deal _ triggers   (   triggers   )   async   def   deal _ triggers   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   triggers :   List [ AyakaTrigger ]   async   def   deal _ triggers   (   triggers   :   List   [   AyakaTrigger   ] ) :   triggers   .   sort   (   key   =   lambda   t   :   str   (   t   .   state   ) ,   reverse   =   True   )   cmd   =   _ cmd   .   get   ( )   msg   =   _ message   .   get   ( )   #   \u547d\u4ee4   if   cmd   :   for   t   in   triggers   :   if   t   .   cmd   = =   cmd   :   #   \u8bbe\u7f6e \u53bb\u6389 \u547d\u4ee4 \u540e \u7684 \u6d88\u606f   arg   =   remove _ cmd   (   cmd   ,   msg   )   _ arg   .   set   (   arg   )   _ args   .   set   (   divide _ message   (   arg   ) )   await   t   .   run   ( )   return   True   _ arg   .   set   (   msg   )   _ args   .   set   (   divide _ message   (   msg   ) )   #   \u547d\u4ee4 \u9000\u5316 \u6210 \u6d88\u606f   for   t   in   triggers   :   if   not   t   .   cmd   :   await   t   .   run   ( )   def   get _ cmd   \u00b6   \u8fd4\u56de \u547d\u4ee4   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message :   Message   def   get _ cmd   (   message   :   Message   ) :   ' ' ' \u8fd4\u56de \u547d\u4ee4 ' ' '   first   =   \" \"   for   m   in   message   :   if   m   .   type   = =   \" text \"   :   first   + =   str   (   m   )   else   :   break   if   not   first   or   not   first   .   startswith   (   prefix   ) :   return   \" \"   first   + =   sep   return   first   .   split   (   sep   ,   1   ) [   0   ] [   len   (   prefix   ) : ]   def   divide _ message   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message :   Message   def   divide _ message   (   message   :   Message   ) :   args   :   List   [   MessageSegment   ]   =   [ ]   for   m   in   message   :   if   m   .   is _ text   ( ) :   ss   =   str   (   m   )   .   split   (   sep   )   args   .   extend   (   MessageSegment   .   text   (   s   )   for   s   in   ss   if   s   )   else   :   args   .   append   (   m   )   return   args   def   remove _ cmd   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   cmd :   str   message :   Message   def   remove _ cmd   (   cmd   :   str   ,   message   :   Message   ) :   m   =   message   [   0   ]   if   m   .   is _ text   ( ) :   m _ str   =   str   (   m   )   m _ str   =   m _ str   [   len   (   prefix   +   cmd   ) : ]   .   lstrip   (   sep   )   if   not   m _ str   :   message   .   pop   (   0   )   else   :   message   [   0   ]   =   MessageSegment   .   text   (   m _ str   )   return   message   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"deal"},{"location":"api/ayaka/deal/#def-get_bot","text":"\u83b7\u53d6 \u5df2 \u8fde\u63a5 \u7684 bot   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   def   get _ bot   (   bot _ id   :   int   ) :   ' ' ' \u83b7\u53d6 \u5df2 \u8fde\u63a5 \u7684 bot ' ' '   bot _ id   =   str   (   bot _ id   )   for   bot   in   bot _ list   :   if   bot   .   self _ id   = =   bot _ id   :   return   bot","title":"def   get _ bot"},{"location":"api/ayaka/deal/#def-get_group","text":"\u83b7\u53d6 \u5bf9\u5e94 \u7684 AyakaGroup \u5bf9\u8c61 \uff0c \u81ea\u52a8 \u589e\u52a0   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   get _ group   (   bot _ id   :   int   ,   group _ id   :   int   ) :   ' ' ' \u83b7\u53d6 \u5bf9\u5e94 \u7684 AyakaGroup \u5bf9\u8c61 \uff0c \u81ea\u52a8 \u589e\u52a0 ' ' '   for   group   in   group _ list   :   if   group   .   bot _ id   = =   bot _ id   and   group   .   group _ id   = =   group _ id   :   break   else   :   group   =   AyakaGroup   (   bot _ id   ,   group _ id   )   return   group","title":"def   get _ group"},{"location":"api/ayaka/deal/#async-def-deal_event","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot :   Bot   event :   MessageEvent   async   def   deal _ event   (   bot   :   Bot   ,   event   :   MessageEvent   ) :   if   exclude _ old   :   time _ i   =   int   (   datetime   .   datetime   .   now   ( )   .   timestamp   ( ) )   if   event   .   time   <   time _ i   -   60   :   return   _ bot   .   set   (   bot   )   _ event   .   set   (   event   )   bot _ id   =   int   (   bot   .   self _ id   )   if   isinstance   (   event   ,   GroupMessageEvent   ) :   group _ id   =   event   .   group _ id   await   deal _ group   (   bot _ id   ,   group _ id   )   else   :   id   =   event   .   user _ id   group _ ids   =   private _ listener _ dict   .   get   (   id   ,   [ ] )   ts   =   [   asyncio   .   create _ task   (   deal _ group   (   bot _ id   ,   group _ id   ) )   for   group _ id   in   group _ ids   ]   await   asyncio   .   gather   (   *   ts   )","title":"async   def   deal _ event"},{"location":"api/ayaka/deal/#async-def-deal_group","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   async   def   deal _ group   (   bot _ id   :   int   ,   group _ id   :   int   ) :   #   \u7fa4\u7ec4   group   =   get _ group   (   bot _ id   ,   group _ id   )   _ group   .   set   (   group   )   #   \u6d88\u606f   message   =   _ event   .   get   ( )   .   message   _ message   .   set   (   message   )   #   \u547d\u4ee4 \u3001 \u53c2\u6570   cmd   =   get _ cmd   (   message   )   _ cmd   .   set   (   cmd   )   #   \u8ba9 super \u5148\u6765   triggers   =   [ ]   for   app   in   group   .   apps   :   for   t   in   app   .   super _ triggers   :   triggers   .   append   (   t   )   #   \u82e5 \u6267\u884c \u4e86 super \u547d\u4ee4 \uff0c \u5219 \u9000\u51fa   if   await   deal _ triggers   (   triggers   ) :   return   #   \u666e\u901a \u547d\u4ee4 \u7ee7\u7eed   triggers   =   [ ]   #   \u5f53\u524d \u6b63\u5728 \u8fd0\u884c   app   =   group   .   running _ app   if   app   :   for   t   in   app   .   state _ triggers   :   if   t   .   state   = =   \" * \"   :   triggers   .   append   (   t   )   else   :   #   \u5b50 \u72b6\u6001   #   s1   =   \u6dfb\u52a0 .   #   s2   =   \u6dfb\u52a0 . \u59d3\u540d .   s1   =   t   .   state   +   \" . \"   s2   =   app   .   state   +   \" . \"   if   s2   .   startswith   (   s1   ) :   triggers   .   append   (   t   )   #   \u5176\u4ed6 \u684c\u9762 \u5e94\u7528   else   :   for   app   in   group   .   apps   :   for   t   in   app   .   no _ state _ triggers   :   triggers   .   append   (   t   )   await   deal _ triggers   (   triggers   )","title":"async   def   deal _ group"},{"location":"api/ayaka/deal/#async-def-deal_triggers","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   triggers :   List [ AyakaTrigger ]   async   def   deal _ triggers   (   triggers   :   List   [   AyakaTrigger   ] ) :   triggers   .   sort   (   key   =   lambda   t   :   str   (   t   .   state   ) ,   reverse   =   True   )   cmd   =   _ cmd   .   get   ( )   msg   =   _ message   .   get   ( )   #   \u547d\u4ee4   if   cmd   :   for   t   in   triggers   :   if   t   .   cmd   = =   cmd   :   #   \u8bbe\u7f6e \u53bb\u6389 \u547d\u4ee4 \u540e \u7684 \u6d88\u606f   arg   =   remove _ cmd   (   cmd   ,   msg   )   _ arg   .   set   (   arg   )   _ args   .   set   (   divide _ message   (   arg   ) )   await   t   .   run   ( )   return   True   _ arg   .   set   (   msg   )   _ args   .   set   (   divide _ message   (   msg   ) )   #   \u547d\u4ee4 \u9000\u5316 \u6210 \u6d88\u606f   for   t   in   triggers   :   if   not   t   .   cmd   :   await   t   .   run   ( )","title":"async   def   deal _ triggers"},{"location":"api/ayaka/deal/#def-get_cmd","text":"\u8fd4\u56de \u547d\u4ee4   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message :   Message   def   get _ cmd   (   message   :   Message   ) :   ' ' ' \u8fd4\u56de \u547d\u4ee4 ' ' '   first   =   \" \"   for   m   in   message   :   if   m   .   type   = =   \" text \"   :   first   + =   str   (   m   )   else   :   break   if   not   first   or   not   first   .   startswith   (   prefix   ) :   return   \" \"   first   + =   sep   return   first   .   split   (   sep   ,   1   ) [   0   ] [   len   (   prefix   ) : ]","title":"def   get _ cmd"},{"location":"api/ayaka/deal/#def-divide_message","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   message :   Message   def   divide _ message   (   message   :   Message   ) :   args   :   List   [   MessageSegment   ]   =   [ ]   for   m   in   message   :   if   m   .   is _ text   ( ) :   ss   =   str   (   m   )   .   split   (   sep   )   args   .   extend   (   MessageSegment   .   text   (   s   )   for   s   in   ss   if   s   )   else   :   args   .   append   (   m   )   return   args","title":"def   divide _ message"},{"location":"api/ayaka/deal/#def-remove_cmd","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   cmd :   str   message :   Message   def   remove _ cmd   (   cmd   :   str   ,   message   :   Message   ) :   m   =   message   [   0   ]   if   m   .   is _ text   ( ) :   m _ str   =   str   (   m   )   m _ str   =   m _ str   [   len   (   prefix   +   cmd   ) : ]   .   lstrip   (   sep   )   if   not   m _ str   :   message   .   pop   (   0   )   else   :   message   [   0   ]   =   MessageSegment   .   text   (   m _ str   )   return   message","title":"def   remove _ cmd"},{"location":"api/ayaka/deal/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/group/","text":"class   AyakaGroup   \u00b6   def   __ repr __   \u00b6   \u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaGroup (   {   self   .   bot _ id   }   ,   {   self   .   group _ id   }   ,   {   self   .   apps   }   ) \"   def   forbid _ init   \u00b6   \u65e0 \u53c2\u6570   def   forbid _ init   (   self   ) :   names   =   [   \" data \"   ,   \" groups \"   ,   self   .   bot _ id   ,   self   .   group _ id   ]   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   *   names   )   self   .   store _ forbid   =   AyakaPath   (   path   )   .   json   (   \" forbid \"   ,   [ ] )   def   forbid _ load   \u00b6   \u65e0 \u53c2\u6570   def   forbid _ load   (   self   ) :   return   self   .   store _ forbid   .   load   ( )   def   forbid _ save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   forbid _ save   (   self   ,   data   ) :   return   self   .   store _ forbid   .   save   (   data   )   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   __ init __   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   )   - >   None   :   self   .   bot _ id   =   bot _ id   self   .   group _ id   =   group _ id   self   .   running _ app   :   \" AyakaApp \"   =   None   #   \u8bfb\u53d6 forbit \u5217\u8868   self   .   forbid _ init   ( )   forbid _ names   =   self   .   forbid _ load   ( )   #   \u6dfb\u52a0 app \uff0c \u5e76 \u5206\u914d \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   self   .   apps   :   List   [   \" AyakaApp \"   ]   =   [ ]   self   .   cache _ dict   :   Dict   [   str   ,   AyakaCacheCtrl   ]   =   { }   for   app   in   app _ list   :   if   app   .   name   not   in   forbid _ names   :   self   .   apps   .   append   (   app   )   self   .   cache _ dict   [   app   .   name   ]   =   AyakaCacheCtrl   ( )   group _ list   .   append   (   self   )   if   AYAKA _ DEBUG   :   print   (   self   )   def   running _ app _ name   \u00b6   \u65e0 \u53c2\u6570   @ property   def   running _ app _ name   (   self   ) :   if   self   .   running _ app   :   return   self   .   running _ app   .   name   return   \" \"   def   get _ app   \u00b6   \u6839\u636e app \u540d \u83b7\u53d6 \u8be5 group \u6240 \u542f\u7528 \u7684 app \uff0c \u4e0d \u5b58\u5728 \u5219 \u8fd4\u56de None   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   get _ app   (   self   ,   name   :   str   ) :   ' ' ' \u6839\u636e app \u540d \u83b7\u53d6 \u8be5 group \u6240 \u542f\u7528 \u7684 app \uff0c \u4e0d \u5b58\u5728 \u5219 \u8fd4\u56de None ' ' '   for   app   in   self   .   apps   :   if   app   .   name   = =   name   :   return   app   def   permit _ app   \u00b6   \u542f\u7528 \u6307\u5b9a app   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   permit _ app   (   self   ,   name   :   str   ) :   ' ' ' \u542f\u7528 \u6307\u5b9a app ' ' '   if   self   .   get _ app   (   name   ) :   return   True   for   app   in   app _ list   :   if   app   .   name   = =   name   :   self   .   apps   .   append   (   app   )   #   \u4ece forbit \u5217\u8868 \u79fb\u9664   app _ names   :   list   =   self   .   forbid _ load   ( )   if   name   in   app _ names   :   app _ names   .   remove   (   name   )   self   .   forbid _ save   (   app _ names   )   return   True   def   forbid _ app   \u00b6   \u7981\u7528 \u6307\u5b9a app   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   forbid _ app   (   self   ,   name   :   str   ) :   ' ' ' \u7981\u7528 \u6307\u5b9a app ' ' '   if   name   = =   \" ayaka _ master \"   :   return   app   =   self   .   get _ app   (   name   )   if   not   app   :   return   #   \u7981\u7528 \u6b63\u5728 \u8fd0\u884c \u7684 \u5e94\u7528   if   self   .   running _ app _ name   = =   name   :   self   .   running _ app   =   None   #   \u79fb\u9664   self   .   apps   .   remove   (   app   )   #   \u6dfb\u52a0 \u5230 forbit \u5217\u8868   app _ names   :   list   =   self   .   forbid _ load   ( )   if   name   not   in   app _ names   :   app _ names   .   append   (   name   )   self   .   forbid _ save   (   app _ names   )   return   True   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"group"},{"location":"api/ayaka/group/#class-ayakagroup","text":"","title":"class   AyakaGroup"},{"location":"api/ayaka/group/#def-__repr__","text":"\u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaGroup (   {   self   .   bot _ id   }   ,   {   self   .   group _ id   }   ,   {   self   .   apps   }   ) \"","title":"def   __ repr __"},{"location":"api/ayaka/group/#def-forbid_init","text":"\u65e0 \u53c2\u6570   def   forbid _ init   (   self   ) :   names   =   [   \" data \"   ,   \" groups \"   ,   self   .   bot _ id   ,   self   .   group _ id   ]   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   *   names   )   self   .   store _ forbid   =   AyakaPath   (   path   )   .   json   (   \" forbid \"   ,   [ ] )","title":"def   forbid _ init"},{"location":"api/ayaka/group/#def-forbid_load","text":"\u65e0 \u53c2\u6570   def   forbid _ load   (   self   ) :   return   self   .   store _ forbid   .   load   ( )","title":"def   forbid _ load"},{"location":"api/ayaka/group/#def-forbid_save","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   forbid _ save   (   self   ,   data   ) :   return   self   .   store _ forbid   .   save   (   data   )","title":"def   forbid _ save"},{"location":"api/ayaka/group/#def-__init__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   bot _ id :   int   group _ id :   int   def   __ init __   (   self   ,   bot _ id   :   int   ,   group _ id   :   int   )   - >   None   :   self   .   bot _ id   =   bot _ id   self   .   group _ id   =   group _ id   self   .   running _ app   :   \" AyakaApp \"   =   None   #   \u8bfb\u53d6 forbit \u5217\u8868   self   .   forbid _ init   ( )   forbid _ names   =   self   .   forbid _ load   ( )   #   \u6dfb\u52a0 app \uff0c \u5e76 \u5206\u914d \u72ec\u7acb \u6570\u636e \u7a7a\u95f4   self   .   apps   :   List   [   \" AyakaApp \"   ]   =   [ ]   self   .   cache _ dict   :   Dict   [   str   ,   AyakaCacheCtrl   ]   =   { }   for   app   in   app _ list   :   if   app   .   name   not   in   forbid _ names   :   self   .   apps   .   append   (   app   )   self   .   cache _ dict   [   app   .   name   ]   =   AyakaCacheCtrl   ( )   group _ list   .   append   (   self   )   if   AYAKA _ DEBUG   :   print   (   self   )","title":"def   __ init __"},{"location":"api/ayaka/group/#def-running_app_name","text":"\u65e0 \u53c2\u6570   @ property   def   running _ app _ name   (   self   ) :   if   self   .   running _ app   :   return   self   .   running _ app   .   name   return   \" \"","title":"def   running _ app _ name"},{"location":"api/ayaka/group/#def-get_app","text":"\u6839\u636e app \u540d \u83b7\u53d6 \u8be5 group \u6240 \u542f\u7528 \u7684 app \uff0c \u4e0d \u5b58\u5728 \u5219 \u8fd4\u56de None   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   get _ app   (   self   ,   name   :   str   ) :   ' ' ' \u6839\u636e app \u540d \u83b7\u53d6 \u8be5 group \u6240 \u542f\u7528 \u7684 app \uff0c \u4e0d \u5b58\u5728 \u5219 \u8fd4\u56de None ' ' '   for   app   in   self   .   apps   :   if   app   .   name   = =   name   :   return   app","title":"def   get _ app"},{"location":"api/ayaka/group/#def-permit_app","text":"\u542f\u7528 \u6307\u5b9a app   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   permit _ app   (   self   ,   name   :   str   ) :   ' ' ' \u542f\u7528 \u6307\u5b9a app ' ' '   if   self   .   get _ app   (   name   ) :   return   True   for   app   in   app _ list   :   if   app   .   name   = =   name   :   self   .   apps   .   append   (   app   )   #   \u4ece forbit \u5217\u8868 \u79fb\u9664   app _ names   :   list   =   self   .   forbid _ load   ( )   if   name   in   app _ names   :   app _ names   .   remove   (   name   )   self   .   forbid _ save   (   app _ names   )   return   True","title":"def   permit _ app"},{"location":"api/ayaka/group/#def-forbid_app","text":"\u7981\u7528 \u6307\u5b9a app   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   def   forbid _ app   (   self   ,   name   :   str   ) :   ' ' ' \u7981\u7528 \u6307\u5b9a app ' ' '   if   name   = =   \" ayaka _ master \"   :   return   app   =   self   .   get _ app   (   name   )   if   not   app   :   return   #   \u7981\u7528 \u6b63\u5728 \u8fd0\u884c \u7684 \u5e94\u7528   if   self   .   running _ app _ name   = =   name   :   self   .   running _ app   =   None   #   \u79fb\u9664   self   .   apps   .   remove   (   app   )   #   \u6dfb\u52a0 \u5230 forbit \u5217\u8868   app _ names   :   list   =   self   .   forbid _ load   ( )   if   name   not   in   app _ names   :   app _ names   .   append   (   name   )   self   .   forbid _ save   (   app _ names   )   return   True","title":"def   forbid _ app"},{"location":"api/ayaka/group/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/json_ctrl/","text":"class   AbstractJsonCtrl   \u00b6   JSON \u63a7\u5236 \u63a7\u5236\u5668   def   __ init __   \u00b6   \u65e0 \u53c2\u6570   def   __ init __   (   self   ,   *   keys   )   - >   None   :   self   .   _ keys   =   keys   def   _ load   \u00b6   \u65e0 \u53c2\u6570   def   _ load   (   self   ) :   raise   NotImplementedError   def   _ save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   raise   NotImplementedError   def   chain   \u00b6   \u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   )   - >   \" AbstractJsonCtrl \"   :   raise   NotImplementedError   def   get   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   default   def   get   (   self   ,   default   =   None   ) :   data   =   self   .   _ load   ( )   for   k   in   self   .   _ keys   :   if   not   isinstance   (   data   ,   dict   ) :   return   default   if   k   not   in   data   :   return   default   data   =   data   [   k   ]   return   data   def   set   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   value   def   set   (   self   ,   value   ) :   if   not   self   .   _ keys   :   self   .   _ save   (   value   )   return   value   origin   =   self   .   _ load   ( )   if   not   isinstance   (   origin   ,   dict   ) :   origin   =   { }   data   =   origin   for   k   in   self   .   _ keys   [ :   -   1   ] :   if   k   not   in   data   or   not   isinstance   (   data   [   k   ] ,   dict   ) :   data   [   k   ]   =   { }   data   =   data   [   k   ]   data   [   self   .   _ keys   [   -   1   ] ]   =   value   self   .   _ save   (   origin   )   return   value   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"json _ ctrl"},{"location":"api/ayaka/json_ctrl/#class-abstractjsonctrl","text":"JSON \u63a7\u5236 \u63a7\u5236\u5668","title":"class   AbstractJsonCtrl"},{"location":"api/ayaka/json_ctrl/#def-__init__","text":"\u65e0 \u53c2\u6570   def   __ init __   (   self   ,   *   keys   )   - >   None   :   self   .   _ keys   =   keys","title":"def   __ init __"},{"location":"api/ayaka/json_ctrl/#def-_load","text":"\u65e0 \u53c2\u6570   def   _ load   (   self   ) :   raise   NotImplementedError","title":"def   _ load"},{"location":"api/ayaka/json_ctrl/#def-_save","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   raise   NotImplementedError","title":"def   _ save"},{"location":"api/ayaka/json_ctrl/#def-chain","text":"\u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   )   - >   \" AbstractJsonCtrl \"   :   raise   NotImplementedError","title":"def   chain"},{"location":"api/ayaka/json_ctrl/#def-get","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   default   def   get   (   self   ,   default   =   None   ) :   data   =   self   .   _ load   ( )   for   k   in   self   .   _ keys   :   if   not   isinstance   (   data   ,   dict   ) :   return   default   if   k   not   in   data   :   return   default   data   =   data   [   k   ]   return   data","title":"def   get"},{"location":"api/ayaka/json_ctrl/#def-set","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   value   def   set   (   self   ,   value   ) :   if   not   self   .   _ keys   :   self   .   _ save   (   value   )   return   value   origin   =   self   .   _ load   ( )   if   not   isinstance   (   origin   ,   dict   ) :   origin   =   { }   data   =   origin   for   k   in   self   .   _ keys   [ :   -   1   ] :   if   k   not   in   data   or   not   isinstance   (   data   [   k   ] ,   dict   ) :   data   [   k   ]   =   { }   data   =   data   [   k   ]   data   [   self   .   _ keys   [   -   1   ] ]   =   value   self   .   _ save   (   origin   )   return   value","title":"def   set"},{"location":"api/ayaka/json_ctrl/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/on/","text":"class   AyakaOn   \u00b6   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app :   \" AyakaApp \"   def   __ init __   (   self   ,   app   :   \" AyakaApp \"   )   - >   None   :   self   .   app   =   app   def   everyday   \u00b6   \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   h :   int   m :   int   s :   int   def   everyday   (   self   ,   h   :   int   ,   m   :   int   ,   s   :   int   ) :   ' ' ' \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1 ' ' '   return   self   .   interval   (   86400   ,   h   ,   m   ,   s   )   def   interval   \u00b6   \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   gap :   int   h   m   s   def   interval   (   self   ,   gap   :   int   ,   h   = -   1   ,   m   = -   1   ,   s   = -   1   ) :   ' ' ' \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1 ' ' '   return   self   .   on _ timer   (   gap   ,   h   ,   m   ,   s   )   def   state   \u00b6   \u6ce8\u518c \u6709 \u72b6\u6001 \u56de\u8c03   \u65e0 \u53c2\u6570   def   state   (   self   ,   *   states   :   str   ) :   ' ' ' \u6ce8\u518c \u6709 \u72b6\u6001 \u56de\u8c03 ' ' '   if   not   states   :   states   =   INIT _ STATE   def   decorator   (   func   ) :   #   \u53d6\u51fa \u4e4b\u524d \u5b58 \u7684 \u53c2\u6570   return   self   .   on _ handle   (   func   .   cmds   ,   states   ,   False   ) (   func   )   return   decorator   def   idle   \u00b6   \u6ce8\u518c \u65e0 \u72b6\u6001 \u56de\u8c03   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   super   def   idle   (   self   ,   super   =   False   ) :   ' ' ' \u6ce8\u518c \u65e0 \u72b6\u6001 \u56de\u8c03 ' ' '   def   decorator   (   func   ) :   #   \u53d6\u51fa \u4e4b\u524d \u5b58 \u7684 \u53c2\u6570   return   self   .   on _ handle   (   func   .   cmds   ,   None   ,   super   ) (   func   )   return   decorator   def   command   \u00b6   \u65e0 \u53c2\u6570   def   command   (   self   ,   *   cmds   :   str   ) :   def   decorator   (   func   ) :   func   .   cmds   =   cmds   return   func   return   decorator   def   text   \u00b6   \u65e0 \u53c2\u6570   def   text   (   self   ) :   def   decorator   (   func   ) :   func   .   cmds   =   \" \"   return   func   return   decorator   def   on _ handle   \u00b6   \u6ce8\u518c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   cmds :   Union [ List [ str ] ,   str ]   states :   Union [ List [ str ] ,   str ]   super :   bool   def   on _ handle   (   self   ,   cmds   :   Union   [   List   [   str   ] ,   str   ] ,   states   :   Union   [   List   [   str   ] ,   str   ] ,   super   :   bool   ) :   ' ' ' \u6ce8\u518c ' ' '   cmds   =   ensure _ list   (   cmds   )   states   =   ensure _ list   (   states   )   def   decorator   (   func   :   Callable   [ [ ] ,   Coroutine   ] ) :   for   state   in   states   :   for   cmd   in   cmds   :   t   =   AyakaTrigger   (   self   .   app   .   name   ,   cmd   ,   state   ,   super   ,   func   )   self   .   app   .   triggers   .   append   (   t   )   #   \u5982\u679c \u6709 \u5e2e\u52a9 \uff0c \u81ea\u52a8 \u6dfb\u52a0 \u5230 _ help \u4e2d   doc   =   func   .   __ doc __   if   doc   :   if   state   is   None   :   state   =   INIT _ STATE   if   state   not   in   self   .   app   .   _ help   :   self   .   app   .   _ help   [   state   ]   =   [ ]   cmd _ str   =   ' / '   .   join   (   cmds   )   if   not   cmd _ str   :   cmd _ str   =   \" * \"   self   .   app   .   _ help   [   state   ]   .   append   (   f   \" -   {   cmd _ str   }   {   doc   }   \"   )   return   func   return   decorator   def   on _ timer   \u00b6   \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   gap :   int   h :   int   m :   int   s :   int   def   on _ timer   (   self   ,   gap   :   int   ,   h   :   int   ,   m   :   int   ,   s   :   int   ) :   ' ' ' \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1 ' ' '   def   decorator   (   func   ) :   t   =   AyakaTimer   (   self   .   app   .   name   ,   gap   ,   h   ,   m   ,   s   ,   func   )   self   .   app   .   timers   .   append   (   t   )   return   func   return   decorator   class   AyakaTrigger   \u00b6   def   __ repr __   \u00b6   \u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaTrigger (   {   self   .   app _ name   }   ,   {   self   .   cmd   }   ,   {   self   .   state   }   ,   {   self   .   super   }   ,   {   self   .   func   .   __ name __   }   ) \"   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app _ name   cmd   state   super   func   def   __ init __   (   self   ,   app _ name   ,   cmd   ,   state   ,   super   ,   func   )   - >   None   :   self   .   app _ name   =   app _ name   self   .   cmd   =   cmd   self   .   state   =   state   self   .   super   =   super   self   .   func   =   func   if   AYAKA _ DEBUG   :   print   (   self   )   async   def   run   \u00b6   \u65e0 \u53c2\u6570   async   def   run   (   self   ) :   #   \u65e5\u5fd7 \u8bb0\u5f55   items   =   [ ]   if   self   .   cmd   :   items   .   append   (   \" < y > \u547d\u4ee4 < / y > \"   )   else   :   items   .   append   (   \" < g > \u6d88\u606f < / g > \"   )   app _ name   =   f   \" < y >   {   self   .   app _ name   }   < / y > \"   if   self   .   state   is   not   None   :   app _ name   + =   f   \"   < g >   {   self   .   state   }   < / g > \"   items   .   append   (   app _ name   )   if   self   .   cmd   :   items   .   append   (   f   \" < y >   {   self   .   cmd   }   < / y > \"   )   items   .   append   (   f   \" \u6267\u884c \u56de\u8c03   < c >   {   self   .   func   .   __ name __   }   < / c > \"   )   info   =   \"   |   \"   .   join   (   items   )   logger   .   opt   (   colors   =   True   )   .   debug   (   info   )   #   \u8fd0\u884c \u56de\u8c03   await   self   .   func   ( )   class   AyakaTimer   \u00b6   def   __ repr __   \u00b6   \u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaTimer (   {   self   .   name   }   ,   {   self   .   gap   }   ,   {   self   .   func   .   __ name __   }   ) \"   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   gap :   int   h :   int   m :   int   s :   int   func   def   __ init __   (   self   ,   name   :   str   ,   gap   :   int   ,   h   :   int   ,   m   :   int   ,   s   :   int   ,   func   )   - >   None   :   self   .   name   =   name   self   .   h   =   h   self   .   m   =   m   self   .   s   =   s   self   .   gap   =   gap   self   .   func   =   func   if   AYAKA _ DEBUG   :   print   (   self   )   def   start   \u00b6   \u65e0 \u53c2\u6570   def   start   (   self   ) :   asyncio   .   create _ task   (   self   .   run _ forever   ( ) )   async   def   run _ forever   \u00b6   \u65e0 \u53c2\u6570   async   def   run _ forever   (   self   ) :   #   \u6709 \u542f\u52a8 \u65f6\u95f4 \u70b9 \u8981\u6c42 \u7684   time _ i   =   int   (   datetime   .   datetime   .   now   ( )   .   timestamp   ( ) )   if   self   .   h   > =   0   :   _ time _ i   =   self   .   h   *   3600   +   self   .   m   *   60   +   self   .   s   #   \u79fb\u9664 \u65f6 \u533a \u504f\u5dee   time _ i   - =   57600   gap   =   86400   -   (   time _ i   -   _ time _ i   )   %   86400   await   asyncio   .   sleep   (   gap   )   elif   self   .   m   > =   0   :   _ time _ i   =   self   .   m   *   60   +   self   .   s   gap   =   3600   -   (   time _ i   -   _ time _ i   )   %   3600   await   asyncio   .   sleep   (   gap   )   elif   self   .   s   > =   0   :   _ time _ i   =   self   .   s   gap   =   60   -   (   time _ i   -   _ time _ i   )   %   60   await   asyncio   .   sleep   (   gap   )   while   True   :   logger   .   opt   (   colors   =   True   )   .   debug   (   f   \" \u89e6\u53d1 \u5b9a\u65f6 \u4efb\u52a1   < y >   {   self   .   name   }   < / y > \"   )   asyncio   .   create _ task   (   self   .   func   ( ) )   await   asyncio   .   sleep   (   self   .   gap   )   def   ensure _ list   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   items   def   ensure _ list   (   items   ) :   if   isinstance   (   items   ,   tuple   ) :   return   [   item   for   item   in   items   ]   if   not   isinstance   (   items   ,   list   ) :   return   [   items   ]   return   items   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"on"},{"location":"api/ayaka/on/#class-ayakaon","text":"","title":"class   AyakaOn"},{"location":"api/ayaka/on/#def-__init__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app :   \" AyakaApp \"   def   __ init __   (   self   ,   app   :   \" AyakaApp \"   )   - >   None   :   self   .   app   =   app","title":"def   __ init __"},{"location":"api/ayaka/on/#def-everyday","text":"\u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   h :   int   m :   int   s :   int   def   everyday   (   self   ,   h   :   int   ,   m   :   int   ,   s   :   int   ) :   ' ' ' \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1 ' ' '   return   self   .   interval   (   86400   ,   h   ,   m   ,   s   )","title":"def   everyday"},{"location":"api/ayaka/on/#def-interval","text":"\u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   gap :   int   h   m   s   def   interval   (   self   ,   gap   :   int   ,   h   = -   1   ,   m   = -   1   ,   s   = -   1   ) :   ' ' ' \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1 ' ' '   return   self   .   on _ timer   (   gap   ,   h   ,   m   ,   s   )","title":"def   interval"},{"location":"api/ayaka/on/#def-state","text":"\u6ce8\u518c \u6709 \u72b6\u6001 \u56de\u8c03   \u65e0 \u53c2\u6570   def   state   (   self   ,   *   states   :   str   ) :   ' ' ' \u6ce8\u518c \u6709 \u72b6\u6001 \u56de\u8c03 ' ' '   if   not   states   :   states   =   INIT _ STATE   def   decorator   (   func   ) :   #   \u53d6\u51fa \u4e4b\u524d \u5b58 \u7684 \u53c2\u6570   return   self   .   on _ handle   (   func   .   cmds   ,   states   ,   False   ) (   func   )   return   decorator","title":"def   state"},{"location":"api/ayaka/on/#def-idle","text":"\u6ce8\u518c \u65e0 \u72b6\u6001 \u56de\u8c03   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   super   def   idle   (   self   ,   super   =   False   ) :   ' ' ' \u6ce8\u518c \u65e0 \u72b6\u6001 \u56de\u8c03 ' ' '   def   decorator   (   func   ) :   #   \u53d6\u51fa \u4e4b\u524d \u5b58 \u7684 \u53c2\u6570   return   self   .   on _ handle   (   func   .   cmds   ,   None   ,   super   ) (   func   )   return   decorator","title":"def   idle"},{"location":"api/ayaka/on/#def-command","text":"\u65e0 \u53c2\u6570   def   command   (   self   ,   *   cmds   :   str   ) :   def   decorator   (   func   ) :   func   .   cmds   =   cmds   return   func   return   decorator","title":"def   command"},{"location":"api/ayaka/on/#def-text","text":"\u65e0 \u53c2\u6570   def   text   (   self   ) :   def   decorator   (   func   ) :   func   .   cmds   =   \" \"   return   func   return   decorator","title":"def   text"},{"location":"api/ayaka/on/#def-on_handle","text":"\u6ce8\u518c   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   cmds :   Union [ List [ str ] ,   str ]   states :   Union [ List [ str ] ,   str ]   super :   bool   def   on _ handle   (   self   ,   cmds   :   Union   [   List   [   str   ] ,   str   ] ,   states   :   Union   [   List   [   str   ] ,   str   ] ,   super   :   bool   ) :   ' ' ' \u6ce8\u518c ' ' '   cmds   =   ensure _ list   (   cmds   )   states   =   ensure _ list   (   states   )   def   decorator   (   func   :   Callable   [ [ ] ,   Coroutine   ] ) :   for   state   in   states   :   for   cmd   in   cmds   :   t   =   AyakaTrigger   (   self   .   app   .   name   ,   cmd   ,   state   ,   super   ,   func   )   self   .   app   .   triggers   .   append   (   t   )   #   \u5982\u679c \u6709 \u5e2e\u52a9 \uff0c \u81ea\u52a8 \u6dfb\u52a0 \u5230 _ help \u4e2d   doc   =   func   .   __ doc __   if   doc   :   if   state   is   None   :   state   =   INIT _ STATE   if   state   not   in   self   .   app   .   _ help   :   self   .   app   .   _ help   [   state   ]   =   [ ]   cmd _ str   =   ' / '   .   join   (   cmds   )   if   not   cmd _ str   :   cmd _ str   =   \" * \"   self   .   app   .   _ help   [   state   ]   .   append   (   f   \" -   {   cmd _ str   }   {   doc   }   \"   )   return   func   return   decorator","title":"def   on _ handle"},{"location":"api/ayaka/on/#def-on_timer","text":"\u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   gap :   int   h :   int   m :   int   s :   int   def   on _ timer   (   self   ,   gap   :   int   ,   h   :   int   ,   m   :   int   ,   s   :   int   ) :   ' ' ' \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1 ' ' '   def   decorator   (   func   ) :   t   =   AyakaTimer   (   self   .   app   .   name   ,   gap   ,   h   ,   m   ,   s   ,   func   )   self   .   app   .   timers   .   append   (   t   )   return   func   return   decorator","title":"def   on _ timer"},{"location":"api/ayaka/on/#class-ayakatrigger","text":"","title":"class   AyakaTrigger"},{"location":"api/ayaka/on/#def-__repr__","text":"\u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaTrigger (   {   self   .   app _ name   }   ,   {   self   .   cmd   }   ,   {   self   .   state   }   ,   {   self   .   super   }   ,   {   self   .   func   .   __ name __   }   ) \"","title":"def   __ repr __"},{"location":"api/ayaka/on/#def-__init___1","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app _ name   cmd   state   super   func   def   __ init __   (   self   ,   app _ name   ,   cmd   ,   state   ,   super   ,   func   )   - >   None   :   self   .   app _ name   =   app _ name   self   .   cmd   =   cmd   self   .   state   =   state   self   .   super   =   super   self   .   func   =   func   if   AYAKA _ DEBUG   :   print   (   self   )","title":"def   __ init __"},{"location":"api/ayaka/on/#async-def-run","text":"\u65e0 \u53c2\u6570   async   def   run   (   self   ) :   #   \u65e5\u5fd7 \u8bb0\u5f55   items   =   [ ]   if   self   .   cmd   :   items   .   append   (   \" < y > \u547d\u4ee4 < / y > \"   )   else   :   items   .   append   (   \" < g > \u6d88\u606f < / g > \"   )   app _ name   =   f   \" < y >   {   self   .   app _ name   }   < / y > \"   if   self   .   state   is   not   None   :   app _ name   + =   f   \"   < g >   {   self   .   state   }   < / g > \"   items   .   append   (   app _ name   )   if   self   .   cmd   :   items   .   append   (   f   \" < y >   {   self   .   cmd   }   < / y > \"   )   items   .   append   (   f   \" \u6267\u884c \u56de\u8c03   < c >   {   self   .   func   .   __ name __   }   < / c > \"   )   info   =   \"   |   \"   .   join   (   items   )   logger   .   opt   (   colors   =   True   )   .   debug   (   info   )   #   \u8fd0\u884c \u56de\u8c03   await   self   .   func   ( )","title":"async   def   run"},{"location":"api/ayaka/on/#class-ayakatimer","text":"","title":"class   AyakaTimer"},{"location":"api/ayaka/on/#def-__repr___1","text":"\u65e0 \u53c2\u6570   def   __ repr __   (   self   )   - >   str   :   return   f   \" AyakaTimer (   {   self   .   name   }   ,   {   self   .   gap   }   ,   {   self   .   func   .   __ name __   }   ) \"","title":"def   __ repr __"},{"location":"api/ayaka/on/#def-__init___2","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name :   str   gap :   int   h :   int   m :   int   s :   int   func   def   __ init __   (   self   ,   name   :   str   ,   gap   :   int   ,   h   :   int   ,   m   :   int   ,   s   :   int   ,   func   )   - >   None   :   self   .   name   =   name   self   .   h   =   h   self   .   m   =   m   self   .   s   =   s   self   .   gap   =   gap   self   .   func   =   func   if   AYAKA _ DEBUG   :   print   (   self   )","title":"def   __ init __"},{"location":"api/ayaka/on/#def-start","text":"\u65e0 \u53c2\u6570   def   start   (   self   ) :   asyncio   .   create _ task   (   self   .   run _ forever   ( ) )","title":"def   start"},{"location":"api/ayaka/on/#async-def-run_forever","text":"\u65e0 \u53c2\u6570   async   def   run _ forever   (   self   ) :   #   \u6709 \u542f\u52a8 \u65f6\u95f4 \u70b9 \u8981\u6c42 \u7684   time _ i   =   int   (   datetime   .   datetime   .   now   ( )   .   timestamp   ( ) )   if   self   .   h   > =   0   :   _ time _ i   =   self   .   h   *   3600   +   self   .   m   *   60   +   self   .   s   #   \u79fb\u9664 \u65f6 \u533a \u504f\u5dee   time _ i   - =   57600   gap   =   86400   -   (   time _ i   -   _ time _ i   )   %   86400   await   asyncio   .   sleep   (   gap   )   elif   self   .   m   > =   0   :   _ time _ i   =   self   .   m   *   60   +   self   .   s   gap   =   3600   -   (   time _ i   -   _ time _ i   )   %   3600   await   asyncio   .   sleep   (   gap   )   elif   self   .   s   > =   0   :   _ time _ i   =   self   .   s   gap   =   60   -   (   time _ i   -   _ time _ i   )   %   60   await   asyncio   .   sleep   (   gap   )   while   True   :   logger   .   opt   (   colors   =   True   )   .   debug   (   f   \" \u89e6\u53d1 \u5b9a\u65f6 \u4efb\u52a1   < y >   {   self   .   name   }   < / y > \"   )   asyncio   .   create _ task   (   self   .   func   ( ) )   await   asyncio   .   sleep   (   self   .   gap   )","title":"async   def   run _ forever"},{"location":"api/ayaka/on/#def-ensure_list","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   items   def   ensure _ list   (   items   ) :   if   isinstance   (   items   ,   tuple   ) :   return   [   item   for   item   in   items   ]   if   not   isinstance   (   items   ,   list   ) :   return   [   items   ]   return   items","title":"def   ensure _ list"},{"location":"api/ayaka/on/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/parser/","text":"class   AyakaParser   \u00b6   def   encode _ message   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data :   Message   def   encode _ message   (   self   ,   data   :   Message   ) :   return   json   .   dumps   (   data   ,   ensure _ ascii   =   False   ,   cls   =   DataclassEncoder   )   def   decode _ message   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   text :   str   def   decode _ message   (   self   ,   text   :   str   ) :   data   =   json   .   loads   (   text   )   def   func   (   d   :   dict   ) :   type   =   d   [   \" type \"   ]   data   =   d   [   \" data \"   ]   return   getattr   (   MessageSegment   ,   type   ) (   * *   data   )   return   Message   (   func   (   d   )   for   d   in   data   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"parser"},{"location":"api/ayaka/parser/#class-ayakaparser","text":"","title":"class   AyakaParser"},{"location":"api/ayaka/parser/#def-encode_message","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data :   Message   def   encode _ message   (   self   ,   data   :   Message   ) :   return   json   .   dumps   (   data   ,   ensure _ ascii   =   False   ,   cls   =   DataclassEncoder   )","title":"def   encode _ message"},{"location":"api/ayaka/parser/#def-decode_message","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   text :   str   def   decode _ message   (   self   ,   text   :   str   ) :   data   =   json   .   loads   (   text   )   def   func   (   d   :   dict   ) :   type   =   d   [   \" type \"   ]   data   =   d   [   \" data \"   ]   return   getattr   (   MessageSegment   ,   type   ) (   * *   data   )   return   Message   (   func   (   d   )   for   d   in   data   )","title":"def   decode _ message"},{"location":"api/ayaka/parser/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/playwright/","text":"async   def   get _ new _ page   \u00b6   \u83b7\u53d6 playwright   Page \u5bf9\u8c61 \uff0c width \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   \u4f7f\u7528 \u793a\u4f8b \uff1a   async   with   get _ new _ page ( width = 200 )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   width   high _ quality   @ asynccontextmanager   async   def   get _ new _ page   (   width   =   None   ,   high _ quality   =   False   ,   * *   kwargs   )   - >   AsyncIterator   [   Page   ] :   ' ' '   \u83b7\u53d6 playwright   Page \u5bf9\u8c61 \uff0c width \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   \u4f7f\u7528 \u793a\u4f8b \uff1a   ` ` `   async   with   get _ new _ page ( width = 200 )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )   ` ` `   ' ' '   if   width   :   kwargs   [   \" viewport \"   ]   =   {   \" width \"   :   width   ,   \" height \"   :   width   }   if   high _ quality   :   kwargs   [   \" device _ scale _ factor \"   ]   =   2   page   =   await   _ browser   .   new _ page   (   * *   kwargs   )   yield   page   await   page   .   close   ( )   async   def   init _ chrome   \u00b6   \u65e0 \u53c2\u6570   async   def   init _ chrome   ( ) :   if   running _ on _ windows   and   fastapi _ reload   :   logger   .   warning   (   \" playwright \u672a \u52a0\u8f7d \uff0c win \u5e73\u53f0 \u8bf7 \u5173\u95ed fastapi   reload \u529f\u80fd \"   )   return   global   _ browser   ,   _ playwright   _ playwright   =   await   async _ playwright   ( )   .   start   ( )   _ browser   =   await   _ playwright   .   chromium   .   launch   ( )   async   def   close _ chrome   \u00b6   \u65e0 \u53c2\u6570   async   def   close _ chrome   ( ) :   if   _ browser   :   await   _ browser   .   close   ( )   if   _ playwright   :   await   _ playwright   .   stop   ( )   global   vars   \u00b6   _ browser   :   Browser   =   None   _ playwright   :   Playwright   =   None   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"playwright"},{"location":"api/ayaka/playwright/#async-def-get_new_page","text":"\u83b7\u53d6 playwright   Page \u5bf9\u8c61 \uff0c width \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   \u4f7f\u7528 \u793a\u4f8b \uff1a   async   with   get _ new _ page ( width = 200 )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   width   high _ quality   @ asynccontextmanager   async   def   get _ new _ page   (   width   =   None   ,   high _ quality   =   False   ,   * *   kwargs   )   - >   AsyncIterator   [   Page   ] :   ' ' '   \u83b7\u53d6 playwright   Page \u5bf9\u8c61 \uff0c width \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   \u4f7f\u7528 \u793a\u4f8b \uff1a   ` ` `   async   with   get _ new _ page ( width = 200 )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )   ` ` `   ' ' '   if   width   :   kwargs   [   \" viewport \"   ]   =   {   \" width \"   :   width   ,   \" height \"   :   width   }   if   high _ quality   :   kwargs   [   \" device _ scale _ factor \"   ]   =   2   page   =   await   _ browser   .   new _ page   (   * *   kwargs   )   yield   page   await   page   .   close   ( )","title":"async   def   get _ new _ page"},{"location":"api/ayaka/playwright/#async-def-init_chrome","text":"\u65e0 \u53c2\u6570   async   def   init _ chrome   ( ) :   if   running _ on _ windows   and   fastapi _ reload   :   logger   .   warning   (   \" playwright \u672a \u52a0\u8f7d \uff0c win \u5e73\u53f0 \u8bf7 \u5173\u95ed fastapi   reload \u529f\u80fd \"   )   return   global   _ browser   ,   _ playwright   _ playwright   =   await   async _ playwright   ( )   .   start   ( )   _ browser   =   await   _ playwright   .   chromium   .   launch   ( )","title":"async   def   init _ chrome"},{"location":"api/ayaka/playwright/#async-def-close_chrome","text":"\u65e0 \u53c2\u6570   async   def   close _ chrome   ( ) :   if   _ browser   :   await   _ browser   .   close   ( )   if   _ playwright   :   await   _ playwright   .   stop   ( )","title":"async   def   close _ chrome"},{"location":"api/ayaka/playwright/#global-vars","text":"_ browser   :   Browser   =   None   _ playwright   :   Playwright   =   None","title":"global   vars"},{"location":"api/ayaka/playwright/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"api/ayaka/storage/","text":"class   AyakaStorage   \u00b6   \u4e2d\u95f4 \u95f4\u5c42 \u4e2d\u95f4\u5c42 \uff0c \u65b9\u4fbf \u540e\u7eed \u62d3\u5c55 \uff0c \u6bd4\u5982 aiosqlite ( ?   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app :   \" AyakaApp \"   def   __ init __   (   self   ,   app   :   \" AyakaApp \"   )   - >   None   :   self   .   app   =   app   def   plugin _ path   \u00b6   \u83b7\u53d6 \u8def\u5f84   / .. / * names   \u65e0 \u53c2\u6570   def   plugin _ path   (   self   ,   *   names   ) :   ' ' ' \u83b7\u53d6 \u8def\u5f84   < create _ app _ file > / .. / * names ' ' '   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   self   .   app   .   path   .   parent   ,   *   names   )   return   AyakaPath   (   path   )   def   group _ path   \u00b6   \u83b7\u53d6 \u8def\u5f84   data / groups /   /   /   / * names   \u65e0 \u53c2\u6570   def   group _ path   (   self   ,   *   names   ) :   ' ' ' \u83b7\u53d6 \u8def\u5f84   data / groups / < bod _ id > / < group _ id > / < app . name > / * names ' ' '   names   =   [   \" data \"   ,   \" groups \"   ,   self   .   app   .   bot _ id   ,   self   .   app   .   group _ id   ,   self   .   app   .   name   ,   *   names   ]   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   *   names   )   return   AyakaPath   (   path   )   class   AyakaPath   \u00b6   \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939 \u8def\u5f84   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path   def   __ init __   (   self   ,   path   =   Path   (   \" test \"   ) )   - >   None   :   self   .   path   =   path   if   not   path   .   exists   ( ) :   path   .   mkdir   (   parents   =   True   )   def   iterdir   \u00b6   \u65e0 \u53c2\u6570   def   iterdir   (   self   ) :   return   self   .   path   .   iterdir   ( )   def   file   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name   default   def   file   (   self   ,   name   ,   default   =   None   ) :   path   =   self   .   path   /   str   (   name   )   file   =   AyakaFile   (   path   )   if   not   path   .   exists   ( )   and   default   is   not   None   :   file   .   save   (   default   )   return   file   def   json   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name   default   def   json   (   self   ,   name   ,   default   =   { } ) :   path   =   self   .   path   /   str   (   name   )   path   =   path   .   with _ suffix   (   \" . json \"   )   file   =   AyakaJsonFile   (   path   )   if   not   path   .   exists   ( ) :   file   .   save   (   default   )   return   file   class   AyakaFile   \u00b6   \u6587\u4ef6   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   ) :   self   .   path   =   path   def   load   \u00b6   \u65e0 \u53c2\u6570   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   f   .   read   ( )   return   data   def   save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   f   .   write   (   str   (   data   ) )   class   AyakaJsonFile   \u00b6   JSON \u6587\u4ef6   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   )   - >   None   :   self   .   path   =   path   def   chain   \u00b6   \u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaJsonFileCtrl   (   self   .   path   ,   *   keys   )   def   load   \u00b6   \u65e0 \u53c2\u6570   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data   def   save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )   class   AyakaJsonFileCtrl   \u00b6   AyakaJsonFileCtrl \u5b9e\u9645 \u5b9e\u9645\u4e0a \u53ef \u517c\u5bb9 \u66ff\u4ee3 AyakaJsonFile \uff0c \u4f46\u662f \u4e3a\u4e86 \u907f\u514d \u8bed\u4e49 \u8bed\u4e49\u4e0a \u7684 \u6df7\u4e71 \uff0c \u4ecd \u5206\u4f5c \u4e24\u4e2a \u7c7b   def   __ init __   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   ,   *   keys   )   - >   None   :   self   .   _ path   =   path   self   .   _ keys   =   [   str   (   k   )   for   k   in   keys   ]   def   _ load   \u00b6   \u65e0 \u53c2\u6570   def   _ load   (   self   ) :   with   self   .   _ path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data   def   _ save   \u00b6   \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   with   self   .   _ path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )   def   chain   \u00b6   \u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaJsonFileCtrl   (   self   .   _ path   ,   *   self   .   _ keys   ,   *   keys   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"storage"},{"location":"api/ayaka/storage/#class-ayakastorage","text":"\u4e2d\u95f4 \u95f4\u5c42 \u4e2d\u95f4\u5c42 \uff0c \u65b9\u4fbf \u540e\u7eed \u62d3\u5c55 \uff0c \u6bd4\u5982 aiosqlite ( ?","title":"class   AyakaStorage"},{"location":"api/ayaka/storage/#def-__init__","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   app :   \" AyakaApp \"   def   __ init __   (   self   ,   app   :   \" AyakaApp \"   )   - >   None   :   self   .   app   =   app","title":"def   __ init __"},{"location":"api/ayaka/storage/#def-plugin_path","text":"\u83b7\u53d6 \u8def\u5f84   / .. / * names   \u65e0 \u53c2\u6570   def   plugin _ path   (   self   ,   *   names   ) :   ' ' ' \u83b7\u53d6 \u8def\u5f84   < create _ app _ file > / .. / * names ' ' '   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   self   .   app   .   path   .   parent   ,   *   names   )   return   AyakaPath   (   path   )","title":"def   plugin _ path"},{"location":"api/ayaka/storage/#def-group_path","text":"\u83b7\u53d6 \u8def\u5f84   data / groups /   /   /   / * names   \u65e0 \u53c2\u6570   def   group _ path   (   self   ,   *   names   ) :   ' ' ' \u83b7\u53d6 \u8def\u5f84   data / groups / < bod _ id > / < group _ id > / < app . name > / * names ' ' '   names   =   [   \" data \"   ,   \" groups \"   ,   self   .   app   .   bot _ id   ,   self   .   app   .   group _ id   ,   self   .   app   .   name   ,   *   names   ]   names   =   [   str   (   name   )   for   name   in   names   ]   path   =   Path   (   *   names   )   return   AyakaPath   (   path   )","title":"def   group _ path"},{"location":"api/ayaka/storage/#class-ayakapath","text":"\u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939 \u8def\u5f84","title":"class   AyakaPath"},{"location":"api/ayaka/storage/#def-__init___1","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path   def   __ init __   (   self   ,   path   =   Path   (   \" test \"   ) )   - >   None   :   self   .   path   =   path   if   not   path   .   exists   ( ) :   path   .   mkdir   (   parents   =   True   )","title":"def   __ init __"},{"location":"api/ayaka/storage/#def-iterdir","text":"\u65e0 \u53c2\u6570   def   iterdir   (   self   ) :   return   self   .   path   .   iterdir   ( )","title":"def   iterdir"},{"location":"api/ayaka/storage/#def-file","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name   default   def   file   (   self   ,   name   ,   default   =   None   ) :   path   =   self   .   path   /   str   (   name   )   file   =   AyakaFile   (   path   )   if   not   path   .   exists   ( )   and   default   is   not   None   :   file   .   save   (   default   )   return   file","title":"def   file"},{"location":"api/ayaka/storage/#def-json","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   name   default   def   json   (   self   ,   name   ,   default   =   { } ) :   path   =   self   .   path   /   str   (   name   )   path   =   path   .   with _ suffix   (   \" . json \"   )   file   =   AyakaJsonFile   (   path   )   if   not   path   .   exists   ( ) :   file   .   save   (   default   )   return   file","title":"def   json"},{"location":"api/ayaka/storage/#class-ayakafile","text":"\u6587\u4ef6","title":"class   AyakaFile"},{"location":"api/ayaka/storage/#def-__init___2","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   ) :   self   .   path   =   path","title":"def   __ init __"},{"location":"api/ayaka/storage/#def-load","text":"\u65e0 \u53c2\u6570   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   f   .   read   ( )   return   data","title":"def   load"},{"location":"api/ayaka/storage/#def-save","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   f   .   write   (   str   (   data   ) )","title":"def   save"},{"location":"api/ayaka/storage/#class-ayakajsonfile","text":"JSON \u6587\u4ef6","title":"class   AyakaJsonFile"},{"location":"api/ayaka/storage/#def-__init___3","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   )   - >   None   :   self   .   path   =   path","title":"def   __ init __"},{"location":"api/ayaka/storage/#def-chain","text":"\u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaJsonFileCtrl   (   self   .   path   ,   *   keys   )","title":"def   chain"},{"location":"api/ayaka/storage/#def-load_1","text":"\u65e0 \u53c2\u6570   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data","title":"def   load"},{"location":"api/ayaka/storage/#def-save_1","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )","title":"def   save"},{"location":"api/ayaka/storage/#class-ayakajsonfilectrl","text":"AyakaJsonFileCtrl \u5b9e\u9645 \u5b9e\u9645\u4e0a \u53ef \u517c\u5bb9 \u66ff\u4ee3 AyakaJsonFile \uff0c \u4f46\u662f \u4e3a\u4e86 \u907f\u514d \u8bed\u4e49 \u8bed\u4e49\u4e0a \u7684 \u6df7\u4e71 \uff0c \u4ecd \u5206\u4f5c \u4e24\u4e2a \u7c7b","title":"class   AyakaJsonFileCtrl"},{"location":"api/ayaka/storage/#def-__init___4","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   path :   Path   def   __ init __   (   self   ,   path   :   Path   ,   *   keys   )   - >   None   :   self   .   _ path   =   path   self   .   _ keys   =   [   str   (   k   )   for   k   in   keys   ]","title":"def   __ init __"},{"location":"api/ayaka/storage/#def-_load","text":"\u65e0 \u53c2\u6570   def   _ load   (   self   ) :   with   self   .   _ path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data","title":"def   _ load"},{"location":"api/ayaka/storage/#def-_save","text":"\u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \uff1a   data   def   _ save   (   self   ,   data   ) :   with   self   .   _ path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )","title":"def   _ save"},{"location":"api/ayaka/storage/#def-chain_1","text":"\u65e0 \u53c2\u6570   def   chain   (   self   ,   *   keys   ) :   return   AyakaJsonFileCtrl   (   self   .   _ path   ,   *   self   .   _ keys   ,   *   keys   )","title":"def   chain"},{"location":"api/ayaka/storage/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"change-log/next/","text":"\u5f15\u5165   sql   orm   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u672a\u6765 \u8ba1\u5212"},{"location":"change-log/next/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"change-log/v2/","text":"v2   -   \u5df2 \u88ab \u629b\u5f03   \u00b6   \u4ee3\u7801 \u8f83\u4e3a \u590d\u6742 \u3001 \u81c3\u80bf \u3001 \u843d\u540e \uff0c \u5df2 \u653e\u5f03","title":"v2"},{"location":"change-log/v2/#v2-","text":"\u4ee3\u7801 \u8f83\u4e3a \u590d\u6742 \u3001 \u81c3\u80bf \u3001 \u843d\u540e \uff0c \u5df2 \u653e\u5f03","title":"v2   -   \u5df2 \u88ab \u629b\u5f03"},{"location":"change-log/v3/","text":"v3   -   \u4e0d\u518d \u7ef4\u62a4   \u00b6   \u8fd9\u91cc \u662f   ayaka \u63d2\u4ef6   0.3 . x \u7684 \u66f4\u65b0 \u8bb0\u5f55   0.3 . 0   \u00b6   \u501f\u52a9 contextvar \u5185\u7f6e \u6a21\u5757 \uff0c \u5168\u90e8 \u91cd\u5199 \u4e86 \u4e4b\u95f4 \u7684 \u4ee3\u7801 \uff0c \u73b0\u5728 \u5b83\u4eec \u88ab \u5408\u5e76 \u4e3a \u4e00\u4e2a \u5355 \u6587\u4ef6 \uff0c \u5e76 \u80fd \u5b9e\u73b0 ayaka \u63d2\u4ef6 \u5148\u524d \u63d0\u4f9b \u7684 \u6240\u6709 \u529f\u80fd \uff0c \u4f46 \u4e0d\u5e78 \u7684 \u662f \uff0c \u5176 \u65e0\u6cd5 \u517c\u5bb9 0.2 . x \u7684 ayaka \u63d2\u4ef6 \uff0c \u9700\u8981 \u4ee3\u7801 \u8fc1\u79fb   0.3 . 2   \u00b6   \u89c4\u5b9a \u4e86 \u5e94\u7528 \u542f\u52a8 \u540e \u7684 \u9ed8\u8ba4 \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a   init   \u589e\u52a0 \u4e86 \u8f83\u4e3a \u5b8c\u5584 \u7684 \u6ce8\u91ca   0.3 . 5   \u00b6   \u5c06 ayaka _ master \u96c6\u6210 \u8fdb\u672c \u63d2\u4ef6 \u4e2d   0.3 . 6   \u00b6   \u4e0d \u517c\u5bb9   \u4fee\u6539 \u4e86 AyakaStorage   \u4fee\u6539 \u4e86 AyakaApp \u7684 \u4e24\u5904 \u65b9\u6cd5 \uff1a   plugin _ storage   group _ storage   \u4fee\u6539 \u5185\u5bb9 \uff1a   \u53d6\u6d88 \u4e86 suffix \u53c2\u6570 \uff0c \u73b0\u5728 \uff0c \u60a8 \u9700\u8981 \u5728 \u6700\u540e \u4e00\u4e2a name \u4e2d \u6307\u5b9a suffix \uff0c \u5426\u5219 \uff0c AyakaStorage \u4e2d \u7684 path \u5c5e\u6027 \u5c06 \u6307\u5411 \u4e00\u4e2a \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   \u8fc1\u79fb \u65b9\u5f0f \uff1a   app . plugin _ storage ( \" name \" )   - >   app . plugin _ storage ( \" name . json \" )   app . plugin _ storage ( \" test \" ,   \" name \" ,   suffix = \" . txt \" )   - >   app . plugin _ storage ( \" test \" ,   \" name . txt \" )   0.3 . 8   \u00b6   \u4fee\u6539 \u4e86 ayaka \u4e2d send _ many \u7684 \u5b9e\u73b0 \u65b9\u5f0f \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \uff09   \u589e\u52a0 \u4e86 \u4e00\u6761 \u5b89\u88c5 \u6b65\u9aa4 \uff0c \u89e3\u51b3 nb \u751f\u6210 \u7684 \u9ed8\u8ba4 toml \u6587\u4ef6 \u7684 \u4f9d\u8d56 \u51b2\u7a81 \u95ee\u9898   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u73b0\u5728 \u4e3a app . help \u8d4b\u503c \u65f6 \uff0c \u63d2\u4ef6 \u5c06 \u81ea\u52a8 \u53bb\u9664 \u5176 \u9996\u5c3e \u7684 white - space \u5b57\u7b26   \u4f8b\u5982 \uff0c \u60a8 \u53ef\u4ee5 \u76f4\u63a5 \u586b\u5199   app   .   help   =   ' ' '   \u4f60\u597d   \u554a \u554a   ' ' '   \u5b9e\u9645 \u5b58\u5165 \u7684 \u5e2e\u52a9 \u662f   app   .   _ help   =   {   \" init \"   :   \" \u4f60\u597d   \\ n \\ n   \u554a \u554a \"   }   \u589e\u52a0 \u4e86 \u5173\u4e8e   app . group _ storage   \u7684 \u5e2e\u52a9 \uff0c \u5e76 \u589e\u52a0 \u4e86 \u4e00\u4e2a \u793a\u4f8b \u63d2\u4ef6   0.3 . 9   \u00b6   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c   \u73b0\u5728 \u60a8 \u53ef\u4ee5   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \"   )   app   .   help   =   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   @ app   .   on _ command   ( [   \" t \"   ,   \" test \"   ] )   async   def   handle   ( ) :   ' ' ' \u53d1\u9001 \u6210\u529f \u5566 ' ' '   await   app   .   send   (   \" \u6210\u529f \u5566 \"   )   \u8be5 \u5e2e\u52a9 \u4e3a \u81ea\u52a8 \u751f\u6210   0.3 . 10   \u00b6   \u4fee\u6539 \u4e86 playwright \u7684 \u52a0\u8f7d \u903b\u8f91   \u73b0\u5728 \u6ca1\u6709 \u5b89\u88c5 playwright \u7684 \u8bbe\u5907 \u4e5f \u53ef\u4ee5 \u6b63\u5e38 \u52a0\u8f7d ayaka \u4e86   \uff08 \u4f46\u662f \u4ecd\u7136 \u4f1a\u62a5 warning   \u4e3a ayaka \u7684 \u7c7b \u589e\u52a0 \u4e86 repr \u9b54\u6cd5 \u65b9\u6cd5   0.3 . 11   \u00b6   \u4fee\u590d \u4e86 \u5355\u72ec \u53d1\u9001 @ \u673a\u5668 \u673a\u5668\u4eba \u7684 \u6d88\u606f \u5bfc\u81f4 ayaka \u62a5\u9519 \u7684 bug   \u4f18\u5316 \u4e86 \u4ee3\u7801 \u7ed3\u6784 \uff0c \u53bb \u9664\u4e86 \u4e00\u4e9b \u91cd\u590d \u4ee3\u7801 \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \u6548\u679c","title":"v3"},{"location":"change-log/v3/#v3-","text":"\u8fd9\u91cc \u662f   ayaka \u63d2\u4ef6   0.3 . x \u7684 \u66f4\u65b0 \u8bb0\u5f55","title":"v3   -   \u4e0d\u518d \u7ef4\u62a4"},{"location":"change-log/v3/#030","text":"\u501f\u52a9 contextvar \u5185\u7f6e \u6a21\u5757 \uff0c \u5168\u90e8 \u91cd\u5199 \u4e86 \u4e4b\u95f4 \u7684 \u4ee3\u7801 \uff0c \u73b0\u5728 \u5b83\u4eec \u88ab \u5408\u5e76 \u4e3a \u4e00\u4e2a \u5355 \u6587\u4ef6 \uff0c \u5e76 \u80fd \u5b9e\u73b0 ayaka \u63d2\u4ef6 \u5148\u524d \u63d0\u4f9b \u7684 \u6240\u6709 \u529f\u80fd \uff0c \u4f46 \u4e0d\u5e78 \u7684 \u662f \uff0c \u5176 \u65e0\u6cd5 \u517c\u5bb9 0.2 . x \u7684 ayaka \u63d2\u4ef6 \uff0c \u9700\u8981 \u4ee3\u7801 \u8fc1\u79fb","title":"0.3 . 0"},{"location":"change-log/v3/#032","text":"\u89c4\u5b9a \u4e86 \u5e94\u7528 \u542f\u52a8 \u540e \u7684 \u9ed8\u8ba4 \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a   init   \u589e\u52a0 \u4e86 \u8f83\u4e3a \u5b8c\u5584 \u7684 \u6ce8\u91ca","title":"0.3 . 2"},{"location":"change-log/v3/#035","text":"\u5c06 ayaka _ master \u96c6\u6210 \u8fdb\u672c \u63d2\u4ef6 \u4e2d","title":"0.3 . 5"},{"location":"change-log/v3/#036","text":"\u4e0d \u517c\u5bb9   \u4fee\u6539 \u4e86 AyakaStorage   \u4fee\u6539 \u4e86 AyakaApp \u7684 \u4e24\u5904 \u65b9\u6cd5 \uff1a   plugin _ storage   group _ storage   \u4fee\u6539 \u5185\u5bb9 \uff1a   \u53d6\u6d88 \u4e86 suffix \u53c2\u6570 \uff0c \u73b0\u5728 \uff0c \u60a8 \u9700\u8981 \u5728 \u6700\u540e \u4e00\u4e2a name \u4e2d \u6307\u5b9a suffix \uff0c \u5426\u5219 \uff0c AyakaStorage \u4e2d \u7684 path \u5c5e\u6027 \u5c06 \u6307\u5411 \u4e00\u4e2a \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   \u8fc1\u79fb \u65b9\u5f0f \uff1a   app . plugin _ storage ( \" name \" )   - >   app . plugin _ storage ( \" name . json \" )   app . plugin _ storage ( \" test \" ,   \" name \" ,   suffix = \" . txt \" )   - >   app . plugin _ storage ( \" test \" ,   \" name . txt \" )","title":"0.3 . 6"},{"location":"change-log/v3/#038","text":"\u4fee\u6539 \u4e86 ayaka \u4e2d send _ many \u7684 \u5b9e\u73b0 \u65b9\u5f0f \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \uff09   \u589e\u52a0 \u4e86 \u4e00\u6761 \u5b89\u88c5 \u6b65\u9aa4 \uff0c \u89e3\u51b3 nb \u751f\u6210 \u7684 \u9ed8\u8ba4 toml \u6587\u4ef6 \u7684 \u4f9d\u8d56 \u51b2\u7a81 \u95ee\u9898   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u73b0\u5728 \u4e3a app . help \u8d4b\u503c \u65f6 \uff0c \u63d2\u4ef6 \u5c06 \u81ea\u52a8 \u53bb\u9664 \u5176 \u9996\u5c3e \u7684 white - space \u5b57\u7b26   \u4f8b\u5982 \uff0c \u60a8 \u53ef\u4ee5 \u76f4\u63a5 \u586b\u5199   app   .   help   =   ' ' '   \u4f60\u597d   \u554a \u554a   ' ' '   \u5b9e\u9645 \u5b58\u5165 \u7684 \u5e2e\u52a9 \u662f   app   .   _ help   =   {   \" init \"   :   \" \u4f60\u597d   \\ n \\ n   \u554a \u554a \"   }   \u589e\u52a0 \u4e86 \u5173\u4e8e   app . group _ storage   \u7684 \u5e2e\u52a9 \uff0c \u5e76 \u589e\u52a0 \u4e86 \u4e00\u4e2a \u793a\u4f8b \u63d2\u4ef6","title":"0.3 . 8"},{"location":"change-log/v3/#039","text":"\u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c   \u73b0\u5728 \u60a8 \u53ef\u4ee5   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \"   )   app   .   help   =   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   @ app   .   on _ command   ( [   \" t \"   ,   \" test \"   ] )   async   def   handle   ( ) :   ' ' ' \u53d1\u9001 \u6210\u529f \u5566 ' ' '   await   app   .   send   (   \" \u6210\u529f \u5566 \"   )   \u8be5 \u5e2e\u52a9 \u4e3a \u81ea\u52a8 \u751f\u6210","title":"0.3 . 9"},{"location":"change-log/v3/#0310","text":"\u4fee\u6539 \u4e86 playwright \u7684 \u52a0\u8f7d \u903b\u8f91   \u73b0\u5728 \u6ca1\u6709 \u5b89\u88c5 playwright \u7684 \u8bbe\u5907 \u4e5f \u53ef\u4ee5 \u6b63\u5e38 \u52a0\u8f7d ayaka \u4e86   \uff08 \u4f46\u662f \u4ecd\u7136 \u4f1a\u62a5 warning   \u4e3a ayaka \u7684 \u7c7b \u589e\u52a0 \u4e86 repr \u9b54\u6cd5 \u65b9\u6cd5","title":"0.3 . 10"},{"location":"change-log/v3/#0311","text":"\u4fee\u590d \u4e86 \u5355\u72ec \u53d1\u9001 @ \u673a\u5668 \u673a\u5668\u4eba \u7684 \u6d88\u606f \u5bfc\u81f4 ayaka \u62a5\u9519 \u7684 bug   \u4f18\u5316 \u4e86 \u4ee3\u7801 \u7ed3\u6784 \uff0c \u53bb \u9664\u4e86 \u4e00\u4e9b \u91cd\u590d \u4ee3\u7801 \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \u6548\u679c","title":"0.3 . 11"},{"location":"change-log/v4/","text":"v4   -   \u6b63\u5728 \u4f7f\u7528   \u00b6   0.4 . 1   \u00b6   API \u53d8\u66f4   \u00b6   \u76f8\u6bd4 0.3 . x \u8fdb\u884c \u4e86 api \u7684 \u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u6362   \u5df2 \u8fc7\u65f6 \u7684 API \uff1a   on _ command   on _ text   on _ state _ command   on _ state _ text   group _ storage   plugin _ storage   set _ state   \u65b0 \u7684 API \uff1a   on   storage   \u901a\u8fc7 \u8fd9\u79cd \u65b9\u5f0f \uff0c \u4fbf\u4e8e \u540e\u7eed \u62d3\u5c55 ayaka \u7684 \u529f\u80fd \uff0c \u4f8b\u5982 \u6dfb\u52a0 \u5f02\u6b65 sql \u8bfb\u5199 \u652f\u6301   \u91cd\u65b0 \u5c06 ayaka \u529f\u80fd \u62c6 \u5206\u4e3a \u591a\u4e2a \u6587\u4ef6 \uff0c \u4ee5\u4fbf \u540e\u7eed \u62d3\u5c55 \u5f00\u53d1   \u4fee\u590d app . arg \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u7684 \u9519\u8bef   \u00b6   \u4fee\u590d \u4e86 \u547d\u4ee4 \u62ac\u5934 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c app . arg \u9519\u8bef \u89e3\u6790 \u7684 \u95ee\u9898   0.4 . 2   \u00b6   \u589e\u8fdb \u4e86 app . cache \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u6dfb\u52a0 \u4e86 chain \u65b9\u6cd5   \u4f18\u5316 \u4e86 app . cache \u7684 \u8fd0\u884c \u903b\u8f91 \uff0c \u4e0d \u5f71\u54cd \u4f7f\u7528   \u5927\u5e45 \u4fee\u6539 \u4e86   app . storage   \u7684 \u4f7f\u7528 \u65b9\u6cd5 \uff0c \u73b0\u5728   app . storage   \u4e0e   app . cache   \u6709\u7740 \u76f8\u4f3c \u7684 \u4f7f\u7528 \u903b\u8f91 \uff0c \u964d\u4f4e \u5fc3\u667a \u8d1f\u62c5   \u91cd\u65b0 \u6dfb\u52a0 \u4e86   app . set _ state   \u65b9\u6cd5   0.4 . 3   \u00b6   \u4fee\u6539 \u4e86 \u7f13\u5b58 \u548c \u6301\u4e45 \u5316\u4e2d \u7684 AyakaCacheCtrl \u548c AyakaJsonFileCtrl \u7684 \u53d8\u91cf \u6210\u5458 \u7684 \u540d\u79f0   AyakaCacheCtrl   . data   - >   AyakaCacheCtrl   ._ data   AyakaCacheCtrl   . keys   - >   AyakaCacheCtrl   ._ keys   AyakaJsonFileCtrl   . path   - >   AyakaJsonFileCtrl   ._ path   AyakaJsonFileCtrl   . data   - >   AyakaJsonFileCtrl   ._ data   \u6dfb\u52a0 \u4e86 api \u6587\u6863 \uff08 \u81ea\u52a8 \u751f\u6210 \uff09   \u6dfb\u52a0 \u4e86 app . parser   \u4fee\u590d \u4e86 ayaka \u5728 \u5904\u7406 \u5b8c \u6d88\u606f \u540e \u628a \u9519\u8bef \u5730 \u628a \u6d88\u606f \u6e05\u7a7a \u4e86 \u7684 \u95ee\u9898   ayaka \u5c06 \u5904\u7406 \u6d88\u606f \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u964d\u4f4e \u5230 \u4e86 20   ayaka \u4e0d\u518d \u4f7f\u7528 \u5168\u5c40 \u914d\u7f6e \uff08 \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09   0.4 . 4   \u00b6   \u589e\u52a0 \u4e86   ayaka _ setting . json   \u4ee5\u53ca \u5bf9\u5e94 \u7684 \u7ba1\u7406 \u65b9\u6cd5   \u73b0\u5728 ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c \u4e0d\u518d \u4e0e nonebot \u516c\u7528 \uff0c \u4ece\u800c \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u7684 \u51b2\u7a81 \u3002","title":"v4"},{"location":"change-log/v4/#v4-","text":"","title":"v4   -   \u6b63\u5728 \u4f7f\u7528"},{"location":"change-log/v4/#041","text":"","title":"0.4 . 1"},{"location":"change-log/v4/#api","text":"\u76f8\u6bd4 0.3 . x \u8fdb\u884c \u4e86 api \u7684 \u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u6362   \u5df2 \u8fc7\u65f6 \u7684 API \uff1a   on _ command   on _ text   on _ state _ command   on _ state _ text   group _ storage   plugin _ storage   set _ state   \u65b0 \u7684 API \uff1a   on   storage   \u901a\u8fc7 \u8fd9\u79cd \u65b9\u5f0f \uff0c \u4fbf\u4e8e \u540e\u7eed \u62d3\u5c55 ayaka \u7684 \u529f\u80fd \uff0c \u4f8b\u5982 \u6dfb\u52a0 \u5f02\u6b65 sql \u8bfb\u5199 \u652f\u6301   \u91cd\u65b0 \u5c06 ayaka \u529f\u80fd \u62c6 \u5206\u4e3a \u591a\u4e2a \u6587\u4ef6 \uff0c \u4ee5\u4fbf \u540e\u7eed \u62d3\u5c55 \u5f00\u53d1","title":"API \u53d8\u66f4"},{"location":"change-log/v4/#apparg","text":"\u4fee\u590d \u4e86 \u547d\u4ee4 \u62ac\u5934 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c app . arg \u9519\u8bef \u89e3\u6790 \u7684 \u95ee\u9898","title":"\u4fee\u590d app . arg \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u7684 \u9519\u8bef"},{"location":"change-log/v4/#042","text":"\u589e\u8fdb \u4e86 app . cache \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u6dfb\u52a0 \u4e86 chain \u65b9\u6cd5   \u4f18\u5316 \u4e86 app . cache \u7684 \u8fd0\u884c \u903b\u8f91 \uff0c \u4e0d \u5f71\u54cd \u4f7f\u7528   \u5927\u5e45 \u4fee\u6539 \u4e86   app . storage   \u7684 \u4f7f\u7528 \u65b9\u6cd5 \uff0c \u73b0\u5728   app . storage   \u4e0e   app . cache   \u6709\u7740 \u76f8\u4f3c \u7684 \u4f7f\u7528 \u903b\u8f91 \uff0c \u964d\u4f4e \u5fc3\u667a \u8d1f\u62c5   \u91cd\u65b0 \u6dfb\u52a0 \u4e86   app . set _ state   \u65b9\u6cd5","title":"0.4 . 2"},{"location":"change-log/v4/#043","text":"\u4fee\u6539 \u4e86 \u7f13\u5b58 \u548c \u6301\u4e45 \u5316\u4e2d \u7684 AyakaCacheCtrl \u548c AyakaJsonFileCtrl \u7684 \u53d8\u91cf \u6210\u5458 \u7684 \u540d\u79f0   AyakaCacheCtrl   . data   - >   AyakaCacheCtrl   ._ data   AyakaCacheCtrl   . keys   - >   AyakaCacheCtrl   ._ keys   AyakaJsonFileCtrl   . path   - >   AyakaJsonFileCtrl   ._ path   AyakaJsonFileCtrl   . data   - >   AyakaJsonFileCtrl   ._ data   \u6dfb\u52a0 \u4e86 api \u6587\u6863 \uff08 \u81ea\u52a8 \u751f\u6210 \uff09   \u6dfb\u52a0 \u4e86 app . parser   \u4fee\u590d \u4e86 ayaka \u5728 \u5904\u7406 \u5b8c \u6d88\u606f \u540e \u628a \u9519\u8bef \u5730 \u628a \u6d88\u606f \u6e05\u7a7a \u4e86 \u7684 \u95ee\u9898   ayaka \u5c06 \u5904\u7406 \u6d88\u606f \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u964d\u4f4e \u5230 \u4e86 20   ayaka \u4e0d\u518d \u4f7f\u7528 \u5168\u5c40 \u914d\u7f6e \uff08 \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09","title":"0.4 . 3"},{"location":"change-log/v4/#044","text":"\u589e\u52a0 \u4e86   ayaka _ setting . json   \u4ee5\u53ca \u5bf9\u5e94 \u7684 \u7ba1\u7406 \u65b9\u6cd5   \u73b0\u5728 ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c \u4e0d\u518d \u4e0e nonebot \u516c\u7528 \uff0c \u4ece\u800c \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u7684 \u51b2\u7a81 \u3002","title":"0.4 . 4"},{"location":"develop/","text":"\u672c\u7ae0 \u5185\u5bb9 \u6bd4\u8f83 \u96f6\u788e \uff0c \u63a8\u8350 \u5148 \u9605\u8bfb   \u5feb\u901f \u5f00\u59cb   \u5bf9 ayaka \u6709 \u6574\u4f53 \u7684 \u4e86\u89e3   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u524d\u7f6e \u5185\u5bb9"},{"location":"develop/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/api/","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" helloooooo \"   )   app \u5c5e\u6027   \u00b6   \u5e38\u7528   \u00b6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   help   str   \u5f53\u524d \u5e94\u7528 \u5728 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   state   bool   \u5f53\u524d \u5e94\u7528 \u7684 \u72b6\u6001   bot   Bot   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba   group   AyakaGroup   \u5f53\u524d \u7fa4\u7ec4   event   MessageEvent   \u5f53\u524d \u6d88\u606f \u4e8b\u4ef6   message   Message   \u5f53\u524d \u6d88\u606f   args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   group _ id   int   \u5f53\u524d \u7fa4\u804a \u7684 \u7fa4\u53f7   user _ id   int   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 qq \u53f7   user _ name   str   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0 \uff08 \u4f18\u5148 \u4e3a\u7fa4 \u540d\u7247 \uff09   cache   AyakaCache   \u4e3a \u5f53\u524d \u7fa4\u7ec4 \u5f53\u524d \u5e94\u7528 \u63d0\u4f9b \u7684 \u72ec\u7acb \u7f13\u5b58 \u6570\u636e \u7f13\u5b58\u6570\u636e \u7a7a\u95f4   \u5e38 \u4e0d\u7528   \u00b6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   name   str   \u5e94\u7528 \u540d\u79f0   intro   str   \u5e94\u7528 \u4ecb\u7ecd \uff08 \u8bbe\u7f6e help \u540e \u81ea\u52a8 \u751f\u6210 \uff09   all _ help   str   \u5f53\u524d \u5e94\u7528 \u7684 \u6240\u6709 \u5e2e\u52a9   arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   bot _ id   int   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba \u7684 qq \u53f7   app \u65b9\u6cd5   \u00b6   \u5f02\u6b65 \u65b9\u6cd5   \u00b6   \u540d\u79f0   \u529f\u80fd   start   \u8fd0\u884c \u5e94\u7528   close   \u5173\u95ed \u5e94\u7528   send   \u53d1\u9001 \u6d88\u606f   send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u5b9a\u65f6 \u5b9a\u65f6\u5668 \u89e6\u53d1 \u56de\u8c03 \u65f6\u6240 \u4f7f\u7528 \u7684 \u4e13\u7528 \u53d1\u9001 \u6d88\u606f \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   t _ send   \u53d1\u9001 \u6d88\u606f   t _ send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u540c\u6b65 \u65b9\u6cd5   \u00b6   \u6ce8\u518c \u56de\u8c03   \u540d\u79f0   \u529f\u80fd   on . idle   \u6ce8\u518c \u8bbe\u5907 \u95f2\u7f6e \u65f6 \u7684 \u56de\u8c03   on . state   \u6ce8\u518c \u5e94\u7528 \u8fd0\u884c \u5728 \u4e0d\u540c \u72b6\u6001 \u65f6 \u7684 \u56de\u8c03   on . command   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03   on . text   \u6ce8\u518c \u6d88\u606f \u56de\u8c03   on . everyday   \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1 \u56de\u8c03 \uff08 \u4e1c 8 \u533a \uff09   on . interval   \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5f00\u59cb \u5faa\u73af \u89e6\u53d1 \uff08 \u4e1c 8 \u533a \uff09   \u8bfb\u53d6 \u672c\u5730 \u6587\u4ef6 \u6570\u636e   \u540d\u79f0   \u529f\u80fd   storage . group _ path   \u8def\u5f84   data / groups / < bot _ id > / < group _ id > / < app _ name >   storage . plugin _ path   \u8def\u5f84   < create _ app _ file > / .. /   \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   \u540d\u79f0   \u529f\u80fd   add _ listener   \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   remove _ listener   \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u901f\u89c8"},{"location":"develop/api/#app","text":"","title":"app \u5c5e\u6027"},{"location":"develop/api/#_1","text":"\u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   help   str   \u5f53\u524d \u5e94\u7528 \u5728 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u5e2e\u52a9   state   bool   \u5f53\u524d \u5e94\u7528 \u7684 \u72b6\u6001   bot   Bot   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba   group   AyakaGroup   \u5f53\u524d \u7fa4\u7ec4   event   MessageEvent   \u5f53\u524d \u6d88\u606f \u4e8b\u4ef6   message   Message   \u5f53\u524d \u6d88\u606f   args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   group _ id   int   \u5f53\u524d \u7fa4\u804a \u7684 \u7fa4\u53f7   user _ id   int   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 qq \u53f7   user _ name   str   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0 \uff08 \u4f18\u5148 \u4e3a\u7fa4 \u540d\u7247 \uff09   cache   AyakaCache   \u4e3a \u5f53\u524d \u7fa4\u7ec4 \u5f53\u524d \u5e94\u7528 \u63d0\u4f9b \u7684 \u72ec\u7acb \u7f13\u5b58 \u6570\u636e \u7f13\u5b58\u6570\u636e \u7a7a\u95f4","title":"\u5e38\u7528"},{"location":"develop/api/#_2","text":"\u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   name   str   \u5e94\u7528 \u540d\u79f0   intro   str   \u5e94\u7528 \u4ecb\u7ecd \uff08 \u8bbe\u7f6e help \u540e \u81ea\u52a8 \u751f\u6210 \uff09   all _ help   str   \u5f53\u524d \u5e94\u7528 \u7684 \u6240\u6709 \u5e2e\u52a9   arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   bot _ id   int   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba \u7684 qq \u53f7","title":"\u5e38 \u4e0d\u7528"},{"location":"develop/api/#app_1","text":"","title":"app \u65b9\u6cd5"},{"location":"develop/api/#_3","text":"\u540d\u79f0   \u529f\u80fd   start   \u8fd0\u884c \u5e94\u7528   close   \u5173\u95ed \u5e94\u7528   send   \u53d1\u9001 \u6d88\u606f   send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u5b9a\u65f6 \u5b9a\u65f6\u5668 \u89e6\u53d1 \u56de\u8c03 \u65f6\u6240 \u4f7f\u7528 \u7684 \u4e13\u7528 \u53d1\u9001 \u6d88\u606f \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   t _ send   \u53d1\u9001 \u6d88\u606f   t _ send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f","title":"\u5f02\u6b65 \u65b9\u6cd5"},{"location":"develop/api/#_4","text":"\u6ce8\u518c \u56de\u8c03   \u540d\u79f0   \u529f\u80fd   on . idle   \u6ce8\u518c \u8bbe\u5907 \u95f2\u7f6e \u65f6 \u7684 \u56de\u8c03   on . state   \u6ce8\u518c \u5e94\u7528 \u8fd0\u884c \u5728 \u4e0d\u540c \u72b6\u6001 \u65f6 \u7684 \u56de\u8c03   on . command   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03   on . text   \u6ce8\u518c \u6d88\u606f \u56de\u8c03   on . everyday   \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1 \u56de\u8c03 \uff08 \u4e1c 8 \u533a \uff09   on . interval   \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5f00\u59cb \u5faa\u73af \u89e6\u53d1 \uff08 \u4e1c 8 \u533a \uff09   \u8bfb\u53d6 \u672c\u5730 \u6587\u4ef6 \u6570\u636e   \u540d\u79f0   \u529f\u80fd   storage . group _ path   \u8def\u5f84   data / groups / < bot _ id > / < group _ id > / < app _ name >   storage . plugin _ path   \u8def\u5f84   < create _ app _ file > / .. /   \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   \u540d\u79f0   \u529f\u80fd   add _ listener   \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   remove _ listener   \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c","title":"\u540c\u6b65 \u65b9\u6cd5"},{"location":"develop/api/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/browser/","text":"get _ new _ page ( width ,   * * kwargs )   \u00b6   \u83b7\u53d6 playwright   Page \u5bf9\u8c61   width   \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   high _ quality   \u8bbe\u7f6e \u56fe\u7247 \u8d28\u91cf \u4e3a \u9ad8   \u4f7f\u7528 \u793a\u4f8b \uff1a   await   with   get _ new _ page ( width = 200 ,   high _ quality = True )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6d4f\u89c8\u5668 \u622a\u56fe"},{"location":"develop/browser/#get_new_pagewidth-kwargs","text":"\u83b7\u53d6 playwright   Page \u5bf9\u8c61   width   \u8bbe\u7f6e \u5c4f\u5e55 \u5bbd\u5ea6   high _ quality   \u8bbe\u7f6e \u56fe\u7247 \u8d28\u91cf \u4e3a \u9ad8   \u4f7f\u7528 \u793a\u4f8b \uff1a   await   with   get _ new _ page ( width = 200 ,   high _ quality = True )   as   p :   await   p . goto ( ... )   await   p . screenshot ( ... )","title":"get _ new _ page ( width ,     * * kwargs )"},{"location":"develop/browser/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/cache/","text":"\u5982\u679c \u9700\u8981 \u4e34\u65f6 \u4fdd\u5b58 \u4e00\u4e9b \u6570\u636e \uff0c \u4ee5 \u4f9b\u5e94 \u7528 \u5728 \u4e0d\u540c \u65f6\u523b / \u51fd\u6570 \u4e2d \u4f7f\u7528 \uff0c \u90a3\u4e48 \u9700\u8981 \u4f7f\u7528 \u7f13\u5b58   app . cache   \u4e2d \u63d0\u4f9b \u4e86 \u4e00\u4e9b \u6709\u76ca \u7684 api   \u5feb\u901f \u4e0a \u624b   \u00b6   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   uid   =   app   .   user _ id   money   =   10   app   .   cache   .   chain   (   uid   ,   \" money \"   )   .   set   (   money   )   ...   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   uid   =   app   .   user _ id   #   \u5982\u679c \u5df2\u7ecf \u8bbe\u7f6e \u4e86 \u503c \uff0c \u5219 \u8fd4\u56de 10 \uff0c \u5426\u5219 \u8fd4\u56de \u7f3a\u7701 \u7f3a\u7701\u503c 0   money   =   app   .   cache   .   chain   (   uid   ,   \" money \"   )   .   get   (   0   )   ...   AyakaCacheCtrl . chain   \u00b6   json \u6587\u4ef6 \u53ef\u4ee5 \u8bbe\u7f6e \u591a\u5c42 key \uff0c \u4f46\u662f \u8bfb\u5199 \u65f6 \u5f80\u5f80 \u9047\u5230 \u56f0\u96be \u9047\u5230\u56f0\u96be \uff0c \u4f8b\u5982   data [ \" haha \" ] [ \" ee \" ] [ \" your   name \" ] [ \" wtf \" ]   =   2   \u4f60 \u9700\u8981 \u5148 \u5c42\u5c42 \u8bbe\u7f6e \uff0c \u6700\u7ec8 \u624d \u53ef \u8d4b\u503c   data   =   { }   data   [   \" haha \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ] [   \" your   name \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ] [   \" your   name \"   ] [   \" wtf \"   ]   =   2   AyakaCacheCtrl   \u88ab \u7528\u4e8e \u89e3\u51b3 \u8fd9\u4e00 \u56f0\u96be   from   ayaka . cache   import   AyakaCacheCtrl   data   =   AyakaCacheCtrl   ( )   ctrl   =   data   .   chain   (   \" haha \"   ,   \" ee \"   ,   \" your   name \"   ,   \" wtf \"   )   #   \u8bfb\u53d6 \u6570\u636e \u8bfb\u53d6\u6570\u636e ,   \u7f3a\u7701 \u7f3a\u7701\u503c 0   print   (   ctrl   .   get   (   0   ) )   #   0   #   \u8bbe\u7f6e \u6570\u636e   print   (   ctrl   .   set   (   3   ) )   #   3   #   \u518d\u6b21 \u8bfb\u53d6   print   (   ctrl   .   get   (   0   ) )   #   3   #   \u67e5\u770b \u6574\u4f53   print   (   data   )   #   { \" haha \" : { \" ee \" : { \" your   name \" : { \" wtf \" : 3 } } } }   \u94fe\u5f0f \u5199\u6cd5   \u00b6   \u6ce8\u610f \uff1a   AyakaCacheCtrl . chain ( )   - >   AyakaCacheCtrl   chain \u7684 \u8fd4\u56de \u8fd4\u56de\u503c \uff0c \u4ecd\u7136 \u662f \u4e00\u4e2a AyakaCacheCtrl \u5bf9\u8c61 \uff0c \u56e0\u6b64 \u4f60 \u53ef\u4ee5   ctrl   =   data   .   chain   (   \" haha \"   ,   \" ee \"   )   .   chain   (   \" your   name \"   )   .   chain   (   \" wtf \"   )   \u5982\u4f55 \u83b7\u53d6 AyakaCacheCtrl   \u00b6   \u65e0\u9700 \u60a8 \u81ea\u884c \u521b\u5efa   AyakaCacheCtrl \u5bf9\u8c61   \uff0c \u76f4\u63a5 \u8bbf\u95ee   app . cache   \u5373\u53ef \u83b7\u53d6   \u901a\u8fc7   app . cache   \u83b7\u5f97 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u5c06 \u4e0e \u5f53\u524d \u6d88\u606f \u6240\u5728 \u7684 \u7fa4\u804a id \u3001 \u673a\u5668 \u673a\u5668\u4eba id \u3001 \u5e94\u7528 \u540d \u8fdb\u884c   \u552f\u4e00 \u7ed1\u5b9a   \uff0c \u5c31\u662f \u5c31\u662f\u8bf4 \u4e5f\u5c31\u662f\u8bf4 \uff0c \u5f53 \u60a8 \u5728 \u5176\u4ed6 \u63d2\u4ef6 \u6216 \u5176\u4ed6 \u7fa4\u804a \u6216 \u5176\u4ed6 \u673a\u5668 \u673a\u5668\u4eba \u4e2d \u83b7\u53d6 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u662f \u76f8\u4e92 \u72ec\u7acb \u7684   \u901a\u8fc7   app . cache   \u83b7\u5f97 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u4e0d\u4f1a \u56e0\u4e3a \u5f53\u524d \u6d88\u606f \u5904\u7406 \u7ed3\u675f \u800c \u9500\u6bc1 \uff0c \u56e0\u6b64 \u53ef\u4ee5 \u5728 \u540c\u4e00 \u673a\u5668 \u673a\u5668\u4eba \u3001 \u540c\u4e00 \u7fa4\u804a \u3001 \u540c\u4e00 \u63d2\u4ef6 \u7684 \u60c5\u51b5 \u4e0b \uff0c \u901a\u8fc7   app . cache   \u6765 \u4fdd\u5b58 \u4e00\u4e9b \u4e34\u65f6 \u4e34\u65f6\u6027 \u7684 \u4fe1\u606f \uff0c \u4f8b\u5982 \uff1a   \u5f53 \u7528\u6237 \u53d1\u9001 \u6307\u4ee4 A \u65f6 \uff0c \u901a\u8fc7 \u7f13\u5b58 \u4fdd\u5b58 \u8be5 \u7528\u6237 \u7684 \u540d\u79f0   \u518d \u7b49\u5230 \u7528\u6237 \u53d1\u9001 \u6307\u4ee4 B \u65f6 \uff0c \u901a\u8fc7 \u7f13\u5b58 \u83b7\u53d6 \u4e4b\u524d \u4fdd\u5b58 \u7684 \u540d\u79f0   \u6ce8\u610f \uff1a bot \u91cd\u542f \u540e \uff0c   app . cache   \u6570\u636e \u4f1a \u4e22\u5931   \u5176\u4ed6 \u7528\u6cd5 \uff08 \u4e0d \u63a8\u8350 \uff09   \u00b6   print   (   app   .   cache   .   name   )   #   None   app   .   cache   .   name   =   \" a \"   print   (   app   .   cache   .   name   )   #   a   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u7f13\u5b58"},{"location":"develop/cache/#_1","text":"@ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   uid   =   app   .   user _ id   money   =   10   app   .   cache   .   chain   (   uid   ,   \" money \"   )   .   set   (   money   )   ...   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   uid   =   app   .   user _ id   #   \u5982\u679c \u5df2\u7ecf \u8bbe\u7f6e \u4e86 \u503c \uff0c \u5219 \u8fd4\u56de 10 \uff0c \u5426\u5219 \u8fd4\u56de \u7f3a\u7701 \u7f3a\u7701\u503c 0   money   =   app   .   cache   .   chain   (   uid   ,   \" money \"   )   .   get   (   0   )   ...","title":"\u5feb\u901f \u4e0a \u624b"},{"location":"develop/cache/#ayakacachectrlchain","text":"json \u6587\u4ef6 \u53ef\u4ee5 \u8bbe\u7f6e \u591a\u5c42 key \uff0c \u4f46\u662f \u8bfb\u5199 \u65f6 \u5f80\u5f80 \u9047\u5230 \u56f0\u96be \u9047\u5230\u56f0\u96be \uff0c \u4f8b\u5982   data [ \" haha \" ] [ \" ee \" ] [ \" your   name \" ] [ \" wtf \" ]   =   2   \u4f60 \u9700\u8981 \u5148 \u5c42\u5c42 \u8bbe\u7f6e \uff0c \u6700\u7ec8 \u624d \u53ef \u8d4b\u503c   data   =   { }   data   [   \" haha \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ] [   \" your   name \"   ]   =   { }   data   [   \" haha \"   ] [   \" ee \"   ] [   \" your   name \"   ] [   \" wtf \"   ]   =   2   AyakaCacheCtrl   \u88ab \u7528\u4e8e \u89e3\u51b3 \u8fd9\u4e00 \u56f0\u96be   from   ayaka . cache   import   AyakaCacheCtrl   data   =   AyakaCacheCtrl   ( )   ctrl   =   data   .   chain   (   \" haha \"   ,   \" ee \"   ,   \" your   name \"   ,   \" wtf \"   )   #   \u8bfb\u53d6 \u6570\u636e \u8bfb\u53d6\u6570\u636e ,   \u7f3a\u7701 \u7f3a\u7701\u503c 0   print   (   ctrl   .   get   (   0   ) )   #   0   #   \u8bbe\u7f6e \u6570\u636e   print   (   ctrl   .   set   (   3   ) )   #   3   #   \u518d\u6b21 \u8bfb\u53d6   print   (   ctrl   .   get   (   0   ) )   #   3   #   \u67e5\u770b \u6574\u4f53   print   (   data   )   #   { \" haha \" : { \" ee \" : { \" your   name \" : { \" wtf \" : 3 } } } }","title":"AyakaCacheCtrl . chain"},{"location":"develop/cache/#_2","text":"\u6ce8\u610f \uff1a   AyakaCacheCtrl . chain ( )   - >   AyakaCacheCtrl   chain \u7684 \u8fd4\u56de \u8fd4\u56de\u503c \uff0c \u4ecd\u7136 \u662f \u4e00\u4e2a AyakaCacheCtrl \u5bf9\u8c61 \uff0c \u56e0\u6b64 \u4f60 \u53ef\u4ee5   ctrl   =   data   .   chain   (   \" haha \"   ,   \" ee \"   )   .   chain   (   \" your   name \"   )   .   chain   (   \" wtf \"   )","title":"\u94fe\u5f0f \u5199\u6cd5"},{"location":"develop/cache/#ayakacachectrl","text":"\u65e0\u9700 \u60a8 \u81ea\u884c \u521b\u5efa   AyakaCacheCtrl \u5bf9\u8c61   \uff0c \u76f4\u63a5 \u8bbf\u95ee   app . cache   \u5373\u53ef \u83b7\u53d6   \u901a\u8fc7   app . cache   \u83b7\u5f97 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u5c06 \u4e0e \u5f53\u524d \u6d88\u606f \u6240\u5728 \u7684 \u7fa4\u804a id \u3001 \u673a\u5668 \u673a\u5668\u4eba id \u3001 \u5e94\u7528 \u540d \u8fdb\u884c   \u552f\u4e00 \u7ed1\u5b9a   \uff0c \u5c31\u662f \u5c31\u662f\u8bf4 \u4e5f\u5c31\u662f\u8bf4 \uff0c \u5f53 \u60a8 \u5728 \u5176\u4ed6 \u63d2\u4ef6 \u6216 \u5176\u4ed6 \u7fa4\u804a \u6216 \u5176\u4ed6 \u673a\u5668 \u673a\u5668\u4eba \u4e2d \u83b7\u53d6 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u662f \u76f8\u4e92 \u72ec\u7acb \u7684   \u901a\u8fc7   app . cache   \u83b7\u5f97 \u7684   AyakaCacheCtrl \u5bf9\u8c61   \u4e0d\u4f1a \u56e0\u4e3a \u5f53\u524d \u6d88\u606f \u5904\u7406 \u7ed3\u675f \u800c \u9500\u6bc1 \uff0c \u56e0\u6b64 \u53ef\u4ee5 \u5728 \u540c\u4e00 \u673a\u5668 \u673a\u5668\u4eba \u3001 \u540c\u4e00 \u7fa4\u804a \u3001 \u540c\u4e00 \u63d2\u4ef6 \u7684 \u60c5\u51b5 \u4e0b \uff0c \u901a\u8fc7   app . cache   \u6765 \u4fdd\u5b58 \u4e00\u4e9b \u4e34\u65f6 \u4e34\u65f6\u6027 \u7684 \u4fe1\u606f \uff0c \u4f8b\u5982 \uff1a   \u5f53 \u7528\u6237 \u53d1\u9001 \u6307\u4ee4 A \u65f6 \uff0c \u901a\u8fc7 \u7f13\u5b58 \u4fdd\u5b58 \u8be5 \u7528\u6237 \u7684 \u540d\u79f0   \u518d \u7b49\u5230 \u7528\u6237 \u53d1\u9001 \u6307\u4ee4 B \u65f6 \uff0c \u901a\u8fc7 \u7f13\u5b58 \u83b7\u53d6 \u4e4b\u524d \u4fdd\u5b58 \u7684 \u540d\u79f0   \u6ce8\u610f \uff1a bot \u91cd\u542f \u540e \uff0c   app . cache   \u6570\u636e \u4f1a \u4e22\u5931","title":"\u5982\u4f55 \u83b7\u53d6 AyakaCacheCtrl"},{"location":"develop/cache/#_3","text":"print   (   app   .   cache   .   name   )   #   None   app   .   cache   .   name   =   \" a \"   print   (   app   .   cache   .   name   )   #   a","title":"\u5176\u4ed6 \u7528\u6cd5 \uff08 \u4e0d \u63a8\u8350 \uff09"},{"location":"develop/cache/#_4","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/config/","text":"\u6240\u6709 ayaka \u884d\u751f \u63d2\u4ef6 \u5747 \u53ef \u7533\u8bf7 \u8bfb\u5199   ayaka _ setting . json   \u4e2d \u7684 \u914d\u7f6e \uff0c \u4f7f\u7528 \u793a\u4f8b \u5982\u4e0b   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u793a\u4f8b \u63d2\u4ef6 \"   )   class   Config   (   app   .   BaseConfig   ) :   name   :   str   =   \" \u6d4b\u8bd5 \"   config   =   Config   ( )   #   \u8bfb\u53d6 \u914d\u7f6e   print   (   config   .   name   )   #   \u4fee\u6539 \u5e76 \u5199\u5165 \u914d\u7f6e   config   .   name   =   \" \u65b0 \u540d\u5b57 \"   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   ayaka _ setting . json   {   ...   \" \u793a\u4f8b \u63d2\u4ef6 \"   :   {   \" name \"   :   \" \u65b0 \u540d\u5b57 \"   }   ...   }   \u7279\u6b8a \u60c5\u51b5 \uff1a \u4fee\u6539 \u6570\u7ec4 \u3001 \u5b57\u5178 \u7b49   \u53ef\u53d8 \u5bf9\u8c61   \u7684 \u503c   from   ayaka   import   AyakaApp   from   typing   import   List   app   =   AyakaApp   (   \" \u793a\u4f8b \u63d2\u4ef6 \"   )   class   Config   (   app   .   BaseConfig   ) :   uids   :   List   [   int   ]   =   [ ]   config   =   Config   ( )   #   \u8bfb\u53d6 \u914d\u7f6e   print   (   config   .   uids   )   #   \u4fee\u6539 \u914d\u7f6e   config   .   uids   .   append   (   1   )   #   \u5199\u5165 \u914d\u7f6e   config   .   force _ update   ( )   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   ayaka _ setting . json   {   ...   \" \u793a\u4f8b \u63d2\u4ef6 \"   :   {   \" uids \"   :   [   1   ]   }   ...   }","title":"\u914d\u7f6e"},{"location":"develop/on/","text":"\u65e0 \u53c2\u6570   \u00b6   \u6ce8\u518c \u7684 \u56de\u8c03 \u51fd\u6570 \u5fc5\u987b \u662f \u6ca1\u6709 \u53c2\u6570 \u7684 \u5f02\u6b65 \u51fd\u6570   \u82e5 \u9700\u8981 \u83b7\u53d6 \u53c2\u6570 \uff0c \u8bf7 \u76f4\u63a5 \u8bbf\u95ee \u5bf9\u5e94 app \u5c5e\u6027   \u4f8b\u5982 \uff1a   \u83b7\u53d6 \u4e8b\u4ef6   app . event   \u83b7\u53d6 \u6d88\u606f   app . message   \u83b7\u53d6 \u5206\u5272 \u540e \u7684 \u6d88\u606f   app . args   \u83b7\u53d6 \u7528\u6237 id   app . user _ id   \u83b7\u53d6 \u7528\u6237 \u6237\u540d \u7528\u6237\u540d   app . user _ name   ...   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u559d\u6c34 \"   )   async   def   no _ args   ( ) :   print   (   app   .   user _ id   )   print   (   app   .   user _ name   )   \u4f55\u65f6 \u8fd0\u884c \u56de\u8c03   \u00b6   \u5f53 \u5b58\u5728 \u6fc0\u52b1 \u6e90 \u9a71\u52a8 \u65f6 \uff0c \u5c06\u4f1a \u89e6\u53d1 \u76f8\u5e94 \u7684 \u56de\u8c03 \u8fd0\u884c   \u6fc0\u52b1 \u6e90 \u901a\u5e38 \u6765\u8bf4 \u6709 \u4e24\u7c7b \uff0c \u6d88\u606f \u9a71\u52a8 \u3001 \u65f6\u95f4 \u9a71\u52a8   \u6d88\u606f \u9a71\u52a8   \u00b6   \u5728 \u6536\u5230 \u6d88\u606f \u540e \u89e6\u53d1 \u56de\u8c03   app . on . idle ( super = False )   \u00b6   \u6ce8\u518c \u8bbe\u5907 \u95f2\u7f6e \u65f6 \u7684 \u56de\u8c03   app . on . state ( * states : str )   \u00b6   \u6ce8\u518c \u5e94\u7528 \u8fd0\u884c \u5728 \u4e0d\u540c \u72b6\u6001 \u65f6 \u7684 \u56de\u8c03   app . on . command ( * cmds :   str )   \u00b6   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03   app . on . text ( )   \u00b6   \u6ce8\u518c \u6d88\u606f \u56de\u8c03   \u4f7f\u7528 \u987a\u5e8f   \u00b6   \u5fc5\u987b \u662f \u5982\u4e0b \u7684 \u5148\u540e \u987a\u5e8f \u5148\u540e\u987a\u5e8f   @ app   .   on   .   state   (   ...   )   /   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   /   @ app   .   on   .   text   ( )   async   def   handle   ( ) :   ...   4 \u79cd \u7ec4\u5408 \u7686 \u53ef   \u95f2\u7f6e   \u00b6   \u5728 \u6ca1\u6709 \u4efb\u4f55 \u5e94\u7528 \u8fd0\u884c \u65f6 \uff0c \u7fa4\u804a \u5904\u4e8e \u95f2\u7f6e \u72b6\u6001 \uff0c \u6b64\u65f6 \u6ce8\u518c \u7684 \u6240\u6709   on . idle   \u56de\u8c03 \u90fd \u53ef\u4ee5 \u54cd\u5e94 \uff0c \u800c   on . state   \u5219 \u65e0\u6cd5 \u54cd\u5e94 \uff0c \u56e0\u4e3a \u5b83\u4eec \u90fd \u4f9d\u8d56 \u8d56\u4e8e \u4f9d\u8d56\u4e8e \u76f8\u5173 \u5e94\u7528 \u7684 \u72b6\u6001 \uff0c \u800c \u95f2\u7f6e \u65f6 \u6ca1\u6709 \u5e94\u7528 \u8fd0\u884c   \u8fd0\u884c \u5e94\u7528 \u540e \uff0c \u6ce8\u518c \u5728 \u5bf9\u5e94 \u5e94\u7528 \u4e0b \u7684   on . state   \u56de\u8c03 \u53ef\u4ee5 \u54cd\u5e94 \uff0c \u800c \u666e\u901a \u7684   on . idle   \u65e0\u6cd5 \u54cd\u5e94 \uff0c \u4f46 \u5bf9\u4e8e \u8bbe\u7f6e \u4e86   super = True   \u7684 \u7279\u6b8a \u7684   on . idle   \u4ecd \u53ef\u4ee5 \u54cd\u5e94   \u8fd9\u79cd \u8bbe\u8ba1 \u53ef\u4ee5 \u5e2e\u52a9 \u4e00\u4e9b \u6709 \u7279\u6b8a \u9700\u8981 \u7684   \u65e0 \u72b6\u6001 \u5e94\u7528   \u5728   \u6709 \u72b6\u6001 \u5e94\u7528   \u8fd0\u884c \u65f6 \u4ecd \u53ef \u54cd\u5e94 \u7528\u6237 \u7684 \u6307\u4ee4   \u65f6\u95f4 \u9a71\u52a8   \u00b6   \u5b9a\u65f6 \u5b9a\u65f6\u5668 \u5b9a\u65f6 \u89e6\u53d1 \u56de\u8c03   \u89e6\u53d1 \u65f6 \uff0c \u56de\u8c03 \u65e0\u6cd5 \u901a\u8fc7 \u5206\u6790 \u6d88\u606f \u5f97\u5230 \u5404\u7c7b \u4fe1\u606f \uff08 bot / group / message / event / sender \u7b49 \uff09   \u56e0\u6b64 \u6709 \u5f88\u591a \u65b9\u6cd5 \u548c \u5c5e\u6027 \u90fd \u65e0\u6cd5 \u8bbf\u95ee \u65e0\u6cd5\u8bbf\u95ee   \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u4e13\u7528 \u7684   app . t _ send   /   app . t _ send _ many   \uff0c \u5e76\u4e14 \u9700\u8981 \u63d0\u4f9b \u76ee\u6807 bot \u548c \u7fa4\u7ec4 \u7684 id   app . on . interval ( gap :   int ,   h :   int   =   - 1 ,   m :   int   =   - 1 ,   s :   int   =   - 1 )   \u00b6   \u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1   app . on . everyday ( h :   int ,   m :   int ,   s :   int )   \u00b6   \u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6ce8\u518c \u56de\u8c03"},{"location":"develop/on/#_1","text":"\u6ce8\u518c \u7684 \u56de\u8c03 \u51fd\u6570 \u5fc5\u987b \u662f \u6ca1\u6709 \u53c2\u6570 \u7684 \u5f02\u6b65 \u51fd\u6570   \u82e5 \u9700\u8981 \u83b7\u53d6 \u53c2\u6570 \uff0c \u8bf7 \u76f4\u63a5 \u8bbf\u95ee \u5bf9\u5e94 app \u5c5e\u6027   \u4f8b\u5982 \uff1a   \u83b7\u53d6 \u4e8b\u4ef6   app . event   \u83b7\u53d6 \u6d88\u606f   app . message   \u83b7\u53d6 \u5206\u5272 \u540e \u7684 \u6d88\u606f   app . args   \u83b7\u53d6 \u7528\u6237 id   app . user _ id   \u83b7\u53d6 \u7528\u6237 \u6237\u540d \u7528\u6237\u540d   app . user _ name   ...   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u559d\u6c34 \"   )   async   def   no _ args   ( ) :   print   (   app   .   user _ id   )   print   (   app   .   user _ name   )","title":"\u65e0 \u53c2\u6570"},{"location":"develop/on/#_2","text":"\u5f53 \u5b58\u5728 \u6fc0\u52b1 \u6e90 \u9a71\u52a8 \u65f6 \uff0c \u5c06\u4f1a \u89e6\u53d1 \u76f8\u5e94 \u7684 \u56de\u8c03 \u8fd0\u884c   \u6fc0\u52b1 \u6e90 \u901a\u5e38 \u6765\u8bf4 \u6709 \u4e24\u7c7b \uff0c \u6d88\u606f \u9a71\u52a8 \u3001 \u65f6\u95f4 \u9a71\u52a8","title":"\u4f55\u65f6 \u8fd0\u884c \u56de\u8c03"},{"location":"develop/on/#_3","text":"\u5728 \u6536\u5230 \u6d88\u606f \u540e \u89e6\u53d1 \u56de\u8c03","title":"\u6d88\u606f \u9a71\u52a8"},{"location":"develop/on/#apponidlesuperfalse","text":"\u6ce8\u518c \u8bbe\u5907 \u95f2\u7f6e \u65f6 \u7684 \u56de\u8c03","title":"app . on . idle ( super = False )"},{"location":"develop/on/#apponstatestatesstr","text":"\u6ce8\u518c \u5e94\u7528 \u8fd0\u884c \u5728 \u4e0d\u540c \u72b6\u6001 \u65f6 \u7684 \u56de\u8c03","title":"app . on . state ( * states : str )"},{"location":"develop/on/#apponcommandcmds-str","text":"\u6ce8\u518c \u547d\u4ee4 \u56de\u8c03","title":"app . on . command ( * cmds :   str )"},{"location":"develop/on/#appontext","text":"\u6ce8\u518c \u6d88\u606f \u56de\u8c03","title":"app . on . text ( )"},{"location":"develop/on/#_4","text":"\u5fc5\u987b \u662f \u5982\u4e0b \u7684 \u5148\u540e \u987a\u5e8f \u5148\u540e\u987a\u5e8f   @ app   .   on   .   state   (   ...   )   /   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   /   @ app   .   on   .   text   ( )   async   def   handle   ( ) :   ...   4 \u79cd \u7ec4\u5408 \u7686 \u53ef","title":"\u4f7f\u7528 \u987a\u5e8f"},{"location":"develop/on/#_5","text":"\u5728 \u6ca1\u6709 \u4efb\u4f55 \u5e94\u7528 \u8fd0\u884c \u65f6 \uff0c \u7fa4\u804a \u5904\u4e8e \u95f2\u7f6e \u72b6\u6001 \uff0c \u6b64\u65f6 \u6ce8\u518c \u7684 \u6240\u6709   on . idle   \u56de\u8c03 \u90fd \u53ef\u4ee5 \u54cd\u5e94 \uff0c \u800c   on . state   \u5219 \u65e0\u6cd5 \u54cd\u5e94 \uff0c \u56e0\u4e3a \u5b83\u4eec \u90fd \u4f9d\u8d56 \u8d56\u4e8e \u4f9d\u8d56\u4e8e \u76f8\u5173 \u5e94\u7528 \u7684 \u72b6\u6001 \uff0c \u800c \u95f2\u7f6e \u65f6 \u6ca1\u6709 \u5e94\u7528 \u8fd0\u884c   \u8fd0\u884c \u5e94\u7528 \u540e \uff0c \u6ce8\u518c \u5728 \u5bf9\u5e94 \u5e94\u7528 \u4e0b \u7684   on . state   \u56de\u8c03 \u53ef\u4ee5 \u54cd\u5e94 \uff0c \u800c \u666e\u901a \u7684   on . idle   \u65e0\u6cd5 \u54cd\u5e94 \uff0c \u4f46 \u5bf9\u4e8e \u8bbe\u7f6e \u4e86   super = True   \u7684 \u7279\u6b8a \u7684   on . idle   \u4ecd \u53ef\u4ee5 \u54cd\u5e94   \u8fd9\u79cd \u8bbe\u8ba1 \u53ef\u4ee5 \u5e2e\u52a9 \u4e00\u4e9b \u6709 \u7279\u6b8a \u9700\u8981 \u7684   \u65e0 \u72b6\u6001 \u5e94\u7528   \u5728   \u6709 \u72b6\u6001 \u5e94\u7528   \u8fd0\u884c \u65f6 \u4ecd \u53ef \u54cd\u5e94 \u7528\u6237 \u7684 \u6307\u4ee4","title":"\u95f2\u7f6e"},{"location":"develop/on/#_6","text":"\u5b9a\u65f6 \u5b9a\u65f6\u5668 \u5b9a\u65f6 \u89e6\u53d1 \u56de\u8c03   \u89e6\u53d1 \u65f6 \uff0c \u56de\u8c03 \u65e0\u6cd5 \u901a\u8fc7 \u5206\u6790 \u6d88\u606f \u5f97\u5230 \u5404\u7c7b \u4fe1\u606f \uff08 bot / group / message / event / sender \u7b49 \uff09   \u56e0\u6b64 \u6709 \u5f88\u591a \u65b9\u6cd5 \u548c \u5c5e\u6027 \u90fd \u65e0\u6cd5 \u8bbf\u95ee \u65e0\u6cd5\u8bbf\u95ee   \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u4e13\u7528 \u7684   app . t _ send   /   app . t _ send _ many   \uff0c \u5e76\u4e14 \u9700\u8981 \u63d0\u4f9b \u76ee\u6807 bot \u548c \u7fa4\u7ec4 \u7684 id","title":"\u65f6\u95f4 \u9a71\u52a8"},{"location":"develop/on/#apponintervalgap-int-h-int-1-m-int-1-s-int-1","text":"\u5728 \u6307\u5b9a \u7684 \u65f6\u95f4 \u70b9\u540e \u5faa\u73af \u89e6\u53d1","title":"app . on . interval ( gap :   int ,   h :   int   =   - 1 ,   m :   int   =   - 1 ,   s :   int   =   - 1 )"},{"location":"develop/on/#apponeverydayh-int-m-int-s-int","text":"\u6bcf\u65e5 \u5b9a\u65f6 \u89e6\u53d1","title":"app . on . everyday ( h :   int ,   m :   int ,   s :   int )"},{"location":"develop/on/#_7","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/open/","text":"async   def   app . start   \u00b6   \u53ef \u8bbe\u7f6e \u53c2\u6570 \uff0c \u6253\u5f00 app \u5e76\u4ee4 app \u5904\u4e8e \u6307\u5b9a \u72b6\u6001   \u4e0d \u8bbe\u7f6e \u53c2\u6570 \u65f6 \uff0c app \u5904\u4e8e INIT _ STATE \u72b6\u6001   async   def   app . close   \u00b6   \u5173\u95ed app   \u8bbe\u7f6e \u72b6\u6001   \u00b6   app . state   =   \" \u72b6\u6001 1 \"   \u6216   app . set _ state ( \" \u72b6\u6001 1 \" )   \u4e0d \u8bbe\u7f6e \u53c2\u6570 \u65f6 \uff0c \u4ee4 app \u5904\u4e8e INIT _ STATE \u72b6\u6001   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5f00\u542f \u5e94\u7528"},{"location":"develop/open/#async-def-appstart","text":"\u53ef \u8bbe\u7f6e \u53c2\u6570 \uff0c \u6253\u5f00 app \u5e76\u4ee4 app \u5904\u4e8e \u6307\u5b9a \u72b6\u6001   \u4e0d \u8bbe\u7f6e \u53c2\u6570 \u65f6 \uff0c app \u5904\u4e8e INIT _ STATE \u72b6\u6001","title":"async   def   app . start"},{"location":"develop/open/#async-def-appclose","text":"\u5173\u95ed app","title":"async   def   app . close"},{"location":"develop/open/#_1","text":"app . state   =   \" \u72b6\u6001 1 \"   \u6216   app . set _ state ( \" \u72b6\u6001 1 \" )   \u4e0d \u8bbe\u7f6e \u53c2\u6570 \u65f6 \uff0c \u4ee4 app \u5904\u4e8e INIT _ STATE \u72b6\u6001","title":"\u8bbe\u7f6e \u72b6\u6001"},{"location":"develop/open/#_2","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/parser/","text":"\u63d0\u4f9b \u4e00\u4e9b \u6709\u76ca \u7684 \u8f6c\u6362 \u65b9\u6cd5 \u8f6c\u6362\u65b9\u6cd5 \uff0c   obj   < - >   str   \u4fdd\u5b58 \u6d88\u606f   \u00b6   \u5c06 Message \u8f6c\u4e3a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u540e \u5b58\u50a8   msg _ str   =   app   .   parser   .   encode _ message   (   app   .   message   )   #   \u901a\u8fc7 \u67d0\u79cd \u65b9\u5f0f \u4fdd\u5b58   msg _ str \uff0c \u4f8b\u5982 app . storage . plugin _ path ( ... ) . json ( ... ) . chain ( ... ) . set ( msg _ str )   \u6062\u590d \u6570\u636e   \u00b6   \u5c06 text \u6062\u590d \u4e3a Message   #   \u901a\u8fc7 \u67d0\u79cd \u65b9\u5f0f \u83b7\u53d6   msg _ str \uff0c \u4f8b\u5982 app . storage . plugin _ path ( ... ) . json ( ... ) . chain ( ... ) . get ( )   msg   =   app   .   parser   .   decode _ message   (   msg _ str   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u89e3\u6790"},{"location":"develop/parser/#_1","text":"\u5c06 Message \u8f6c\u4e3a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u540e \u5b58\u50a8   msg _ str   =   app   .   parser   .   encode _ message   (   app   .   message   )   #   \u901a\u8fc7 \u67d0\u79cd \u65b9\u5f0f \u4fdd\u5b58   msg _ str \uff0c \u4f8b\u5982 app . storage . plugin _ path ( ... ) . json ( ... ) . chain ( ... ) . set ( msg _ str )","title":"\u4fdd\u5b58 \u6d88\u606f"},{"location":"develop/parser/#_2","text":"\u5c06 text \u6062\u590d \u4e3a Message   #   \u901a\u8fc7 \u67d0\u79cd \u65b9\u5f0f \u83b7\u53d6   msg _ str \uff0c \u4f8b\u5982 app . storage . plugin _ path ( ... ) . json ( ... ) . chain ( ... ) . get ( )   msg   =   app   .   parser   .   decode _ message   (   msg _ str   )","title":"\u6062\u590d \u6570\u636e"},{"location":"develop/parser/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/storage/","text":"\u5982\u679c \u9700\u8981 bot \u91cd\u542f \u540e \u6570\u636e \u4e0d \u4e22\u5931 \uff0c \u5219 \u9700\u8981 \u5c06 \u6570\u636e \u4fdd\u5b58 \u5230 \u672c\u5730   app . storage   \u4e2d \u63d0\u4f9b \u4e86 \u4e00\u4e9b \u6709\u76ca \u7684 api   \u5feb\u901f \u4e0a \u624b   \u00b6   \u63d2\u4ef6 \u7ed3\u6784   plugins   bag   __ init __. py   test   ok . txt   \u82e5\u60f3 \u83b7\u53d6 ok . txt \u7684 \u6570\u636e \uff0c \u53ea \u9700   #   plugins / bag / __ init __. py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   (   \" test \"   )   #   \u5bf9\u5e94 \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   plugins / bag / test   file   =   dirpath   .   file   (   \" ok . txt \"   )   #   \u5bf9\u5e94 \u6587\u4ef6   plugins / bag / test / ok . txt   data   =   file   .   load   ( )   ...   \u5305 \u63d2\u4ef6   \u00b6   \u5982\u679c \u60a8 \u7684 \u4ee3\u7801 \u4e2d \u4f7f\u7528 \u4e86   app . storage . plugin _ path ( )   \u76f8\u5173 \u4ee3\u7801 \uff0c \u90a3\u4e48 \u5efa\u8bae \u5efa\u8bae\u60a8 \u7684 \u63d2\u4ef6 \u4e3a \u5305 \u63d2\u4ef6 \u5f62\u5f0f   \u5355 \u6587\u4ef6 \u63d2\u4ef6   plugins   bag . py   data . json   checkin . py   ...   #   plugins / bag . py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   ( )   #   \u5bf9\u5e94   plugins   file   =   dirpath   .   json   (   \" data \"   )   #   \u6570\u636e \u548c bag . py \u90fd \u4f4d\u4e8e plugins \u4e0b \uff0c \u5728 \u591a \u63d2\u4ef6 \u65f6 \u9020\u6210 \u6df7\u4e71   data   =   file   .   load   ( )   ...   \u5305 \u63d2\u4ef6   plugins   bag   __ init __. py   data . json   checkin   ...   #   plugins / bag / __ init __. py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   ( )   #   \u5bf9\u5e94   plugins / bag   file   =   dirpath   .   json   (   \" data \"   )   #   \u6570\u636e \u548c __ init __. py \u90fd \u4f4d\u4e8e plugins / bag \u4e0b \uff0c \u5728 \u591a \u63d2\u4ef6 \u65f6 \u4f9d\u65e7 \u6e05\u6670 \u660e \u4e86   data   =   file   .   load   ( )   ...   AyakaPath   \u00b6   AyakaPath \uff0c \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939 \u5730\u5740   app . plugin _ path ( )   \u548c   app . group _ path ( )   \u8fd4\u56de   AyakaPath \u5bf9\u8c61   app . plugin _ path ( )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. /   app . plugin _ path ( 1 ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. / 1 / a   app . plugin _ path ( \" 1 \" ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. / 1 / a   app . group _ path ( )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name >   app . group _ path ( 1 ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name > / 1 / a   app . group _ path ( \" 1 \" ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name > / 1 / a   AyakaFile   \u00b6   AyakaPath \u5bf9\u8c61 . file ( )   \u8fd4\u56de   AyakaFile \u5bf9\u8c61   app . plugin _ path ( ) . file ( \" test . txt \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / test . txt   app . plugin _ path ( ) . file ( \" error . log \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / error . log   \u5185\u7f6e load \u3001 save \u65b9\u6cd5 \uff0c \u6309\u7167 txt \u6587\u4ef6 \u683c\u5f0f \u6587\u4ef6\u683c\u5f0f \u5bf9 \u6570\u636e \u8fdb\u884c \u5904\u7406   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   f   .   read   ( )   return   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   f   .   write   (   str   (   data   ) )   AyakaJsonFile   \u00b6   AyakaPath \u5bf9\u8c61 . json ( )   \u8fd4\u56de   AyakaJsonFile \u5bf9\u8c61   app . plugin _ path ( ) . json ( \" hi \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / hi . json   app . plugin _ path ( ) . json ( \" hi . log \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / hi . json   . json ( )   \u4f1a \u5f3a\u5236 \u4fee\u6539 \u6587\u4ef6 \u540e\u7f00 \u540e\u7f00\u540d \u4e3a json   \u5185\u7f6e load \u3001 save \u65b9\u6cd5 \uff0c \u6309\u7167 json \u6587\u4ef6 \u683c\u5f0f \u6587\u4ef6\u683c\u5f0f \u5bf9 \u6570\u636e \u8fdb\u884c \u5904\u7406   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )   AyakaJsonFileCtrl . chain   \u00b6   json \u6587\u4ef6 \u53ef\u4ee5 \u8bbe\u7f6e \u591a\u5c42 key \uff0c \u56e0\u6b64   AyakaJsonFile   \u5728 \u8bfb\u5199 \u6570\u636e \u65f6\u4f1a \u9047\u5230 \u4e0e   \u7f13\u5b58   \u540c\u6837 \u7684 \u95ee\u9898   AyakaJsonFileCtrl   \u88ab \u7528\u4e8e \u89e3\u51b3 \u8fd9\u4e00 \u56f0\u96be \uff0c \u5176 API \u4e0e   AyakaCacheCtrl   \u51e0\u4e4e \u5b8c\u5168 \u4e00\u81f4 \u5b8c\u5168\u4e00\u81f4 \uff0c \u4f60 \u53ef\u4ee5   #   plugins / bag / __ init __. py   ctrl   =   app   .   plugin _ path   ( )   .   json   (   \" data \"   )   .   chain   (   10086   ,   \" money \"   )   #   \u7f3a\u7701 \u7f3a\u7701\u503c 100   money   =   ctrl   .   get   (   100   )   #   + 10   ctrl   .   set   (   money   +   10   )   \u5bf9\u5e94 \u6587\u4ef6   / /   plugins / bag / data . json   {   \" 10086 \"   : {   \" money \"   :   110   }   }   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6301\u4e45 \u5316"},{"location":"develop/storage/#_1","text":"\u63d2\u4ef6 \u7ed3\u6784   plugins   bag   __ init __. py   test   ok . txt   \u82e5\u60f3 \u83b7\u53d6 ok . txt \u7684 \u6570\u636e \uff0c \u53ea \u9700   #   plugins / bag / __ init __. py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   (   \" test \"   )   #   \u5bf9\u5e94 \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   plugins / bag / test   file   =   dirpath   .   file   (   \" ok . txt \"   )   #   \u5bf9\u5e94 \u6587\u4ef6   plugins / bag / test / ok . txt   data   =   file   .   load   ( )   ...","title":"\u5feb\u901f \u4e0a \u624b"},{"location":"develop/storage/#_2","text":"\u5982\u679c \u60a8 \u7684 \u4ee3\u7801 \u4e2d \u4f7f\u7528 \u4e86   app . storage . plugin _ path ( )   \u76f8\u5173 \u4ee3\u7801 \uff0c \u90a3\u4e48 \u5efa\u8bae \u5efa\u8bae\u60a8 \u7684 \u63d2\u4ef6 \u4e3a \u5305 \u63d2\u4ef6 \u5f62\u5f0f   \u5355 \u6587\u4ef6 \u63d2\u4ef6   plugins   bag . py   data . json   checkin . py   ...   #   plugins / bag . py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   ( )   #   \u5bf9\u5e94   plugins   file   =   dirpath   .   json   (   \" data \"   )   #   \u6570\u636e \u548c bag . py \u90fd \u4f4d\u4e8e plugins \u4e0b \uff0c \u5728 \u591a \u63d2\u4ef6 \u65f6 \u9020\u6210 \u6df7\u4e71   data   =   file   .   load   ( )   ...   \u5305 \u63d2\u4ef6   plugins   bag   __ init __. py   data . json   checkin   ...   #   plugins / bag / __ init __. py   @ app   .   on   .   idle   (   ...   )   @ app   .   on   .   command   (   ...   )   async   def   _   ( ) :   ...   dirpath   =   app   .   storage   .   plugin _ path   ( )   #   \u5bf9\u5e94   plugins / bag   file   =   dirpath   .   json   (   \" data \"   )   #   \u6570\u636e \u548c __ init __. py \u90fd \u4f4d\u4e8e plugins / bag \u4e0b \uff0c \u5728 \u591a \u63d2\u4ef6 \u65f6 \u4f9d\u65e7 \u6e05\u6670 \u660e \u4e86   data   =   file   .   load   ( )   ...","title":"\u5305 \u63d2\u4ef6"},{"location":"develop/storage/#ayakapath","text":"AyakaPath \uff0c \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939 \u5730\u5740   app . plugin _ path ( )   \u548c   app . group _ path ( )   \u8fd4\u56de   AyakaPath \u5bf9\u8c61   app . plugin _ path ( )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. /   app . plugin _ path ( 1 ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. / 1 / a   app . plugin _ path ( \" 1 \" ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   < create _ app _ file > / .. / 1 / a   app . group _ path ( )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name >   app . group _ path ( 1 ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name > / 1 / a   app . group _ path ( \" 1 \" ,   \" a \" )   \u5bf9\u5e94 \u5730\u5740   data / groups / < bot _ id > / < group _ id > / < app _ name > / 1 / a","title":"AyakaPath"},{"location":"develop/storage/#ayakafile","text":"AyakaPath \u5bf9\u8c61 . file ( )   \u8fd4\u56de   AyakaFile \u5bf9\u8c61   app . plugin _ path ( ) . file ( \" test . txt \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / test . txt   app . plugin _ path ( ) . file ( \" error . log \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / error . log   \u5185\u7f6e load \u3001 save \u65b9\u6cd5 \uff0c \u6309\u7167 txt \u6587\u4ef6 \u683c\u5f0f \u6587\u4ef6\u683c\u5f0f \u5bf9 \u6570\u636e \u8fdb\u884c \u5904\u7406   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   f   .   read   ( )   return   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   f   .   write   (   str   (   data   ) )","title":"AyakaFile"},{"location":"develop/storage/#ayakajsonfile","text":"AyakaPath \u5bf9\u8c61 . json ( )   \u8fd4\u56de   AyakaJsonFile \u5bf9\u8c61   app . plugin _ path ( ) . json ( \" hi \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / hi . json   app . plugin _ path ( ) . json ( \" hi . log \" )   \u5bf9\u5e94 \u6587\u4ef6   < create _ app _ file > / .. / hi . json   . json ( )   \u4f1a \u5f3a\u5236 \u4fee\u6539 \u6587\u4ef6 \u540e\u7f00 \u540e\u7f00\u540d \u4e3a json   \u5185\u7f6e load \u3001 save \u65b9\u6cd5 \uff0c \u6309\u7167 json \u6587\u4ef6 \u683c\u5f0f \u6587\u4ef6\u683c\u5f0f \u5bf9 \u6570\u636e \u8fdb\u884c \u5904\u7406   def   load   (   self   ) :   with   self   .   path   .   open   (   \" r \"   ,   encoding   =   \" utf8 \"   )   as   f   :   data   =   json   .   load   (   f   )   return   data   def   save   (   self   ,   data   ) :   with   self   .   path   .   open   (   \" w + \"   ,   encoding   =   \" utf8 \"   )   as   f   :   json   .   dump   (   data   ,   f   ,   ensure _ ascii   =   False   )","title":"AyakaJsonFile"},{"location":"develop/storage/#ayakajsonfilectrlchain","text":"json \u6587\u4ef6 \u53ef\u4ee5 \u8bbe\u7f6e \u591a\u5c42 key \uff0c \u56e0\u6b64   AyakaJsonFile   \u5728 \u8bfb\u5199 \u6570\u636e \u65f6\u4f1a \u9047\u5230 \u4e0e   \u7f13\u5b58   \u540c\u6837 \u7684 \u95ee\u9898   AyakaJsonFileCtrl   \u88ab \u7528\u4e8e \u89e3\u51b3 \u8fd9\u4e00 \u56f0\u96be \uff0c \u5176 API \u4e0e   AyakaCacheCtrl   \u51e0\u4e4e \u5b8c\u5168 \u4e00\u81f4 \u5b8c\u5168\u4e00\u81f4 \uff0c \u4f60 \u53ef\u4ee5   #   plugins / bag / __ init __. py   ctrl   =   app   .   plugin _ path   ( )   .   json   (   \" data \"   )   .   chain   (   10086   ,   \" money \"   )   #   \u7f3a\u7701 \u7f3a\u7701\u503c 100   money   =   ctrl   .   get   (   100   )   #   + 10   ctrl   .   set   (   money   +   10   )   \u5bf9\u5e94 \u6587\u4ef6   / /   plugins / bag / data . json   {   \" 10086 \"   : {   \" money \"   :   110   }   }","title":"AyakaJsonFileCtrl . chain"},{"location":"develop/storage/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/","text":"\u672c\u9875 \u4e3a   ayaka \u6587\u5b57 \u6e38\u620f \u5c0f\u6e38\u620f   \u7684 \u5e2e\u52a9 \u6587\u6863 \uff0c \u6258\u7ba1 \u5728   ayaka   \u7684 \u5e2e\u52a9 \u6587\u6863 \u4e0b   \u57fa\u7840 \u529f\u80fd   \u00b6   \u80cc\u5305   \u7b7e\u5230   \u6e38\u620f \u5217\u8868   \u00b6   \u5370\u52a0 \u5b9d\u85cf   @ \u706f\u591c   \u63a5\u9f99 \uff08 \u591a \u9898\u5e93 \u53ef \u9009 \uff0c \u539f\u795e / \u6210\u8bed \uff09   \u8c01 \u662f \u5367\u5e95   \u62a2 30   mana   \u52a0 \u4e00\u79d2   24 \u70b9 / 48 \u70b9   \u5176\u4ed6 \u529f\u80fd   \u00b6   \u5176\u5b9e \u662f \u6253\u5305 \u7684 \u65f6\u5019 \u5fd8 \u5220 \u4e86   b \u7ad9 \u5c0f \u7a0b\u5e8f \u5361\u7247 / \u89c6\u9891 \u5730\u5740   \u81ea\u52a8 \u89e3\u6790   \u7559\u8a00   \u7f29\u5199 \u7ffb\u8bd1   \u7279\u522b \u611f\u8c22 \u7279\u522b\u611f\u8c22   \u00b6   @ \u706f\u591c   \u5927\u4f6c \u7684 \u63d2\u4ef6 \u86ee \u597d\u73a9 \u7684 ~   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u4ecb\u7ecd"},{"location":"games/#_1","text":"\u80cc\u5305   \u7b7e\u5230","title":"\u57fa\u7840 \u529f\u80fd"},{"location":"games/#_2","text":"\u5370\u52a0 \u5b9d\u85cf   @ \u706f\u591c   \u63a5\u9f99 \uff08 \u591a \u9898\u5e93 \u53ef \u9009 \uff0c \u539f\u795e / \u6210\u8bed \uff09   \u8c01 \u662f \u5367\u5e95   \u62a2 30   mana   \u52a0 \u4e00\u79d2   24 \u70b9 / 48 \u70b9","title":"\u6e38\u620f \u5217\u8868"},{"location":"games/#_3","text":"\u5176\u5b9e \u662f \u6253\u5305 \u7684 \u65f6\u5019 \u5fd8 \u5220 \u4e86   b \u7ad9 \u5c0f \u7a0b\u5e8f \u5361\u7247 / \u89c6\u9891 \u5730\u5740   \u81ea\u52a8 \u89e3\u6790   \u7559\u8a00   \u7f29\u5199 \u7ffb\u8bd1","title":"\u5176\u4ed6 \u529f\u80fd"},{"location":"games/#_4","text":"@ \u706f\u591c   \u5927\u4f6c \u7684 \u63d2\u4ef6 \u86ee \u597d\u73a9 \u7684 ~","title":"\u7279\u522b\u611f\u8c22"},{"location":"games/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/help/","text":"\u8fd9\u4e9b \u5e2e\u52a9 \u4e5f \u53ef\u4ee5 \u5728 \u542f\u52a8 bot \u540e \uff0c \u4f7f\u7528 help \u6307\u4ee4 \u83b7\u53d6   \u4f8b\u5982 \uff1a   \u67e5\u770b \u6240\u6709 \u63d2\u4ef6   # plugin   \u67e5\u770b \u6240\u6709 \u4ecb\u7ecd   # help   \u67e5\u770b \u8be6\u7ec6 \u5e2e\u52a9   # help   \u8c01 \u662f \u5367\u5e95   \u5370\u52a0 \u5b9d\u85cf   \u00b6   \u6b22\u8fce \u4f7f\u7528 \u5370\u52a0 \u5b9d\u85cf 2.0   -   incan / \u5370\u52a0   \u6253\u5f00 \u5e94\u7528   -   start / run   \u5f00\u59cb \u6e38\u620f   -   join   \u52a0\u5165 \u6e38\u620f   -   status / \u72b6\u6001   \u67e5\u770b \u72b6\u6001   [ gaming ]   -   go / forward   \u524d\u8fdb   -   back / retreat / escape   \u64a4\u9000   -   status / \u72b6\u6001   \u67e5\u770b \u72b6\u6001   [ * ]   -   exit / quit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f   -   rule / document / doc   \u67e5\u770b \u89c4\u5219   \u63a5\u9f99   \u00b6   \u63a5\u9f99 \uff0c \u5728 \u804a\u5929 \u65f6 \u9759\u9ed8 \u8fd0\u884c   -   \u63a5\u9f99   \u8fdb\u5165 \u7ba1\u7406 \u9762\u677f   -   exit / \u9000\u51fa   \u9000\u51fa \u7ba1\u7406 \u9762\u677f   -   list   \u5217\u51fa \u6240\u6709 \u8bcd\u5e93   -   use   < \u8bcd\u5e93 \u540d\u79f0 >   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93   -   unuse   < \u8bcd\u5e93 \u540d\u79f0 >   \u5173\u95ed \u6307\u5b9a \u8bcd\u5e93   -   data   \u5c55\u793a \u4f60 \u7684 \u7b54\u9898 \u6570\u636e   -   rank   \u5c55\u793a \u6392\u884c \u6392\u884c\u699c   -   auto   < \u8bcd\u5e93 \u540d\u79f0 >   < \u5f00\u5934 \u8bcd >   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93 \u81ea\u52a8 \u63a5\u9f99 10 \u4e2a   \u62a2 30   \u00b6   \u81f3\u5c11 2 \u4eba \u6e38\u73a9 \uff0c \u4e00\u5c40 \u5185 \u8fdb\u884c \u591a\u8f6e \u53eb\u724c \uff0c \u8c01 \u6700\u5148 \u8fbe\u5230 \u6216 \u8d85\u8fc7 30 \u70b9 \u8c01 \u83b7\u80dc   \u603b\u5171 52 \u5f20\u724c \uff0c \u76f4\u5230 \u5168\u90e8 \u7528 \u5b8c\u540e \u624d \u4f1a \u6d17\u724c \uff0c \u53ea\u8981 \u4e0d \u9000\u51fa \u6e38\u620f \uff0c \u4e0b\u5c40 \u7684 \u724c\u5e93 \u5c06 \u7ee7\u627f \u4e0a\u5c40   \u9996\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u4e3a 10 \uff0c \u6bcf\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 + 1   -   \u62a2 30   \u6253\u5f00 \u6e38\u620f   [ room ]   \u623f\u95f4 \u5df2 \u5efa\u7acb \uff0c \u6b63\u5728 \u7b49\u5f85 \u73a9\u5bb6 \u52a0\u5165 ...   -   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   \u5c55\u793a \u623f\u95f4 \u4fe1\u606f   [ play ]   \u6e38\u620f \u6b63\u5728 \u8fdb\u884c \u4e2d ...   -   exit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f   -   force _ exit / \u5f3a\u5236 \u9000\u51fa   \u5f3a\u5236 \u5173\u95ed \u6e38\u620f \uff0c \u6709 \u6025\u4e8b \u53ef\u7528   -   info / \u4fe1\u606f   \u5c55\u793a \u5f53\u524d \u724c \u3001 \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u3001 \u62a5\u4ef7   -   *   < \u6570\u5b57 >   \u62a5\u4ef7 \u53eb\u724c \uff0c \u8981\u4e48 \u4e3a 0 \uff0c \u8981\u4e48 \u6bd4\u4e0a \u4e00\u4e2a \u4eba\u9ad8 \uff0c \u5982\u679c \u5168\u5458 \u62a5\u4ef7 \u4e3a 0 \uff0c \u5219 \u672c\u8f6e \u5e84\u5bb6 \u83b7\u5f97 \u8be5\u724c   mana   \u00b6   = = = = =   m   a   n   a   = = = = =   \u6b22\u6109 \u3001 \u60bc\u4ea1 \u3001 \u6df1\u6e0a \u3001 \u667a\u6167   = = = = =   = = = = = = =   = = = = =   -   divine / \u5360\u535c   < \u6570\u5b57 >   \u82b1\u8d39 n \u739b\u5a1c \uff0c \u7948\u6c42 \u795e \u7684 \u56de\u5e94   -   pray / \u7948\u7977   \u82b1\u8d39 x \u739b\u5a1c \uff0c \u611f\u53d7 \u795e \u7684 \u547c\u5438   -   mana   < \u6570\u5b57 >   \u53c2\u6570 > 0   \u4e70\u5165 \u739b\u5a1c   \u53c2\u6570 < 0   \u5356\u51fa \u739b\u5a1c   \u52a0 \u4e00\u79d2   \u00b6   \u6bcf\u4eba \u521d\u59cb \u65f6\u95f4 \u503c\u4e3a 0   \u6bcf\u6709 3 \u4e2a \u4e0d\u540c \u7684 \u4eba \u6267\u884c \u4e00\u6b21 \u6216 \u82e5\u5e72 \u82e5\u5e72\u6b21 \u52a0 1 \uff0c boss \u5c31 \u4f1a \u5b8c\u6210 \u84c4\u529b \uff0c \u5438\u53d6 \u76ee\u524d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u4eba \u7684 \u65f6\u95f4 \uff0c \u5982\u679c \u6709 \u591a \u4eba \uff0c \u5219 \u90fd \u88ab \u5438\u53d6   boss \u65f6\u95f4 \u503c > = 17 \u65f6 \uff0c \u6e38\u620f \u7ed3\u675f \uff0c boss \u5c06 \u5e26\u8d70 \u6240\u6709 \u6bd4 \u4ed6 \u65f6\u95f4 \u503c\u9ad8 \u7684 \u4eba \uff0c \u5269\u4f59 \u4eba\u4e2d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u83b7\u80dc \uff0c \u4e16\u754c \u91cd\u542f   -   \u52a0 \u4e00\u79d2   \u542f\u52a8 \u6e38\u620f   -   exit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f \uff08 \u6570\u636e \u4fdd\u7559 \uff09   -   \u6211 \u7684   \u67e5\u770b \u4f60 \u76ee\u524d \u7684 \u65f6\u95f4   -   boss   \u67e5\u770b boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u5168\u90e8   \u67e5\u770b \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u53c2\u4e0e \u60c5\u51b5 \uff0c \u4ee5\u53ca boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u52a0 1 / \u52a0\u4e00 / + 1 / + 1s   \u8ba9 \u4f60 \u7684 \u65f6\u95f4 + 1   24 \u70b9 / 48 \u70b9   \u00b6   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 24 \u70b9   -   24 \u70b9   \u542f\u52a8 \u6e38\u620f   -   \u9000\u51fa / exit / quit   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee   -   \u7b54\u6848   -   *   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 48 \u70b9   -   48 \u70b9   \u542f\u52a8 \u6e38\u620f   -   \u9000\u51fa / exit / quit   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee   -   \u7b54\u6848   -   *   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )","title":"\u66f4 \u591a \u5e2e\u52a9"},{"location":"games/help/#_1","text":"\u6b22\u8fce \u4f7f\u7528 \u5370\u52a0 \u5b9d\u85cf 2.0   -   incan / \u5370\u52a0   \u6253\u5f00 \u5e94\u7528   -   start / run   \u5f00\u59cb \u6e38\u620f   -   join   \u52a0\u5165 \u6e38\u620f   -   status / \u72b6\u6001   \u67e5\u770b \u72b6\u6001   [ gaming ]   -   go / forward   \u524d\u8fdb   -   back / retreat / escape   \u64a4\u9000   -   status / \u72b6\u6001   \u67e5\u770b \u72b6\u6001   [ * ]   -   exit / quit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f   -   rule / document / doc   \u67e5\u770b \u89c4\u5219","title":"\u5370\u52a0 \u5b9d\u85cf"},{"location":"games/help/#_2","text":"\u63a5\u9f99 \uff0c \u5728 \u804a\u5929 \u65f6 \u9759\u9ed8 \u8fd0\u884c   -   \u63a5\u9f99   \u8fdb\u5165 \u7ba1\u7406 \u9762\u677f   -   exit / \u9000\u51fa   \u9000\u51fa \u7ba1\u7406 \u9762\u677f   -   list   \u5217\u51fa \u6240\u6709 \u8bcd\u5e93   -   use   < \u8bcd\u5e93 \u540d\u79f0 >   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93   -   unuse   < \u8bcd\u5e93 \u540d\u79f0 >   \u5173\u95ed \u6307\u5b9a \u8bcd\u5e93   -   data   \u5c55\u793a \u4f60 \u7684 \u7b54\u9898 \u6570\u636e   -   rank   \u5c55\u793a \u6392\u884c \u6392\u884c\u699c   -   auto   < \u8bcd\u5e93 \u540d\u79f0 >   < \u5f00\u5934 \u8bcd >   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93 \u81ea\u52a8 \u63a5\u9f99 10 \u4e2a","title":"\u63a5\u9f99"},{"location":"games/help/#30","text":"\u81f3\u5c11 2 \u4eba \u6e38\u73a9 \uff0c \u4e00\u5c40 \u5185 \u8fdb\u884c \u591a\u8f6e \u53eb\u724c \uff0c \u8c01 \u6700\u5148 \u8fbe\u5230 \u6216 \u8d85\u8fc7 30 \u70b9 \u8c01 \u83b7\u80dc   \u603b\u5171 52 \u5f20\u724c \uff0c \u76f4\u5230 \u5168\u90e8 \u7528 \u5b8c\u540e \u624d \u4f1a \u6d17\u724c \uff0c \u53ea\u8981 \u4e0d \u9000\u51fa \u6e38\u620f \uff0c \u4e0b\u5c40 \u7684 \u724c\u5e93 \u5c06 \u7ee7\u627f \u4e0a\u5c40   \u9996\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u4e3a 10 \uff0c \u6bcf\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 + 1   -   \u62a2 30   \u6253\u5f00 \u6e38\u620f   [ room ]   \u623f\u95f4 \u5df2 \u5efa\u7acb \uff0c \u6b63\u5728 \u7b49\u5f85 \u73a9\u5bb6 \u52a0\u5165 ...   -   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   \u5c55\u793a \u623f\u95f4 \u4fe1\u606f   [ play ]   \u6e38\u620f \u6b63\u5728 \u8fdb\u884c \u4e2d ...   -   exit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f   -   force _ exit / \u5f3a\u5236 \u9000\u51fa   \u5f3a\u5236 \u5173\u95ed \u6e38\u620f \uff0c \u6709 \u6025\u4e8b \u53ef\u7528   -   info / \u4fe1\u606f   \u5c55\u793a \u5f53\u524d \u724c \u3001 \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u3001 \u62a5\u4ef7   -   *   < \u6570\u5b57 >   \u62a5\u4ef7 \u53eb\u724c \uff0c \u8981\u4e48 \u4e3a 0 \uff0c \u8981\u4e48 \u6bd4\u4e0a \u4e00\u4e2a \u4eba\u9ad8 \uff0c \u5982\u679c \u5168\u5458 \u62a5\u4ef7 \u4e3a 0 \uff0c \u5219 \u672c\u8f6e \u5e84\u5bb6 \u83b7\u5f97 \u8be5\u724c","title":"\u62a2 30"},{"location":"games/help/#mana","text":"= = = = =   m   a   n   a   = = = = =   \u6b22\u6109 \u3001 \u60bc\u4ea1 \u3001 \u6df1\u6e0a \u3001 \u667a\u6167   = = = = =   = = = = = = =   = = = = =   -   divine / \u5360\u535c   < \u6570\u5b57 >   \u82b1\u8d39 n \u739b\u5a1c \uff0c \u7948\u6c42 \u795e \u7684 \u56de\u5e94   -   pray / \u7948\u7977   \u82b1\u8d39 x \u739b\u5a1c \uff0c \u611f\u53d7 \u795e \u7684 \u547c\u5438   -   mana   < \u6570\u5b57 >   \u53c2\u6570 > 0   \u4e70\u5165 \u739b\u5a1c   \u53c2\u6570 < 0   \u5356\u51fa \u739b\u5a1c","title":"mana"},{"location":"games/help/#_3","text":"\u6bcf\u4eba \u521d\u59cb \u65f6\u95f4 \u503c\u4e3a 0   \u6bcf\u6709 3 \u4e2a \u4e0d\u540c \u7684 \u4eba \u6267\u884c \u4e00\u6b21 \u6216 \u82e5\u5e72 \u82e5\u5e72\u6b21 \u52a0 1 \uff0c boss \u5c31 \u4f1a \u5b8c\u6210 \u84c4\u529b \uff0c \u5438\u53d6 \u76ee\u524d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u4eba \u7684 \u65f6\u95f4 \uff0c \u5982\u679c \u6709 \u591a \u4eba \uff0c \u5219 \u90fd \u88ab \u5438\u53d6   boss \u65f6\u95f4 \u503c > = 17 \u65f6 \uff0c \u6e38\u620f \u7ed3\u675f \uff0c boss \u5c06 \u5e26\u8d70 \u6240\u6709 \u6bd4 \u4ed6 \u65f6\u95f4 \u503c\u9ad8 \u7684 \u4eba \uff0c \u5269\u4f59 \u4eba\u4e2d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u83b7\u80dc \uff0c \u4e16\u754c \u91cd\u542f   -   \u52a0 \u4e00\u79d2   \u542f\u52a8 \u6e38\u620f   -   exit / \u9000\u51fa   \u9000\u51fa \u6e38\u620f \uff08 \u6570\u636e \u4fdd\u7559 \uff09   -   \u6211 \u7684   \u67e5\u770b \u4f60 \u76ee\u524d \u7684 \u65f6\u95f4   -   boss   \u67e5\u770b boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u5168\u90e8   \u67e5\u770b \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u53c2\u4e0e \u60c5\u51b5 \uff0c \u4ee5\u53ca boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u52a0 1 / \u52a0\u4e00 / + 1 / + 1s   \u8ba9 \u4f60 \u7684 \u65f6\u95f4 + 1","title":"\u52a0 \u4e00\u79d2"},{"location":"games/help/#2448","text":"\u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 24 \u70b9   -   24 \u70b9   \u542f\u52a8 \u6e38\u620f   -   \u9000\u51fa / exit / quit   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee   -   \u7b54\u6848   -   *   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 48 \u70b9   -   48 \u70b9   \u542f\u52a8 \u6e38\u620f   -   \u9000\u51fa / exit / quit   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee   -   \u7b54\u6848   -   *   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )","title":"24 \u70b9 / 48 \u70b9"},{"location":"games/install/","text":"\u5b89\u88c5   \u00b6   \u901a\u8fc7 nb - cli \u5b89\u88c5 \uff08 \u63a8\u8350 \uff09   nb   plugin   install   nonebot - plugin - ayaka - games   \u901a\u8fc7 pip \u5b89\u88c5   pip   install   nonebot - plugin - ayaka - games   \u914d\u7f6e   \u00b6   ayaka _ setting . json   \u9996\u6b21 \u8fd0\u884c bot \u540e \u751f\u6210   \u4fee\u6539   __ root __ / use _ playwright   \u4e3a false   {   \" __ root __ \"   :   {   \" use _ playwright \"   :   false   ,   ...   } ,   ...   }   \u914d\u7f6e \u4fee\u6539 \u540e \u9700 \u91cd\u542f bot   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5b89\u88c5"},{"location":"games/install/#_1","text":"\u901a\u8fc7 nb - cli \u5b89\u88c5 \uff08 \u63a8\u8350 \uff09   nb   plugin   install   nonebot - plugin - ayaka - games   \u901a\u8fc7 pip \u5b89\u88c5   pip   install   nonebot - plugin - ayaka - games","title":"\u5b89\u88c5"},{"location":"games/install/#_2","text":"ayaka _ setting . json   \u9996\u6b21 \u8fd0\u884c bot \u540e \u751f\u6210   \u4fee\u6539   __ root __ / use _ playwright   \u4e3a false   {   \" __ root __ \"   :   {   \" use _ playwright \"   :   false   ,   ...   } ,   ...   }   \u914d\u7f6e \u4fee\u6539 \u540e \u9700 \u91cd\u542f bot","title":"\u914d\u7f6e"},{"location":"games/install/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/who-is-suspect/","text":"\u8c01 \u662f \u5367\u5e95 \u4f7f\u7528 \u5e2e\u52a9   \u00b6   \u6ca1\u6709 \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \u65f6   \u00b6   \u6307\u4ee4   \u6548\u679c   help   \u8c01 \u662f \u5367\u5e95   \u67e5\u770b \u5e2e\u52a9   \u8c01 \u662f \u5367\u5e95   \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \uff0c \u5c06 \u521b\u5efa \u4e00\u4e2a \u6e38\u620f \u623f\u95f4   \u623f\u95f4 \u623f\u95f4\u5185   \u00b6   \u6307\u4ee4   \u6548\u679c   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   info / \u4fe1\u606f   \u5c55\u793a \u5df2 \u52a0\u5165 \u623f\u95f4 \u7684 \u4eba\u5458 \u5217\u8868   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a \u7531\u4e8e \u8981 \u79c1\u804a \u5173\u952e \u5173\u952e\u8bcd \uff0c \u6240\u4ee5 \u53c2\u4e0e \u4eba \u90fd \u8981 \u63d0\u524d \u52a0 bot \u597d\u53cb   \u6e38\u620f \u8fdb\u884c \u65f6   \u00b6   \u6307\u4ee4   \u6548\u679c   vote   < at >   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   info / \u4fe1\u606f   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   \u6ce8\u610f \uff1a vote \u548c at \u95f4 \u52a0\u4e2a \u7a7a\u683c \uff08 \u4e00\u822c \u60c5\u51b5 \u4e0d\u52a0 \u4e0b\u4e0d\u52a0 \u4e5f \u884c \uff0c \u4f46 \u5982\u679c \u4f60 \u662f \u590d\u5236 \u4e86 \u5176\u4ed6 \u4ed6\u4eba \u5176\u4ed6\u4eba \u7684 \u6295\u7968 \uff0c \u90a3\u4e48 \u8981\u52a0 \u4e00\u4e2a \u7a7a\u683c \uff09   \u6ce8\u610f \uff1a \u6e38\u620f \u8fdb\u884c \u65f6 \u6ca1\u6709 \u4efb\u4f55 \u53d1\u8a00 \u987a\u5e8f \u63a7\u5236 \u987a\u5e8f\u63a7\u5236 \uff0c \u73a9\u5bb6 \u53ef\u4ee5 \u81ea\u884c \u534f\u5546 \u4e00\u4e2a \u53d1\u8a00 \u987a\u5e8f \uff0c \u6216\u8005 \u81ea\u7531 \u53d1\u8a00 \uff0c \u53ef\u4ee5 \u7ea6\u5b9a \u53d1\u8a00 \u4e00\u8f6e \uff0c \u4e5f \u53ef\u4ee5 \u7ea6\u5b9a \u53d1 \u591a\u8f6e \u540e \u518d \u6295\u7968 \uff0c \u90fd \u53ef\u4ee5 \uff0c \u4e0d \u505a \u9650\u5236   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u8c01 \u662f \u5367\u5e95"},{"location":"games/who-is-suspect/#_1","text":"","title":"\u8c01 \u662f \u5367\u5e95 \u4f7f\u7528 \u5e2e\u52a9"},{"location":"games/who-is-suspect/#_2","text":"\u6307\u4ee4   \u6548\u679c   help   \u8c01 \u662f \u5367\u5e95   \u67e5\u770b \u5e2e\u52a9   \u8c01 \u662f \u5367\u5e95   \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \uff0c \u5c06 \u521b\u5efa \u4e00\u4e2a \u6e38\u620f \u623f\u95f4","title":"\u6ca1\u6709 \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \u65f6"},{"location":"games/who-is-suspect/#_3","text":"\u6307\u4ee4   \u6548\u679c   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   info / \u4fe1\u606f   \u5c55\u793a \u5df2 \u52a0\u5165 \u623f\u95f4 \u7684 \u4eba\u5458 \u5217\u8868   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a \u7531\u4e8e \u8981 \u79c1\u804a \u5173\u952e \u5173\u952e\u8bcd \uff0c \u6240\u4ee5 \u53c2\u4e0e \u4eba \u90fd \u8981 \u63d0\u524d \u52a0 bot \u597d\u53cb","title":"\u623f\u95f4\u5185"},{"location":"games/who-is-suspect/#_4","text":"\u6307\u4ee4   \u6548\u679c   vote   < at >   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   info / \u4fe1\u606f   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   \u6ce8\u610f \uff1a vote \u548c at \u95f4 \u52a0\u4e2a \u7a7a\u683c \uff08 \u4e00\u822c \u60c5\u51b5 \u4e0d\u52a0 \u4e0b\u4e0d\u52a0 \u4e5f \u884c \uff0c \u4f46 \u5982\u679c \u4f60 \u662f \u590d\u5236 \u4e86 \u5176\u4ed6 \u4ed6\u4eba \u5176\u4ed6\u4eba \u7684 \u6295\u7968 \uff0c \u90a3\u4e48 \u8981\u52a0 \u4e00\u4e2a \u7a7a\u683c \uff09   \u6ce8\u610f \uff1a \u6e38\u620f \u8fdb\u884c \u65f6 \u6ca1\u6709 \u4efb\u4f55 \u53d1\u8a00 \u987a\u5e8f \u63a7\u5236 \u987a\u5e8f\u63a7\u5236 \uff0c \u73a9\u5bb6 \u53ef\u4ee5 \u81ea\u884c \u534f\u5546 \u4e00\u4e2a \u53d1\u8a00 \u987a\u5e8f \uff0c \u6216\u8005 \u81ea\u7531 \u53d1\u8a00 \uff0c \u53ef\u4ee5 \u7ea6\u5b9a \u53d1\u8a00 \u4e00\u8f6e \uff0c \u4e5f \u53ef\u4ee5 \u7ea6\u5b9a \u53d1 \u591a\u8f6e \u540e \u518d \u6295\u7968 \uff0c \u90fd \u53ef\u4ee5 \uff0c \u4e0d \u505a \u9650\u5236","title":"\u6e38\u620f \u8fdb\u884c \u65f6"},{"location":"games/who-is-suspect/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/install/","text":"\u5b89\u88c5   \u00b6   nb   plugin   install   nonebot - plugin - ayaka   playwright   install   chromium   \u81f3\u6b64 \u5b89\u88c5 \u5b8c\u6210 \uff0c \u53ef\u4ee5 \u5f00\u53d1 ayaka \u884d\u751f \u63d2\u4ef6 \u4e86   \u6ce8\u610f   \u00b6   \u4e0d \u9700\u8981 \u7279\u610f \u5728   bot . py   \u4e2d \u52a0\u8f7d ayaka \u63d2\u4ef6 \uff0c \u53ea\u8981 \u6b63\u5e38 \u52a0\u8f7d ayaka \u884d\u751f \u63d2\u4ef6 \u5373\u53ef   ayaka \u884d\u751f \u63d2\u4ef6 \u4e2d \u4e5f \u53ea \u9700 \u6b63\u5e38 \u5bfc\u5165 ayaka \u5c31\u884c   from   ayaka   import   AyakaApp   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5b89\u88c5"},{"location":"intro/install/#_1","text":"nb   plugin   install   nonebot - plugin - ayaka   playwright   install   chromium   \u81f3\u6b64 \u5b89\u88c5 \u5b8c\u6210 \uff0c \u53ef\u4ee5 \u5f00\u53d1 ayaka \u884d\u751f \u63d2\u4ef6 \u4e86","title":"\u5b89\u88c5"},{"location":"intro/install/#_2","text":"\u4e0d \u9700\u8981 \u7279\u610f \u5728   bot . py   \u4e2d \u52a0\u8f7d ayaka \u63d2\u4ef6 \uff0c \u53ea\u8981 \u6b63\u5e38 \u52a0\u8f7d ayaka \u884d\u751f \u63d2\u4ef6 \u5373\u53ef   ayaka \u884d\u751f \u63d2\u4ef6 \u4e2d \u4e5f \u53ea \u9700 \u6b63\u5e38 \u5bfc\u5165 ayaka \u5c31\u884c   from   ayaka   import   AyakaApp","title":"\u6ce8\u610f"},{"location":"intro/install/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/master/","text":"ayaka _ master   \u00b6   ayaka \u5185\u90e8 \u5df2 \u5b89\u88c5 \u4e00\u4efd \u7279\u6b8a \u7684 \u7efc\u5408 \u7ba1\u7406 \u63d2\u4ef6 \uff0c \u5b83 \u57fa\u4e8e ayaka \u63d2\u4ef6 \u800c \u5b9e\u73b0   \u547d\u4ee4 \u4e00\u89c8 \uff1a   \u542f\u7528 / permit   \u7981\u7528 / forbid   \u63d2\u4ef6 / plugin   \u72b6\u6001 / state   \u5e2e\u52a9 / help   \u5f3a\u5236 \u9000\u51fa / force _ exit   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5185\u7f6e \u63d2\u4ef6"},{"location":"intro/master/#ayaka_master","text":"ayaka \u5185\u90e8 \u5df2 \u5b89\u88c5 \u4e00\u4efd \u7279\u6b8a \u7684 \u7efc\u5408 \u7ba1\u7406 \u63d2\u4ef6 \uff0c \u5b83 \u57fa\u4e8e ayaka \u63d2\u4ef6 \u800c \u5b9e\u73b0   \u547d\u4ee4 \u4e00\u89c8 \uff1a   \u542f\u7528 / permit   \u7981\u7528 / forbid   \u63d2\u4ef6 / plugin   \u72b6\u6001 / state   \u5e2e\u52a9 / help   \u5f3a\u5236 \u9000\u51fa / force _ exit","title":"ayaka _ master"},{"location":"intro/master/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/quick_start/","text":"\u5feb\u901f \u5f00\u59cb   \u00b6   ayaka   \u5e0c\u671b \u5e2e\u52a9 \u5f00\u53d1 \u5f00\u53d1\u8005 \u66f4 \u8f7b\u677e \u5730 \u63a7\u5236 \u5e94\u7528 \u72b6\u6001 \uff0c \u5e76 \u907f\u514d \u4e0d\u540c \u63d2\u4ef6 \u95f4 \u7684 \u547d\u4ee4 \u91cd\u540d \u5bfc\u81f4 \u7684 \u51b2\u7a81 \u95ee\u9898   \u547d\u4ee4 \u9694\u79bb   \u00b6   ayaka \u5c06 \u6bcf \u4e00\u4e2a   \u63d2\u4ef6   \u90fd \u89c6\u4e3a \u4e00\u4e2a   \u5e94\u7528   \uff0c \u6bcf \u4e00\u4e2a   \u7fa4\u804a   \u89c6\u4e3a \u4e00\u4e2a   \u8bbe\u5907   \u8bbe\u5907 \u5e73\u65f6 \u5904\u4e8e   \u95f2\u7f6e \u72b6\u6001   \uff0c \u4f60 \u53ef\u4ee5 \u901a\u8fc7 \u547d\u4ee4 \u6253\u5f00 \u4e00\u4e2a \u5e94\u7528 \uff0c \u4ee4\u5176 \u8fd0\u884c   \u968f\u540e \uff0c \u8be5 \u8bbe\u5907 \u5c06   \u53ea \u54cd\u5e94   \u8be5 \u5e94\u7528 \u76f8\u5173 \u7684 \u547d\u4ee4   \u4f8b\u5982 \uff1a \u63d2\u4ef6 A \uff08 \u5e94\u7528 A \uff09 \u548c \u63d2\u4ef6 B \uff08 \u5e94\u7528 B \uff09 \u90fd \u4f7f\u7528 \u4e86 \u4e00\u4e2a   \u67e5\u8be2   \u7684 \u547d\u4ee4 \uff0c \u90a3\u4e48 \u8bbe\u5907 \u5c06 \u54cd\u5e94 \u54ea \u4e00\u4e2a \u5462 \uff1f   ayaka \u7684 \u89e3\u51b3 \u65b9\u5f0f \u662f \uff0c \u4f60 \u9700\u8981 \u5148 \u8fd0\u884c   \u5e94\u7528 A   \u548c   \u5e94\u7528 B   \u4e2d \u7684 \u4e00\u4e2a \uff0c \u4e4b\u540e \u624d \u53ef\u4ee5 \u4f7f\u7528   \u67e5\u8be2   \u547d\u4ee4 \uff0c \u6b63\u5728 \u8fd0\u884c \u7684 \u5e94\u7528 \u8fdb\u884c \u54cd\u5e94   \u72b6\u6001 \u72b6\u6001\u673a   \u00b6   \u5047\u8bbe \u6211\u4eec \u73b0\u5728 \u9700\u8981 \u505a \u4e00\u4e2a   \u661f\u9645 \u65c5\u884c   \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u63d2\u4ef6 \uff1a \u4f60 \u5728 \u4e0d\u540c \u7684 \u661f\u7403 \uff08 \u72b6\u6001 \uff09 \u53ef\u4ee5 \u5e72 \u4e0d\u540c \u7684 \u4e8b \uff0c \u4ea7\u751f \u4e0d\u540c \u7684 \u540e\u679c   \u9700\u6c42 \u5982\u4e0b   \u00b6   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u5730\u7403   jump   \u4e00\u8df3 \u4e24\u7c73 \u9ad8   \u5730\u7403   hit   \u4f60 \u5168\u529b \u4e00\u51fb \uff0c \u5236\u9020 \u4e86 \u5927 \u5730\u9707   \u6708\u7403   jump   \u4f60 \u79bb\u5f00 \u4e86 \u6708\u7403 ... \u6c38\u8fdc \u7684 ...   \u592a\u9633   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3   \u4efb\u610f \u5730\u70b9   goto   < \u540d\u5b57 >   \u53bb \u53e6 \u4e00\u4e2a \u661f\u7403   \u4efb\u610f \u5730\u70b9   hi   \u4f60\u597d ,   < \u540d\u5b57 > !   \u7f16\u5199 \u4ee3\u7801   \u00b6   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u661f\u9645 \u65c5\u884c \"   )   async   def   app _ start   ( ) :   ' ' ' \u6253\u5f00 \u5e94\u7528 ' ' '   #   \u8bbe\u7f6e \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a \u5730\u7403   await   app   .   start   (   \" \u5730\u7403 \"   )   #   \u661f\u7403   earth   =   app   .   on   .   state   (   \" \u5730\u7403 \"   )   moon   =   app   .   on   .   state   (   \" \u6708\u7403 \"   ,   \" \u6708\u4eae \"   )   sun   =   app   .   on   .   state   (   \" \u592a\u9633 \"   )   all   =   app   .   on   .   state   (   \" * \"   )   #   \u52a8\u4f5c   hi   =   app   .   on   .   command   (   \" hi \"   ,   \" \u4f60\u597d \"   )   hit   =   app   .   on   .   command   (   \" hit \"   ,   \" \u6253 \"   )   jump   =   app   .   on   .   command   (   \" jump \"   ,   \" \u8df3 \"   )   drink   =   app   .   on   .   command   (   \" drink \"   ,   \" \u559d \"   )   @ all   @ hi   async   def   handle   ( ) :   ' ' ' \u62db\u547c \u6253\u4e2a\u62db\u547c ' ' '   await   app   .   send   (   f   \" \u4f60\u597d ,   {   app   .   state   }   ! \"   )   @ earth   @ jump   async   def   handle   ( ) :   ' ' ' \u8df3 \u4e00 \u8df3 ' ' '   await   app   .   send   (   \" \u4e00\u8df3 \u4e24\u7c73 \u9ad8 \"   )   @ earth   @ hit   async   def   handle   ( ) :   ' ' ' \u6253 \u4e00\u6253 ' ' '   await   app   .   send   (   \" \u4f60 \u5168\u529b \u4e00\u51fb \uff0c \u5236\u9020 \u4e86 \u5927 \u5730\u9707 \"   )   @ moon   @ jump   async   def   handle   ( ) :   ' ' ' \u8df3 \u4e00 \u8df3 ' ' '   await   app   .   send   (   \" \u4f60 \u79bb\u5f00 \u4e86 \u6708\u7403 ... \u6c38\u8fdc \u7684 ... \"   )   @ sun   @ drink   async   def   handle   ( ) :   ' ' ' drink   1   drink ' ' '   await   app   .   send   (   \" \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3 \"   )   @ all   @ app   .   on   .   command   (   \" goto \"   )   async   def   handle   ( ) :   ' ' ' \u53bb \u5176\u4ed6 \u5730\u65b9 \u8f6c\u8f6c ' ' '   name   =   str   (   app   .   arg   )   app   .   state   =   name   await   app   .   send   (   f   \" \u4f60 \u52a8\u8eab \u524d\u5f80 \u52a8\u8eab\u524d\u5f80   {   name   }   \"   )   \u8fd9\u6837 \u5c31 \u5b8c\u6210 \u4e86   #   \u5173\u95ed \u5e94\u7528   @ all   @ app   .   on   .   command   (   \" exit \"   ,   \" quit \"   ,   \" \u9000\u51fa \"   )   async   def   handle   ( ) :   ' ' ' \u9000\u51fa ' ' '   await   app   .   close   ( )   \u54e6 \uff0c \u4e0d\u8981 \u5fd8\u8bb0 \u7f16\u5199 \u9000\u51fa \u547d\u4ee4 \uff01   \u591a\u5c42 \u5c42\u6b21 \u591a\u5c42\u6b21 \u7684 \u72b6\u6001   \u00b6   \u5728 \u521a\u624d \u7684 \u57fa\u7840 \u4e0a \uff0c \u6211\u4eec \u5e0c\u671b \u80fd \u518d \u52a0\u70b9 \u529f\u80fd \uff0c \u6bd4\u5982 \uff0c \u592a\u9633 \u4e0a\u65b0\u5f00 \u4e86 \u4e00\u5bb6 \u5976\u8336 \u5e97   \u9700\u6c42 \u5982\u4e0b   \u00b6   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u592a\u9633 . \u5176\u4ed6 \u5730\u70b9   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3   \u7f16\u5199 \u4ee3\u7801   \u00b6   #   \u8865\u5145 1   @ app   .   on   .   state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ drink   async   def   handle   ( ) :   ' ' ' \u70ed\u4e4e \u7684 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   \u6ce8\u610f \u5230 \uff0c \u76ee\u524d \u5b9a\u4e49 \u4e86 \u4e24\u4e2a drink   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u4f18\u5148 \u89e6\u53d1 \u6700 \u5339\u914d \u7684 \u56de\u8c03   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u5976\u8336 \u5e97   \u65f6 \uff0c \u89e6\u53d1 \u540e\u8005   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \u65f6 \uff0c \u89e6\u53d1 \u524d\u8005   \u7f13\u5b58   \u00b6   \u5b87\u5b99 \u65c5\u6e38 \u516c\u53f8 \u53c8 \u5f00\u8bbe \u4e86 \u4e00\u4e2a \u65b0\u666f \u666f\u70b9 \u65b0\u666f\u70b9 \uff1a \u8000\u6591 \u8868\u6f14   \u6211\u4eec \u9700\u8981 \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70 \u8000\u6591 \u8868\u6f14 \u7684 \u95e8\u7968 \uff0c \u7136\u540e \u518d \u53bb \u8868\u6f14 \u73b0\u573a   \u9700\u6c42 \u5982\u4e0b   \u00b6   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904   buy   \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \u592a\u9633 . \u4efb\u610f \u5730\u70b9   watch   \u53bb \u8868\u6f14 \u73b0\u573a   \u7f16\u5199 \u4ee3\u7801   \u00b6   #   \u8865\u5145 2   @ app   .   on   .   state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on   .   command   (   \" buy \"   )   async   def   handle   ( ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   ctrl   =   app   .   cache   .   chain   (   \" ticket \"   )   ticket   =   ctrl   .   get   (   0   )   ctrl   .   set   (   ticket   +   1   )   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on   .   state   (   \" \u592a\u9633 \"   )   @ app   .   on   .   command   (   \" watch \"   ,   \" \u53bb \u73b0\u573a \"   )   async   def   handle   ( ) :   ' ' ' \u53bb \u73b0\u573a ' ' '   ctrl   =   app   .   cache   .   chain   (   \" ticket \"   )   ticket   =   ctrl   .   get   (   0   )   if   ticket   >   0   :   ctrl   .   set   (   ticket   -   1   )   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 - 1 \"   )   app   .   state   =   \" \u592a\u9633 . \u8000\u6591 \u8868\u6f14 \"   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   else   :   await   app   .   send   (   \" \u4f60 \u8fd8 \u6ca1 \u4e70\u7968 \"   )   \u547d\u4ee4 \u89e6\u53d1   vs   \u6d88\u606f \u89e6\u53d1   \u00b6   \u521a\u624d \u7684 \u6240\u6709 \u56de\u8c03 \u90fd \u662f \u7531 \u5177\u4f53 \u7684 \u3001 \u6307\u5b9a \u7684 \u547d\u4ee4 \u6765 \u89e6\u53d1 \u8fd0\u884c \u7684   \u7136\u800c \uff0c \u4f60 \u4e5f \u53ef\u4ee5 \u4f7f\u7528 \u6d88\u606f \u89e6\u53d1   \u6bd4\u5982 \uff0c \u4f60 \u5728 \u73b0\u573a \u968f\u4fbf \u8bf4 \u4e86 \u4e00\u53e5 \u8bdd \uff0c \u89e6\u53d1 \u56de\u8c03 \u8fd0\u884c   #   \u8865\u5145 3   @ app   .   on   .   state   (   \" \u592a\u9633 . \u8000\u6591 \u8868\u6f14 \"   )   @ app   .   on   .   text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u4f60 \u7684 \u5976\u8336 \u6bd4 \u8868\u6f14 \u9879\u76ee \u8fd8 \u70eb \"   )   \u6d88\u606f \u89e6\u53d1 \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u4f4e\u4e8e \u547d\u4ee4 \u89e6\u53d1   \u63d2\u4ef6 \u5e2e\u52a9   \u00b6   \u73b0\u5728 \uff0c \u6211\u4eec \u5199 \u5b8c \u4e86 \u4e00\u4e2a \u5c0f \u63d2\u4ef6 \u4e86 \uff0c \u90a3\u4e48 \u8be5 \u4e3a \u5b83 \u7f16\u5199 \u5e2e\u52a9 \u4e86   \u4e0d\u5e78 \u7684 \u662f \uff0c \u4f60 \u5df2\u7ecf \u5728 \u4e0a\u8ff0 \u4ee3\u7801 \u4e2d \u5b8c\u6210 \u4e86 \u5b83   \u901a\u8fc7 \u5206\u6790   \u6ce8\u518c \u56de\u8c03 \u7684 \u6ce8\u91ca (   __ doc __   ) \uff0c ayaka \u5185\u7f6e \u63d2\u4ef6   ayaka _ master   \u4f1a \u81ea\u52a8 \u751f\u6210 \u5bf9\u5e94 \u7684 \u5e2e\u52a9   \u73b0\u5728 \uff0c \u4f60 \u53ea \u9700 \u53d1\u9001 \u547d\u4ee4   help   [ * ]   \u4ee3\u8868 \u5b83 \u5339\u914d \u4efb\u610f \u72b6\u6001 \uff0c   *   \u4ee3\u8868 \u5b83 \u5339\u914d \u4efb\u610f \u547d\u4ee4 \uff08 = \u6d88\u606f \u89e6\u53d1 \uff09   \u6d4b\u8bd5   \u00b6   \u4f60 \u53ef\u80fd \u6ce8\u610f \u5230 \u4e86 \uff0c \u4e0a\u56fe \u4e2d \u7684 qq \u53f7 ( 1 ,   123 ) \u548c \u7fa4\u804a \u53f7 ( 100 ) \u5e76\u975e \u771f\u5b9e qq \u53f7   \u786e\u5b9e \u5982\u6b64 \uff0c \u56e0\u4e3a \u8fd9\u4e9b \u6d88\u606f \uff0c \u662f \u7531 \u6d4b\u8bd5 \u5957\u4ef6 (   ayaka _ test   ) \u6240 \u634f\u9020 \u7684 \uff0c \u53d1\u9001 \u9001\u7ed9 \u53d1\u9001\u7ed9 nonebot \u7528\u4e8e \u6d4b\u8bd5   \u4f60 \u53ef\u4ee5 \u4e0b\u8f7d \u6574\u4e2a   \u4ed3\u5e93   \u83b7\u5f97 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0b \u4e00\u9875 \u5c06 \u8be6\u7ec6 \u4ecb\u7ecd \u4f7f\u7528 \u65b9\u6cd5   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5feb\u901f \u5f00\u59cb"},{"location":"intro/quick_start/#_1","text":"ayaka   \u5e0c\u671b \u5e2e\u52a9 \u5f00\u53d1 \u5f00\u53d1\u8005 \u66f4 \u8f7b\u677e \u5730 \u63a7\u5236 \u5e94\u7528 \u72b6\u6001 \uff0c \u5e76 \u907f\u514d \u4e0d\u540c \u63d2\u4ef6 \u95f4 \u7684 \u547d\u4ee4 \u91cd\u540d \u5bfc\u81f4 \u7684 \u51b2\u7a81 \u95ee\u9898","title":"\u5feb\u901f \u5f00\u59cb"},{"location":"intro/quick_start/#_2","text":"ayaka \u5c06 \u6bcf \u4e00\u4e2a   \u63d2\u4ef6   \u90fd \u89c6\u4e3a \u4e00\u4e2a   \u5e94\u7528   \uff0c \u6bcf \u4e00\u4e2a   \u7fa4\u804a   \u89c6\u4e3a \u4e00\u4e2a   \u8bbe\u5907   \u8bbe\u5907 \u5e73\u65f6 \u5904\u4e8e   \u95f2\u7f6e \u72b6\u6001   \uff0c \u4f60 \u53ef\u4ee5 \u901a\u8fc7 \u547d\u4ee4 \u6253\u5f00 \u4e00\u4e2a \u5e94\u7528 \uff0c \u4ee4\u5176 \u8fd0\u884c   \u968f\u540e \uff0c \u8be5 \u8bbe\u5907 \u5c06   \u53ea \u54cd\u5e94   \u8be5 \u5e94\u7528 \u76f8\u5173 \u7684 \u547d\u4ee4   \u4f8b\u5982 \uff1a \u63d2\u4ef6 A \uff08 \u5e94\u7528 A \uff09 \u548c \u63d2\u4ef6 B \uff08 \u5e94\u7528 B \uff09 \u90fd \u4f7f\u7528 \u4e86 \u4e00\u4e2a   \u67e5\u8be2   \u7684 \u547d\u4ee4 \uff0c \u90a3\u4e48 \u8bbe\u5907 \u5c06 \u54cd\u5e94 \u54ea \u4e00\u4e2a \u5462 \uff1f   ayaka \u7684 \u89e3\u51b3 \u65b9\u5f0f \u662f \uff0c \u4f60 \u9700\u8981 \u5148 \u8fd0\u884c   \u5e94\u7528 A   \u548c   \u5e94\u7528 B   \u4e2d \u7684 \u4e00\u4e2a \uff0c \u4e4b\u540e \u624d \u53ef\u4ee5 \u4f7f\u7528   \u67e5\u8be2   \u547d\u4ee4 \uff0c \u6b63\u5728 \u8fd0\u884c \u7684 \u5e94\u7528 \u8fdb\u884c \u54cd\u5e94","title":"\u547d\u4ee4 \u9694\u79bb"},{"location":"intro/quick_start/#_3","text":"\u5047\u8bbe \u6211\u4eec \u73b0\u5728 \u9700\u8981 \u505a \u4e00\u4e2a   \u661f\u9645 \u65c5\u884c   \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u63d2\u4ef6 \uff1a \u4f60 \u5728 \u4e0d\u540c \u7684 \u661f\u7403 \uff08 \u72b6\u6001 \uff09 \u53ef\u4ee5 \u5e72 \u4e0d\u540c \u7684 \u4e8b \uff0c \u4ea7\u751f \u4e0d\u540c \u7684 \u540e\u679c","title":"\u72b6\u6001\u673a"},{"location":"intro/quick_start/#_4","text":"\u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u5730\u7403   jump   \u4e00\u8df3 \u4e24\u7c73 \u9ad8   \u5730\u7403   hit   \u4f60 \u5168\u529b \u4e00\u51fb \uff0c \u5236\u9020 \u4e86 \u5927 \u5730\u9707   \u6708\u7403   jump   \u4f60 \u79bb\u5f00 \u4e86 \u6708\u7403 ... \u6c38\u8fdc \u7684 ...   \u592a\u9633   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3   \u4efb\u610f \u5730\u70b9   goto   < \u540d\u5b57 >   \u53bb \u53e6 \u4e00\u4e2a \u661f\u7403   \u4efb\u610f \u5730\u70b9   hi   \u4f60\u597d ,   < \u540d\u5b57 > !","title":"\u9700\u6c42 \u5982\u4e0b"},{"location":"intro/quick_start/#_5","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u661f\u9645 \u65c5\u884c \"   )   async   def   app _ start   ( ) :   ' ' ' \u6253\u5f00 \u5e94\u7528 ' ' '   #   \u8bbe\u7f6e \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a \u5730\u7403   await   app   .   start   (   \" \u5730\u7403 \"   )   #   \u661f\u7403   earth   =   app   .   on   .   state   (   \" \u5730\u7403 \"   )   moon   =   app   .   on   .   state   (   \" \u6708\u7403 \"   ,   \" \u6708\u4eae \"   )   sun   =   app   .   on   .   state   (   \" \u592a\u9633 \"   )   all   =   app   .   on   .   state   (   \" * \"   )   #   \u52a8\u4f5c   hi   =   app   .   on   .   command   (   \" hi \"   ,   \" \u4f60\u597d \"   )   hit   =   app   .   on   .   command   (   \" hit \"   ,   \" \u6253 \"   )   jump   =   app   .   on   .   command   (   \" jump \"   ,   \" \u8df3 \"   )   drink   =   app   .   on   .   command   (   \" drink \"   ,   \" \u559d \"   )   @ all   @ hi   async   def   handle   ( ) :   ' ' ' \u62db\u547c \u6253\u4e2a\u62db\u547c ' ' '   await   app   .   send   (   f   \" \u4f60\u597d ,   {   app   .   state   }   ! \"   )   @ earth   @ jump   async   def   handle   ( ) :   ' ' ' \u8df3 \u4e00 \u8df3 ' ' '   await   app   .   send   (   \" \u4e00\u8df3 \u4e24\u7c73 \u9ad8 \"   )   @ earth   @ hit   async   def   handle   ( ) :   ' ' ' \u6253 \u4e00\u6253 ' ' '   await   app   .   send   (   \" \u4f60 \u5168\u529b \u4e00\u51fb \uff0c \u5236\u9020 \u4e86 \u5927 \u5730\u9707 \"   )   @ moon   @ jump   async   def   handle   ( ) :   ' ' ' \u8df3 \u4e00 \u8df3 ' ' '   await   app   .   send   (   \" \u4f60 \u79bb\u5f00 \u4e86 \u6708\u7403 ... \u6c38\u8fdc \u7684 ... \"   )   @ sun   @ drink   async   def   handle   ( ) :   ' ' ' drink   1   drink ' ' '   await   app   .   send   (   \" \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3 \"   )   @ all   @ app   .   on   .   command   (   \" goto \"   )   async   def   handle   ( ) :   ' ' ' \u53bb \u5176\u4ed6 \u5730\u65b9 \u8f6c\u8f6c ' ' '   name   =   str   (   app   .   arg   )   app   .   state   =   name   await   app   .   send   (   f   \" \u4f60 \u52a8\u8eab \u524d\u5f80 \u52a8\u8eab\u524d\u5f80   {   name   }   \"   )   \u8fd9\u6837 \u5c31 \u5b8c\u6210 \u4e86   #   \u5173\u95ed \u5e94\u7528   @ all   @ app   .   on   .   command   (   \" exit \"   ,   \" quit \"   ,   \" \u9000\u51fa \"   )   async   def   handle   ( ) :   ' ' ' \u9000\u51fa ' ' '   await   app   .   close   ( )   \u54e6 \uff0c \u4e0d\u8981 \u5fd8\u8bb0 \u7f16\u5199 \u9000\u51fa \u547d\u4ee4 \uff01","title":"\u7f16\u5199 \u4ee3\u7801"},{"location":"intro/quick_start/#_6","text":"\u5728 \u521a\u624d \u7684 \u57fa\u7840 \u4e0a \uff0c \u6211\u4eec \u5e0c\u671b \u80fd \u518d \u52a0\u70b9 \u529f\u80fd \uff0c \u6bd4\u5982 \uff0c \u592a\u9633 \u4e0a\u65b0\u5f00 \u4e86 \u4e00\u5bb6 \u5976\u8336 \u5e97","title":"\u591a\u5c42\u6b21 \u7684 \u72b6\u6001"},{"location":"intro/quick_start/#_7","text":"\u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u592a\u9633 . \u5176\u4ed6 \u5730\u70b9   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3","title":"\u9700\u6c42 \u5982\u4e0b"},{"location":"intro/quick_start/#_8","text":"#   \u8865\u5145 1   @ app   .   on   .   state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ drink   async   def   handle   ( ) :   ' ' ' \u70ed\u4e4e \u7684 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   \u6ce8\u610f \u5230 \uff0c \u76ee\u524d \u5b9a\u4e49 \u4e86 \u4e24\u4e2a drink   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633   drink   \u563f \uff01 \u50cf\u662f \u4e00\u56e2 \u706b\u7403 \u8fdb \u4e86 \u80c3   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u4f18\u5148 \u89e6\u53d1 \u6700 \u5339\u914d \u7684 \u56de\u8c03   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u5976\u8336 \u5e97   \u65f6 \uff0c \u89e6\u53d1 \u540e\u8005   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \u65f6 \uff0c \u89e6\u53d1 \u524d\u8005","title":"\u7f16\u5199 \u4ee3\u7801"},{"location":"intro/quick_start/#_9","text":"\u5b87\u5b99 \u65c5\u6e38 \u516c\u53f8 \u53c8 \u5f00\u8bbe \u4e86 \u4e00\u4e2a \u65b0\u666f \u666f\u70b9 \u65b0\u666f\u70b9 \uff1a \u8000\u6591 \u8868\u6f14   \u6211\u4eec \u9700\u8981 \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70 \u8000\u6591 \u8868\u6f14 \u7684 \u95e8\u7968 \uff0c \u7136\u540e \u518d \u53bb \u8868\u6f14 \u73b0\u573a","title":"\u7f13\u5b58"},{"location":"intro/quick_start/#_10","text":"\u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904   buy   \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \u592a\u9633 . \u4efb\u610f \u5730\u70b9   watch   \u53bb \u8868\u6f14 \u73b0\u573a","title":"\u9700\u6c42 \u5982\u4e0b"},{"location":"intro/quick_start/#_11","text":"#   \u8865\u5145 2   @ app   .   on   .   state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on   .   command   (   \" buy \"   )   async   def   handle   ( ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   ctrl   =   app   .   cache   .   chain   (   \" ticket \"   )   ticket   =   ctrl   .   get   (   0   )   ctrl   .   set   (   ticket   +   1   )   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on   .   state   (   \" \u592a\u9633 \"   )   @ app   .   on   .   command   (   \" watch \"   ,   \" \u53bb \u73b0\u573a \"   )   async   def   handle   ( ) :   ' ' ' \u53bb \u73b0\u573a ' ' '   ctrl   =   app   .   cache   .   chain   (   \" ticket \"   )   ticket   =   ctrl   .   get   (   0   )   if   ticket   >   0   :   ctrl   .   set   (   ticket   -   1   )   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 - 1 \"   )   app   .   state   =   \" \u592a\u9633 . \u8000\u6591 \u8868\u6f14 \"   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   else   :   await   app   .   send   (   \" \u4f60 \u8fd8 \u6ca1 \u4e70\u7968 \"   )","title":"\u7f16\u5199 \u4ee3\u7801"},{"location":"intro/quick_start/#vs","text":"\u521a\u624d \u7684 \u6240\u6709 \u56de\u8c03 \u90fd \u662f \u7531 \u5177\u4f53 \u7684 \u3001 \u6307\u5b9a \u7684 \u547d\u4ee4 \u6765 \u89e6\u53d1 \u8fd0\u884c \u7684   \u7136\u800c \uff0c \u4f60 \u4e5f \u53ef\u4ee5 \u4f7f\u7528 \u6d88\u606f \u89e6\u53d1   \u6bd4\u5982 \uff0c \u4f60 \u5728 \u73b0\u573a \u968f\u4fbf \u8bf4 \u4e86 \u4e00\u53e5 \u8bdd \uff0c \u89e6\u53d1 \u56de\u8c03 \u8fd0\u884c   #   \u8865\u5145 3   @ app   .   on   .   state   (   \" \u592a\u9633 . \u8000\u6591 \u8868\u6f14 \"   )   @ app   .   on   .   text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u4f60 \u7684 \u5976\u8336 \u6bd4 \u8868\u6f14 \u9879\u76ee \u8fd8 \u70eb \"   )   \u6d88\u606f \u89e6\u53d1 \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u4f4e\u4e8e \u547d\u4ee4 \u89e6\u53d1","title":"\u547d\u4ee4 \u89e6\u53d1   vs   \u6d88\u606f \u89e6\u53d1"},{"location":"intro/quick_start/#_12","text":"\u73b0\u5728 \uff0c \u6211\u4eec \u5199 \u5b8c \u4e86 \u4e00\u4e2a \u5c0f \u63d2\u4ef6 \u4e86 \uff0c \u90a3\u4e48 \u8be5 \u4e3a \u5b83 \u7f16\u5199 \u5e2e\u52a9 \u4e86   \u4e0d\u5e78 \u7684 \u662f \uff0c \u4f60 \u5df2\u7ecf \u5728 \u4e0a\u8ff0 \u4ee3\u7801 \u4e2d \u5b8c\u6210 \u4e86 \u5b83   \u901a\u8fc7 \u5206\u6790   \u6ce8\u518c \u56de\u8c03 \u7684 \u6ce8\u91ca (   __ doc __   ) \uff0c ayaka \u5185\u7f6e \u63d2\u4ef6   ayaka _ master   \u4f1a \u81ea\u52a8 \u751f\u6210 \u5bf9\u5e94 \u7684 \u5e2e\u52a9   \u73b0\u5728 \uff0c \u4f60 \u53ea \u9700 \u53d1\u9001 \u547d\u4ee4   help   [ * ]   \u4ee3\u8868 \u5b83 \u5339\u914d \u4efb\u610f \u72b6\u6001 \uff0c   *   \u4ee3\u8868 \u5b83 \u5339\u914d \u4efb\u610f \u547d\u4ee4 \uff08 = \u6d88\u606f \u89e6\u53d1 \uff09","title":"\u63d2\u4ef6 \u5e2e\u52a9"},{"location":"intro/quick_start/#_13","text":"\u4f60 \u53ef\u80fd \u6ce8\u610f \u5230 \u4e86 \uff0c \u4e0a\u56fe \u4e2d \u7684 qq \u53f7 ( 1 ,   123 ) \u548c \u7fa4\u804a \u53f7 ( 100 ) \u5e76\u975e \u771f\u5b9e qq \u53f7   \u786e\u5b9e \u5982\u6b64 \uff0c \u56e0\u4e3a \u8fd9\u4e9b \u6d88\u606f \uff0c \u662f \u7531 \u6d4b\u8bd5 \u5957\u4ef6 (   ayaka _ test   ) \u6240 \u634f\u9020 \u7684 \uff0c \u53d1\u9001 \u9001\u7ed9 \u53d1\u9001\u7ed9 nonebot \u7528\u4e8e \u6d4b\u8bd5   \u4f60 \u53ef\u4ee5 \u4e0b\u8f7d \u6574\u4e2a   \u4ed3\u5e93   \u83b7\u5f97 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0b \u4e00\u9875 \u5c06 \u8be6\u7ec6 \u4ecb\u7ecd \u4f7f\u7528 \u65b9\u6cd5","title":"\u6d4b\u8bd5"},{"location":"intro/quick_start/#_14","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/term/","text":"\u65e0 \u72b6\u6001 \u5e94\u7528   \u00b6   \u4f8b\u5982 \uff0c \u8ba1\u7b97 \u7b97\u5668 \u8ba1\u7b97\u5668   \u5bf9\u4e8e \u8be5 \u5e94\u7528 \u800c\u8a00 \uff0c \u7528\u6237 \u4e4b\u524d \u8bf4 \u4e86 \u4ec0\u4e48 \u90fd \u65e0\u6240 \u6240\u8c13 \u65e0\u6240\u8c13 \uff0c \u5b83 \u53ea \u9700\u8981 \u8ba1\u7b97 \u7528\u6237 \u5f53\u524d \u8f93\u5165 \u7684 \u5b57\u7b26 \u5b57\u7b26\u4e32 \u5373\u53ef   \u6362\u8a00\u4e4b \uff0c \u65e0\u8bba \u7528\u6237 \u66fe\u7ecf \u4e0b\u8fbe \u8fc7 \u4ec0\u4e48 \u6307\u4ee4 \uff0c \u90fd \u4e0d\u4f1a \u5f71\u54cd \u5230 \u8be5 \u5e94\u7528 \u7684 \u72b6\u6001 \uff0c \u5b83 \u662f \u6c38\u6052 \u4e0d\u53d8 \u6c38\u6052\u4e0d\u53d8 \u7684 \uff0c \u5373 \u65e0 \u72b6\u6001 \u5e94\u7528   \u65e0 \u72b6\u6001 \u5e94\u7528 \u5728 \u6ce8\u518c \u56de\u8c03 \u65f6 \uff0c \u53ea \u4f7f\u7528   app . on . idle   \u6709 \u72b6\u6001 \u5e94\u7528   \u00b6   \u661f\u9645 \u65c5\u884c   \u5c31\u662f \u4e00\u4e2a \u5178\u578b \u7684 \u4f8b\u5b50   \u6709 \u72b6\u6001 \u5e94\u7528 \u5728 \u6ce8\u518c \u56de\u8c03 \u65f6 \uff0c \u65e2 \u9700\u8981 \u4f7f\u7528   app . on . idle   \uff08 \u7528\u6765 \u6253\u5f00 \u5e94\u7528 \uff09 \uff0c \u4e5f \u9700\u8981 \u4f7f\u7528   app . on . state   \u5e94\u7528 \u542f\u7528 / \u7981\u7528   \u00b6   \u8be5 \u5e94\u7528 \uff08 \u4e0d\u7ba1 \u662f   \u65e0 \u72b6\u6001 \u5e94\u7528   \u8fd8\u662f   \u6709 \u72b6\u6001 \u5e94\u7528   \uff09 \u7684 \u6307\u4ee4 \u662f\u5426 \u53ef\u4ee5 \u54cd\u5e94   \u6bd4\u5982 \u7981\u7528 \u4e86   \u661f\u9645 \u65c5\u884c   \u5e94\u7528 \u540e \uff0c \u7528\u6237 \u53d1\u9001   \u661f\u9645 \u65c5\u884c   \u65f6 \uff0c bot \u5c06 \u4e0d\u4f1a \u89e6\u53d1 \u56de\u8c03   \u5e94\u7528 \u8fd0\u884c / \u5173\u95ed   \u00b6   \u662f \u6307   \u6709 \u72b6\u6001 \u5e94\u7528   \u662f\u5426 \u6b63\u5728 \u8fd0\u884c   \u6bd4\u5982 \u5f53\u524d \u7fa4\u804a \u5e76 \u6ca1\u6709 \u8fd0\u884c \u5e94\u7528 \u65f6 \uff0c \u7528\u6237 \u53d1\u9001   \u661f\u9645 \u65c5\u884c   \uff0c bot \u5c06 \u8fd0\u884c   \u661f\u9645 \u65c5\u884c   \u5e94\u7528   \u5355\u4e00 \u5e94\u7528 \u539f\u5219   \u00b6   \u4e00\u4e2a \u7fa4\u804a \u540c\u4e00 \u4e00\u65f6 \u65f6\u95f4 \u540c\u4e00\u65f6 \u4e00\u65f6\u95f4 \u540c\u4e00\u65f6\u95f4 \u53ea\u80fd \u8fd0\u884c \u4e00\u4e2a   \u6709 \u72b6\u6001 \u5e94\u7528   \uff0c \u907f\u514d \u8fc7\u4e8e \u6df7\u4e71 \u7684 \u60c5\u5f62 \uff0c \u5982\u679c \u60f3\u8981 \u8fd0\u884c \u53e6 \u4e00\u4e2a \u5e94\u7528 \uff0c \u8bf7 \u5148 \u5173\u95ed \u5f53\u524d \u7684 \u5e94\u7528   \u65e0 \u72b6\u6001 \u5e94\u7528   \u6ca1\u6709 \u8fd0\u884c \u548c \u5173\u95ed \u7684 \u6982\u5ff5 \uff0c \u56e0\u4e3a \u7528\u6237 \u53d1 \u5b8c \u6307\u4ee4 \uff0c bot \u7acb\u523b \u56de\u5e94 \uff0c \u4e14 \u65e0\u9700 \u5b58\u50a8 \u3001 \u6539\u53d8 \u81ea\u8eab \u72b6\u6001   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5176\u4ed6 \u7528\u8bed"},{"location":"intro/term/#_1","text":"\u4f8b\u5982 \uff0c \u8ba1\u7b97 \u7b97\u5668 \u8ba1\u7b97\u5668   \u5bf9\u4e8e \u8be5 \u5e94\u7528 \u800c\u8a00 \uff0c \u7528\u6237 \u4e4b\u524d \u8bf4 \u4e86 \u4ec0\u4e48 \u90fd \u65e0\u6240 \u6240\u8c13 \u65e0\u6240\u8c13 \uff0c \u5b83 \u53ea \u9700\u8981 \u8ba1\u7b97 \u7528\u6237 \u5f53\u524d \u8f93\u5165 \u7684 \u5b57\u7b26 \u5b57\u7b26\u4e32 \u5373\u53ef   \u6362\u8a00\u4e4b \uff0c \u65e0\u8bba \u7528\u6237 \u66fe\u7ecf \u4e0b\u8fbe \u8fc7 \u4ec0\u4e48 \u6307\u4ee4 \uff0c \u90fd \u4e0d\u4f1a \u5f71\u54cd \u5230 \u8be5 \u5e94\u7528 \u7684 \u72b6\u6001 \uff0c \u5b83 \u662f \u6c38\u6052 \u4e0d\u53d8 \u6c38\u6052\u4e0d\u53d8 \u7684 \uff0c \u5373 \u65e0 \u72b6\u6001 \u5e94\u7528   \u65e0 \u72b6\u6001 \u5e94\u7528 \u5728 \u6ce8\u518c \u56de\u8c03 \u65f6 \uff0c \u53ea \u4f7f\u7528   app . on . idle","title":"\u65e0 \u72b6\u6001 \u5e94\u7528"},{"location":"intro/term/#_2","text":"\u661f\u9645 \u65c5\u884c   \u5c31\u662f \u4e00\u4e2a \u5178\u578b \u7684 \u4f8b\u5b50   \u6709 \u72b6\u6001 \u5e94\u7528 \u5728 \u6ce8\u518c \u56de\u8c03 \u65f6 \uff0c \u65e2 \u9700\u8981 \u4f7f\u7528   app . on . idle   \uff08 \u7528\u6765 \u6253\u5f00 \u5e94\u7528 \uff09 \uff0c \u4e5f \u9700\u8981 \u4f7f\u7528   app . on . state","title":"\u6709 \u72b6\u6001 \u5e94\u7528"},{"location":"intro/term/#_3","text":"\u8be5 \u5e94\u7528 \uff08 \u4e0d\u7ba1 \u662f   \u65e0 \u72b6\u6001 \u5e94\u7528   \u8fd8\u662f   \u6709 \u72b6\u6001 \u5e94\u7528   \uff09 \u7684 \u6307\u4ee4 \u662f\u5426 \u53ef\u4ee5 \u54cd\u5e94   \u6bd4\u5982 \u7981\u7528 \u4e86   \u661f\u9645 \u65c5\u884c   \u5e94\u7528 \u540e \uff0c \u7528\u6237 \u53d1\u9001   \u661f\u9645 \u65c5\u884c   \u65f6 \uff0c bot \u5c06 \u4e0d\u4f1a \u89e6\u53d1 \u56de\u8c03","title":"\u5e94\u7528 \u542f\u7528 / \u7981\u7528"},{"location":"intro/term/#_4","text":"\u662f \u6307   \u6709 \u72b6\u6001 \u5e94\u7528   \u662f\u5426 \u6b63\u5728 \u8fd0\u884c   \u6bd4\u5982 \u5f53\u524d \u7fa4\u804a \u5e76 \u6ca1\u6709 \u8fd0\u884c \u5e94\u7528 \u65f6 \uff0c \u7528\u6237 \u53d1\u9001   \u661f\u9645 \u65c5\u884c   \uff0c bot \u5c06 \u8fd0\u884c   \u661f\u9645 \u65c5\u884c   \u5e94\u7528","title":"\u5e94\u7528 \u8fd0\u884c / \u5173\u95ed"},{"location":"intro/term/#_5","text":"\u4e00\u4e2a \u7fa4\u804a \u540c\u4e00 \u4e00\u65f6 \u65f6\u95f4 \u540c\u4e00\u65f6 \u4e00\u65f6\u95f4 \u540c\u4e00\u65f6\u95f4 \u53ea\u80fd \u8fd0\u884c \u4e00\u4e2a   \u6709 \u72b6\u6001 \u5e94\u7528   \uff0c \u907f\u514d \u8fc7\u4e8e \u6df7\u4e71 \u7684 \u60c5\u5f62 \uff0c \u5982\u679c \u60f3\u8981 \u8fd0\u884c \u53e6 \u4e00\u4e2a \u5e94\u7528 \uff0c \u8bf7 \u5148 \u5173\u95ed \u5f53\u524d \u7684 \u5e94\u7528   \u65e0 \u72b6\u6001 \u5e94\u7528   \u6ca1\u6709 \u8fd0\u884c \u548c \u5173\u95ed \u7684 \u6982\u5ff5 \uff0c \u56e0\u4e3a \u7528\u6237 \u53d1 \u5b8c \u6307\u4ee4 \uff0c bot \u7acb\u523b \u56de\u5e94 \uff0c \u4e14 \u65e0\u9700 \u5b58\u50a8 \u3001 \u6539\u53d8 \u81ea\u8eab \u72b6\u6001","title":"\u5355\u4e00 \u5e94\u7528 \u539f\u5219"},{"location":"intro/term/#_6","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/test/","text":"\u6d4b\u8bd5 ayaka \u884d\u751f \u63d2\u4ef6   \u00b6   \u5f00\u53d1 \u7ed3\u675f \u540e \u81ea\u7136 \u662f \u6d4b\u8bd5 \u5566   ayaka _ test \u6a21\u62df \u4e86 \u4e00\u4e2a   \u4e0d \u9700\u8981 \u8fde\u63a5 \u771f\u5b9e qq \u8d26\u53f7   \u7684 \u5047 cqhttp   \u76ee\u524d \u7684 \u5047 cqhttp \u53ea \u63d0\u4f9b \u4e86   send _ msg   send _ group _ msg   send _ group _ forward _ msg   send _ private _ msg   get _ group _ member _ list   get _ friend _ list   ...   \u5176\u4ed6 \u529f\u80fd \u53ef\u4ee5 \u81ea\u884c \u7f16\u5199 \u4ee3\u7801 \u5bf9 ayaka _ test \u8fdb\u884c \u589e\u5f3a \uff01   \u5df2 \u7ed9\u51fa \u4e24\u4e2a   \u94a9\u5b50 \u51fd\u6570   \u4f9b \u62d3\u5c55 \u4f7f\u7528   \u6548\u679c   \u00b6   \u6d4b\u8bd5 \u63d2\u4ef6 \u4e3a   \u8c01 \u662f \u5367\u5e95   \u9000\u51fa \u65f6 \u76f4\u63a5   CTRL + C   \u4f7f\u7528 \u65b9\u6cd5   \u00b6   \u4e0b\u8f7d \u672c \u5957\u4ef6   git   clone   https : / / github . com / bridgeL / nonebot - plugin - ayaka   \uff08 \u5957\u4ef6 \u4e2d \u81ea\u5e26 \u6700\u65b0 \u7248\u672c \u7684 ayaka \uff09   \u5b89\u88c5 \u4f9d\u8d56   pip   install   - r   requirements . txt   \u5c06 \u5f85 \u6d4b\u8bd5 \u7684 ayaka \u884d\u751f \u63d2\u4ef6 \u653e\u5165 plugins \u76ee\u5f55 \u4e0b   \u542f\u52a8   python   bot . py   \u901a\u7528 \u547d\u4ee4   \u00b6   \u547d\u4ee4   \u529f\u80fd   g   < group _ id >   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u7fa4\u804a \u6d88\u606f   p   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u79c1\u804a \u6d88\u606f   d   1   \u5ef6\u65f6 1 \u79d2   dn   0.1   \u5ef6\u65f6 0.1 \u79d2 \u540e\u7a7a \u4e00\u884c   sa   on / off   \u6253\u5f00 / \u5173\u95ed   \u5bf9 nonebot \u6536\u53d1 \u6d88\u606f \u7684 \u91c7\u6837   s   - n   test   \u6267\u884c script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   s   - p   yes   - n   test   \u6267\u884c plugins / yes / script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   - p   \u610f \u4e3a   plugin _ name   - n   \u610f \u4e3a   script _ name   \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   \u00b6   \u989d\u5916 \u547d\u4ee4   \u00b6   \u547d\u4ee4   \u529f\u80fd   before   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u524d \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   after   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u540e \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   ;   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   #   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   \u811a\u672c \u793a\u4f8b   \u00b6   #   \u7528\u4e8e \u533a\u5206 \u4e0d\u540c \u5bf9\u8bdd \u6bb5 ( \u6240\u6709 \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c \u9ed8\u8ba4 \u5177\u6709 \u6b64\u6761 \u6548\u679c \uff0c \u65e0\u9700 \u4e13\u95e8 \u4e66\u5199 )   #   after   dn   0.1   #   \u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u5982\u4e0b \u8bed\u53e5 \u5173\u95ed \u9ed8\u8ba4 \u6548\u679c   #   after   #   \u5f00\u59cb \u6d4b\u8bd5   g   100   1   \u661f\u9645 \u65c5\u884c   g   100   1   hi   g   100   1   goto   \u6708\u7403   g   100   1   jump   \u5982\u4f55 \u589e\u5f3a ayaka _ test   \u00b6   \u867d\u7136 \u540d\u4e49 \u4e0a \u662f ayaka \u884d\u751f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6 \uff0c \u7136\u800c \u5176 \u4e0e ayaka \u6ca1 \u591a\u5c11 \u5173\u7cfb \uff0c \u53ef\u4ee5 \u76f4\u63a5 \u62ff \u53bb \u5f53 nonebot \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0d\u8fc7 \uff0c \u7531\u4e8e \u53ea \u6a21\u4eff \u4e86 \u51e0\u6761 \u529f\u80fd \uff0c \u56e0\u6b64 \u66f4 \u591a \u7684 \u8fd8\u662f \u9002\u7528 \u4e8e \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5   \u5728 ayaka _ test \u4e2d \uff0c \u5206\u522b \u7ed9\u51fa \u4e86 \u4e24\u4e2a \u94a9\u5b50 \u51fd\u6570   fake _ qq . on _ terminal   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u7ec8\u7aef \u547d\u4ee4   fake _ qq . on _ cqhttp   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u5047 cqhttp \u7684 api   \u5177\u4f53 \u7f16\u5199 \u53ef \u5206\u522b \u53c2\u8003   ayaka _ test / terminal . py   \u548c   ayaka _ test / cqhttp . py   \u6587\u4ef6   \u901a\u8fc7 \u5b83\u4eec \u4e3a \u5047 cqhttp \u62d3\u5c55 \u66f4 \u529f\u80fd \u591a\u529f\u80fd \u5427   win10   fastapi   reload \u5361\u6b7b \u95ee\u9898   \u00b6   \u6d4b\u8bd5 \u5957\u4ef6 \u53ef\u80fd \u4f1a \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u5361\u6b7b \uff0c \u65e0\u6cd5 \u7ed3\u675f \u8fdb\u7a0b \uff0c \u4ece\u800c \u5360\u7528 \u6d4b\u8bd5 \u7aef\u53e3   win10 \u53ef \u5c1d\u8bd5 \u8fd0\u884c   python   clean . py   \u6e05\u7406 \u5361\u6b7b \u7684 \u8fdb\u7a0b   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6d4b\u8bd5"},{"location":"intro/test/#ayaka","text":"\u5f00\u53d1 \u7ed3\u675f \u540e \u81ea\u7136 \u662f \u6d4b\u8bd5 \u5566   ayaka _ test \u6a21\u62df \u4e86 \u4e00\u4e2a   \u4e0d \u9700\u8981 \u8fde\u63a5 \u771f\u5b9e qq \u8d26\u53f7   \u7684 \u5047 cqhttp   \u76ee\u524d \u7684 \u5047 cqhttp \u53ea \u63d0\u4f9b \u4e86   send _ msg   send _ group _ msg   send _ group _ forward _ msg   send _ private _ msg   get _ group _ member _ list   get _ friend _ list   ...   \u5176\u4ed6 \u529f\u80fd \u53ef\u4ee5 \u81ea\u884c \u7f16\u5199 \u4ee3\u7801 \u5bf9 ayaka _ test \u8fdb\u884c \u589e\u5f3a \uff01   \u5df2 \u7ed9\u51fa \u4e24\u4e2a   \u94a9\u5b50 \u51fd\u6570   \u4f9b \u62d3\u5c55 \u4f7f\u7528","title":"\u6d4b\u8bd5 ayaka \u884d\u751f \u63d2\u4ef6"},{"location":"intro/test/#_1","text":"\u6d4b\u8bd5 \u63d2\u4ef6 \u4e3a   \u8c01 \u662f \u5367\u5e95   \u9000\u51fa \u65f6 \u76f4\u63a5   CTRL + C","title":"\u6548\u679c"},{"location":"intro/test/#_2","text":"\u4e0b\u8f7d \u672c \u5957\u4ef6   git   clone   https : / / github . com / bridgeL / nonebot - plugin - ayaka   \uff08 \u5957\u4ef6 \u4e2d \u81ea\u5e26 \u6700\u65b0 \u7248\u672c \u7684 ayaka \uff09   \u5b89\u88c5 \u4f9d\u8d56   pip   install   - r   requirements . txt   \u5c06 \u5f85 \u6d4b\u8bd5 \u7684 ayaka \u884d\u751f \u63d2\u4ef6 \u653e\u5165 plugins \u76ee\u5f55 \u4e0b   \u542f\u52a8   python   bot . py","title":"\u4f7f\u7528 \u65b9\u6cd5"},{"location":"intro/test/#_3","text":"\u547d\u4ee4   \u529f\u80fd   g   < group _ id >   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u7fa4\u804a \u6d88\u606f   p   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u79c1\u804a \u6d88\u606f   d   1   \u5ef6\u65f6 1 \u79d2   dn   0.1   \u5ef6\u65f6 0.1 \u79d2 \u540e\u7a7a \u4e00\u884c   sa   on / off   \u6253\u5f00 / \u5173\u95ed   \u5bf9 nonebot \u6536\u53d1 \u6d88\u606f \u7684 \u91c7\u6837   s   - n   test   \u6267\u884c script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   s   - p   yes   - n   test   \u6267\u884c plugins / yes / script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   - p   \u610f \u4e3a   plugin _ name   - n   \u610f \u4e3a   script _ name","title":"\u901a\u7528 \u547d\u4ee4"},{"location":"intro/test/#_4","text":"","title":"\u81ea\u52a8\u5316 \u811a\u672c"},{"location":"intro/test/#_5","text":"\u547d\u4ee4   \u529f\u80fd   before   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u524d \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   after   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u540e \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   ;   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   #   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09","title":"\u989d\u5916 \u547d\u4ee4"},{"location":"intro/test/#_6","text":"#   \u7528\u4e8e \u533a\u5206 \u4e0d\u540c \u5bf9\u8bdd \u6bb5 ( \u6240\u6709 \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c \u9ed8\u8ba4 \u5177\u6709 \u6b64\u6761 \u6548\u679c \uff0c \u65e0\u9700 \u4e13\u95e8 \u4e66\u5199 )   #   after   dn   0.1   #   \u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u5982\u4e0b \u8bed\u53e5 \u5173\u95ed \u9ed8\u8ba4 \u6548\u679c   #   after   #   \u5f00\u59cb \u6d4b\u8bd5   g   100   1   \u661f\u9645 \u65c5\u884c   g   100   1   hi   g   100   1   goto   \u6708\u7403   g   100   1   jump","title":"\u811a\u672c \u793a\u4f8b"},{"location":"intro/test/#ayaka_test","text":"\u867d\u7136 \u540d\u4e49 \u4e0a \u662f ayaka \u884d\u751f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6 \uff0c \u7136\u800c \u5176 \u4e0e ayaka \u6ca1 \u591a\u5c11 \u5173\u7cfb \uff0c \u53ef\u4ee5 \u76f4\u63a5 \u62ff \u53bb \u5f53 nonebot \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0d\u8fc7 \uff0c \u7531\u4e8e \u53ea \u6a21\u4eff \u4e86 \u51e0\u6761 \u529f\u80fd \uff0c \u56e0\u6b64 \u66f4 \u591a \u7684 \u8fd8\u662f \u9002\u7528 \u4e8e \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5   \u5728 ayaka _ test \u4e2d \uff0c \u5206\u522b \u7ed9\u51fa \u4e86 \u4e24\u4e2a \u94a9\u5b50 \u51fd\u6570   fake _ qq . on _ terminal   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u7ec8\u7aef \u547d\u4ee4   fake _ qq . on _ cqhttp   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u5047 cqhttp \u7684 api   \u5177\u4f53 \u7f16\u5199 \u53ef \u5206\u522b \u53c2\u8003   ayaka _ test / terminal . py   \u548c   ayaka _ test / cqhttp . py   \u6587\u4ef6   \u901a\u8fc7 \u5b83\u4eec \u4e3a \u5047 cqhttp \u62d3\u5c55 \u66f4 \u529f\u80fd \u591a\u529f\u80fd \u5427","title":"\u5982\u4f55 \u589e\u5f3a ayaka _ test"},{"location":"intro/test/#win10-fastapi-reload","text":"\u6d4b\u8bd5 \u5957\u4ef6 \u53ef\u80fd \u4f1a \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u5361\u6b7b \uff0c \u65e0\u6cd5 \u7ed3\u675f \u8fdb\u7a0b \uff0c \u4ece\u800c \u5360\u7528 \u6d4b\u8bd5 \u7aef\u53e3   win10 \u53ef \u5c1d\u8bd5 \u8fd0\u884c   python   clean . py   \u6e05\u7406 \u5361\u6b7b \u7684 \u8fdb\u7a0b","title":"win10   fastapi   reload \u5361\u6b7b \u95ee\u9898"},{"location":"intro/test/#_7","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/","text":"\u9664\u4e86   \u661f\u9645 \u65c5\u884c   \uff0c ayaka \u8fd8 \u53ef\u4ee5 \u5b9e\u73b0 \u66f4 \u591a   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u66f4 \u591a \u793a\u4f8b"},{"location":"more/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/baidu/","text":"\u6ce8\u610f \uff0c win \u5e73\u53f0 \u4f7f\u7528 playwright \u65f6 \u9700\u8981 \u5173\u95ed fastapi \u7684 reload \u529f\u80fd   from   pathlib   import   Path   from   ayaka   import   get _ new _ page   ,   AyakaApp   ,   MessageSegment   app   =   AyakaApp   (   \" baidu \u622a\u56fe \"   )   @ app   .   on _ command   (   \" baidu \"   )   async   def   _   ( ) :   async   with   get _ new _ page   ( )   as   p   :   await   p   .   goto   (   \" http : / / www . baidu . com \"   ,   wait _ until   =   \" networkidle \"   )   path   =   Path   (   \" test . png \"   )   .   absolute   ( )   await   p   .   screenshot   (   path   =   path   )   image   =   MessageSegment   .   image   (   path   )   await   app   .   send   (   image   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6d4f\u89c8\u5668 \u622a\u56fe"},{"location":"more/baidu/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/clock/","text":"' ' '   \u6574\u70b9 \u62a5\u65f6   ' ' '   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6574\u70b9 \u62a5\u65f6 \"   )   #   \u5206\u949f \u6bcf\u5206\u949f \u4e00\u6b21   @ app   .   on   .   interval   (   60   ,   s   =   0   )   async   def   every _ minute   ( ) :   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   \" \u5c0f\u4e50 \"   )   #   \u6bcf \u5c0f\u65f6 \u4e00\u6b21   @ app   .   on   .   interval   (   3600   ,   m   =   0   ,   s   =   0   )   async   def   every _ hour   ( ) :   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   \" \u5927\u4e50 \"   )   #   \u6bcf\u5929 \u4e00\u6b21   @ app   .   on   .   everyday   (   h   =   23   ,   m   =   59   ,   s   =   59   )   async   def   every _ day   ( ) :   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   \" \u5443 \u5443 \u5443 \u4e00\u5929 \u8981 \u7ed3\u675f \u4e86 \"   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6574\u70b9 \u62a5\u65f6"},{"location":"more/clock/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/menu/","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u591a\u7ea7 \u83dc\u5355 \"   )   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u591a\u7ea7 \u83dc\u5355 \"   )   async   def   _   ( ) :   await   app   .   start   (   \" menu \"   )   await   app   .   send   (   app   .   help   )   @ app   .   on   .   state   (   \" * \"   )   @ app   .   on   .   command   (   \" \u9000\u51fa \"   ,   \" exit \"   ,   \" quit \"   )   async   def   _   ( ) :   await   app   .   close   ( )   @ app   .   on   .   state   (   \" * \"   )   @ app   .   on   .   command   (   \" \u8fd4\u56de \"   ,   \" back \"   )   async   def   _   ( ) :   app   .   state   =   \" menu \"   await   app   .   send   (   app   .   help   )   @ app   .   on   .   state   (   \" menu \"   )   @ app   .   on   .   command   (   \" zh \"   )   async   def   _   ( ) :   ' ' ' \u53bb \u4e2d\u56fd ' ' '   app   .   state   =   \" \u4e2d\u56fd \"   await   app   .   send   (   app   .   help   )   @ app   .   on   .   state   (   \" menu \"   )   @ app   .   on   .   command   (   \" jp \"   )   async   def   _   ( ) :   ' ' ' \u53bb \u65e5\u672c ' ' '   app   .   state   =   \" \u65e5\u672c \"   await   app   .   send   (   app   .   help   )   @ app   .   on   .   state   (   \" menu \"   )   @ app   .   on   .   command   (   \" kr \"   )   async   def   _   ( ) :   ' ' ' \u53bb \u5077\u56fd ' ' '   app   .   state   =   \" \u5077\u56fd \"   await   app   .   send   (   app   .   help   )   @ app   .   on   .   state   (   \" \u4e2d\u56fd \"   )   @ app   .   on   .   command   (   \" hc \"   )   async   def   _   ( ) :   ' ' ' \u559d\u8336 ' ' '   await   app   .   send   (   \" \u559d\u8336 \"   )   @ app   .   on   .   state   (   \" \u4e2d\u56fd \"   )   @ app   .   on   .   command   (   \" xq \"   )   async   def   _   ( ) :   ' ' ' \u4e0b\u68cb ' ' '   await   app   .   send   (   \" \u4e0b\u68cb \"   )   @ app   .   on   .   state   (   \" \u65e5\u672c \"   )   @ app   .   on   .   command   (   \" ly \"   )   async   def   _   ( ) :   ' ' ' \u65c5\u6e38 ' ' '   await   app   .   send   (   \" \u65c5\u6e38 \"   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u591a\u7ea7 \u83dc\u5355"},{"location":"more/menu/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/mult_input/","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u591a\u6b21 \u8f93\u5165 \"   )   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" \u6211\u8981 \u8f93\u5165 \"   )   async   def   _   ( ) :   ' ' ' \u542f\u52a8 \u5e94\u7528 ' ' '   await   app   .   start   ( )   app   .   set _ state   (   \" \u8f93\u5165 \u4e2d \"   )   app   .   cache   .   msgs   =   [ ]   @ app   .   on   .   state   (   \" \u8f93\u5165 \u4e2d \"   )   @ app   .   on   .   text   ( )   async   def   _   ( ) :   ' ' ' \u8f93\u5165 \u5427 ' ' '   app   .   cache   .   msgs   .   append   (   app   .   event   .   get _ plaintext   ( ) )   @ app   .   on   .   state   (   \" \u8f93\u5165 \u4e2d \"   )   @ app   .   on   .   command   (   \" \u63d0\u4ea4 \"   )   async   def   _   ( ) :   ' ' ' \u63d0\u4ea4 \u4fe1\u606f \u5e76 \u5173\u95ed \u5e94\u7528 ' ' '   msgs   =   app   .   cache   .   msgs   await   app   .   send   (   \" \u6210\u529f \u63d0\u4ea4 \"   )   await   app   .   send   (   \"   \\ n   \"   .   join   (   msgs   ) )   await   app   .   close   ( )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u591a\u6b21 \u8f93\u5165"},{"location":"more/mult_input/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"more/split/","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u5206\u5272 \u53c2\u6570 \"   )   @ app   .   on   .   idle   ( )   @ app   .   on   .   command   (   \" split \"   ,   \" \u5206\u5272 \"   )   async   def   _   ( ) :   await   app   .   send   (   app   .   cmd   )   await   app   .   send   (   app   .   arg   )   for   arg   in   app   .   args   :   await   app   .   send   (   arg   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5206\u5272 \u53c2\u6570"},{"location":"more/split/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"}]}