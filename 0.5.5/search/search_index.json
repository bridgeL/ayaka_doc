{"config":{"indexing":"full","lang":["en","ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-\\.]+"},"docs":[{"location":"","text":"Ayaka   -   \u4e3a \u7fa4\u804a \u63d2\u4ef6 \u5f00\u53d1 \u63d0\u4f9b \u72b6\u6001 \u72b6\u6001\u673a \u652f\u6301   \u00b6   \u57fa\u4e8e   nonebot2   \u548c   OnebotV11 \u534f\u8bae   \uff0c \u4e3a \u7fa4\u804a \u63d2\u4ef6 \u5f00\u53d1 \u63d0\u4f9b \u72b6\u6001 \u72b6\u6001\u673a \u652f\u6301   \u5355\u72ec \u5b89\u88c5 \u672c \u63d2\u4ef6 \u6ca1\u6709 \u610f\u4e49 \uff0c \u672c \u63d2\u4ef6 \u7684 \u610f\u4e49 \u5728\u4e8e \u5e2e\u52a9 \u884d\u751f \u63d2\u4ef6 \u5b9e\u73b0 \u529f\u80fd   ayaka \u53ef\u4ee5 \u63d0\u4f9b   \u00b6   \u547d\u4ee4 \u9694\u79bb   \u6570\u636e \u9694\u79bb   \u72b6\u6001 \u72b6\u6001\u673a   \u66f4 \u591a   \u00b6   ayaka \u4e3a \u4e00\u4e9b \u5e38\u89c1 \u7684 \u9700\u8981 \u83b7\u53d6 \u7684 \u503c \uff08 \u4f8b\u5982 user _ id \uff0c user _ name \uff09 \u8bbe\u7f6e \u4e86 \u5feb\u6377 \u8bbf\u95ee \u7684 \u65b9\u6cd5   ayaka \u589e\u52a0 \u4e86   AyakaConfig   \u3001   AyakaDB   \u7b49 \u7c7b \uff0c \u5e2e\u52a9 \u63d2\u4ef6 \u8bfb\u5199 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u548c \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u7b49   ayaka \u80fd \u81ea\u52a8 \u751f\u6210 \u5e2e\u52a9   \u53ef\u4ee5 \u901a\u8fc7   ayaka _ test   \u5728 \u79bb\u7ebf \u73af\u5883 \u4e0b \u5bf9 \u63d2\u4ef6 \u8fdb\u884c \u7b80\u5355 \u6d4b\u8bd5   \u6ce8\u610f   \u00b6   ayaka \u9ed8\u8ba4 \u63d2\u4ef6 \u5de5\u4f5c \u5728 \u7fa4\u804a \u4e2d \uff0c \u5176 \u9ed8\u8ba4 \u4ec5 \u76d1\u542c \u7fa4\u804a \u6d88\u606f \u3002 \u4e0d\u8fc7 \uff0c \u53ef\u4ee5 \u4f7f\u7528   add _ listener   \uff0c \u4ee4 ayaka \u63a5\u53d7 \u67d0 \u79c1\u804a \u7684 \u6d88\u606f \uff0c ayaka \u5c06 \u8be5 \u6d88\u606f \u89c6\u4e3a \u6765\u81ea \u7fa4\u804a   \u672c\u7ad9 \u641c\u7d22 \u680f \u5982\u679c \u641c \u4e0d\u5230 \u60f3\u8981 \u7684 \u5185\u5bb9 \uff0c \u53ef\u4ee5 \u5c1d\u8bd5 \u5c06 \u5173\u952e \u5173\u952e\u8bcd \u5206\u5272 \u4e3a \u66f4 \u5c0f \u7684 \u5355\u4f4d \uff08 MkDocs \u5bf9 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \u7684 \u652f\u6301 \u8f83\u5dee \uff09   \u76f8\u5173 \u94fe\u63a5   \u00b6   ayaka \u4ed3\u5e93   ayaka \u6587\u6863 \u4ed3\u5e93   \u57fa\u4e8e ayaka \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u5408\u96c6   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u4ecb\u7ecd"},{"location":"#ayaka-","text":"\u57fa\u4e8e   nonebot2   \u548c   OnebotV11 \u534f\u8bae   \uff0c \u4e3a \u7fa4\u804a \u63d2\u4ef6 \u5f00\u53d1 \u63d0\u4f9b \u72b6\u6001 \u72b6\u6001\u673a \u652f\u6301   \u5355\u72ec \u5b89\u88c5 \u672c \u63d2\u4ef6 \u6ca1\u6709 \u610f\u4e49 \uff0c \u672c \u63d2\u4ef6 \u7684 \u610f\u4e49 \u5728\u4e8e \u5e2e\u52a9 \u884d\u751f \u63d2\u4ef6 \u5b9e\u73b0 \u529f\u80fd","title":"Ayaka   -   \u4e3a \u7fa4\u804a \u63d2\u4ef6 \u5f00\u53d1 \u63d0\u4f9b \u72b6\u6001\u673a \u652f\u6301"},{"location":"#ayaka","text":"\u547d\u4ee4 \u9694\u79bb   \u6570\u636e \u9694\u79bb   \u72b6\u6001 \u72b6\u6001\u673a","title":"ayaka \u53ef\u4ee5 \u63d0\u4f9b"},{"location":"#_1","text":"ayaka \u4e3a \u4e00\u4e9b \u5e38\u89c1 \u7684 \u9700\u8981 \u83b7\u53d6 \u7684 \u503c \uff08 \u4f8b\u5982 user _ id \uff0c user _ name \uff09 \u8bbe\u7f6e \u4e86 \u5feb\u6377 \u8bbf\u95ee \u7684 \u65b9\u6cd5   ayaka \u589e\u52a0 \u4e86   AyakaConfig   \u3001   AyakaDB   \u7b49 \u7c7b \uff0c \u5e2e\u52a9 \u63d2\u4ef6 \u8bfb\u5199 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u548c \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u7b49   ayaka \u80fd \u81ea\u52a8 \u751f\u6210 \u5e2e\u52a9   \u53ef\u4ee5 \u901a\u8fc7   ayaka _ test   \u5728 \u79bb\u7ebf \u73af\u5883 \u4e0b \u5bf9 \u63d2\u4ef6 \u8fdb\u884c \u7b80\u5355 \u6d4b\u8bd5","title":"\u66f4 \u591a"},{"location":"#_2","text":"ayaka \u9ed8\u8ba4 \u63d2\u4ef6 \u5de5\u4f5c \u5728 \u7fa4\u804a \u4e2d \uff0c \u5176 \u9ed8\u8ba4 \u4ec5 \u76d1\u542c \u7fa4\u804a \u6d88\u606f \u3002 \u4e0d\u8fc7 \uff0c \u53ef\u4ee5 \u4f7f\u7528   add _ listener   \uff0c \u4ee4 ayaka \u63a5\u53d7 \u67d0 \u79c1\u804a \u7684 \u6d88\u606f \uff0c ayaka \u5c06 \u8be5 \u6d88\u606f \u89c6\u4e3a \u6765\u81ea \u7fa4\u804a   \u672c\u7ad9 \u641c\u7d22 \u680f \u5982\u679c \u641c \u4e0d\u5230 \u60f3\u8981 \u7684 \u5185\u5bb9 \uff0c \u53ef\u4ee5 \u5c1d\u8bd5 \u5c06 \u5173\u952e \u5173\u952e\u8bcd \u5206\u5272 \u4e3a \u66f4 \u5c0f \u7684 \u5355\u4f4d \uff08 MkDocs \u5bf9 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \u7684 \u652f\u6301 \u8f83\u5dee \uff09","title":"\u6ce8\u610f"},{"location":"#_3","text":"ayaka \u4ed3\u5e93   ayaka \u6587\u6863 \u4ed3\u5e93   \u57fa\u4e8e ayaka \u7684 \u6e38\u620f \u5c0f\u6e38\u620f \u5408\u96c6","title":"\u76f8\u5173 \u94fe\u63a5"},{"location":"#_4","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"change-log/next/","text":"\u5b8c\u5584 \u6587\u6863   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u672a\u6765 \u8ba1\u5212"},{"location":"change-log/next/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"change-log/v2/","text":"v2   -   \u5df2 \u88ab \u629b\u5f03   \u00b6   \u4ee3\u7801 \u8f83\u4e3a \u590d\u6742 \u3001 \u81c3\u80bf \u3001 \u843d\u540e \uff0c \u5df2 \u653e\u5f03","title":"v2"},{"location":"change-log/v2/#v2-","text":"\u4ee3\u7801 \u8f83\u4e3a \u590d\u6742 \u3001 \u81c3\u80bf \u3001 \u843d\u540e \uff0c \u5df2 \u653e\u5f03","title":"v2   -   \u5df2 \u88ab \u629b\u5f03"},{"location":"change-log/v3/","text":"v3   -   \u4e0d\u518d \u7ef4\u62a4   \u00b6   \u8fd9\u91cc \u662f   ayaka \u63d2\u4ef6   0.3 . x \u7684 \u66f4\u65b0 \u8bb0\u5f55   0.3 . 0   \u00b6   \u501f\u52a9 contextvar \u5185\u7f6e \u6a21\u5757 \uff0c \u5168\u90e8 \u91cd\u5199 \u4e86 \u4e4b\u95f4 \u7684 \u4ee3\u7801 \uff0c \u73b0\u5728 \u5b83\u4eec \u88ab \u5408\u5e76 \u4e3a \u4e00\u4e2a \u5355 \u6587\u4ef6 \uff0c \u5e76 \u80fd \u5b9e\u73b0 ayaka \u63d2\u4ef6 \u5148\u524d \u63d0\u4f9b \u7684 \u6240\u6709 \u529f\u80fd \uff0c \u4f46 \u4e0d\u5e78 \u7684 \u662f \uff0c \u5176 \u65e0\u6cd5 \u517c\u5bb9 0.2 . x \u7684 ayaka \u63d2\u4ef6 \uff0c \u9700\u8981 \u4ee3\u7801 \u8fc1\u79fb   0.3 . 2   \u00b6   \u89c4\u5b9a \u4e86 \u5e94\u7528 \u542f\u52a8 \u540e \u7684 \u9ed8\u8ba4 \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a   init   \u589e\u52a0 \u4e86 \u8f83\u4e3a \u5b8c\u5584 \u7684 \u6ce8\u91ca   0.3 . 5   \u00b6   \u5c06 ayaka _ master \u96c6\u6210 \u8fdb\u672c \u63d2\u4ef6 \u4e2d   0.3 . 6   \u00b6   \u4e0d \u517c\u5bb9   \u4fee\u6539 \u4e86 AyakaStorage   \u4fee\u6539 \u4e86 AyakaApp \u7684 \u4e24\u5904 \u65b9\u6cd5 \uff1a   plugin _ storage   group _ storage   \u4fee\u6539 \u5185\u5bb9 \uff1a   \u53d6\u6d88 \u4e86 suffix \u53c2\u6570 \uff0c \u73b0\u5728 \uff0c \u60a8 \u9700\u8981 \u5728 \u6700\u540e \u4e00\u4e2a name \u4e2d \u6307\u5b9a suffix \uff0c \u5426\u5219 \uff0c AyakaStorage \u4e2d \u7684 path \u5c5e\u6027 \u5c06 \u6307\u5411 \u4e00\u4e2a \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   \u8fc1\u79fb \u65b9\u5f0f \uff1a   app . plugin _ storage ( \" name \" )   - >   app . plugin _ storage ( \" name . json \" )   app . plugin _ storage ( \" test \" ,   \" name \" ,   suffix = \" . txt \" )   - >   app . plugin _ storage ( \" test \" ,   \" name . txt \" )   0.3 . 8   \u00b6   \u4fee\u6539 \u4e86 ayaka \u4e2d send _ many \u7684 \u5b9e\u73b0 \u65b9\u5f0f \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \uff09   \u589e\u52a0 \u4e86 \u4e00\u6761 \u5b89\u88c5 \u6b65\u9aa4 \uff0c \u89e3\u51b3 nb \u751f\u6210 \u7684 \u9ed8\u8ba4 toml \u6587\u4ef6 \u7684 \u4f9d\u8d56 \u51b2\u7a81 \u95ee\u9898   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u73b0\u5728 \u4e3a app . help \u8d4b\u503c \u65f6 \uff0c \u63d2\u4ef6 \u5c06 \u81ea\u52a8 \u53bb\u9664 \u5176 \u9996\u5c3e \u7684 white - space \u5b57\u7b26   \u4f8b\u5982 \uff0c \u60a8 \u53ef\u4ee5 \u76f4\u63a5 \u586b\u5199   app   .   help   =   ' ' '   \u4f60\u597d   \u554a \u554a   ' ' '   \u5b9e\u9645 \u5b58\u5165 \u7684 \u5e2e\u52a9 \u662f   app   .   _ help   =   {   \" init \"   :   \" \u4f60\u597d   \\ n \\ n   \u554a \u554a \"   }   \u589e\u52a0 \u4e86 \u5173\u4e8e   app . group _ storage   \u7684 \u5e2e\u52a9 \uff0c \u5e76 \u589e\u52a0 \u4e86 \u4e00\u4e2a \u793a\u4f8b \u63d2\u4ef6   0.3 . 9   \u00b6   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c   \u73b0\u5728 \u60a8 \u53ef\u4ee5   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \"   )   app   .   help   =   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   @ app   .   on _ command   ( [   \" t \"   ,   \" test \"   ] )   async   def   handle   ( ) :   ' ' ' \u53d1\u9001 \u6210\u529f \u5566 ' ' '   await   app   .   send   (   \" \u6210\u529f \u5566 \"   )   \u8be5 \u5e2e\u52a9 \u4e3a \u81ea\u52a8 \u751f\u6210   0.3 . 10   \u00b6   \u4fee\u6539 \u4e86 playwright \u7684 \u52a0\u8f7d \u903b\u8f91   \u73b0\u5728 \u6ca1\u6709 \u5b89\u88c5 playwright \u7684 \u8bbe\u5907 \u4e5f \u53ef\u4ee5 \u6b63\u5e38 \u52a0\u8f7d ayaka \u4e86   \uff08 \u4f46\u662f \u4ecd\u7136 \u4f1a\u62a5 warning   \u4e3a ayaka \u7684 \u7c7b \u589e\u52a0 \u4e86 repr \u9b54\u6cd5 \u65b9\u6cd5   0.3 . 11   \u00b6   \u4fee\u590d \u4e86 \u5355\u72ec \u53d1\u9001 @ \u673a\u5668 \u673a\u5668\u4eba \u7684 \u6d88\u606f \u5bfc\u81f4 ayaka \u62a5\u9519 \u7684 bug   \u4f18\u5316 \u4e86 \u4ee3\u7801 \u7ed3\u6784 \uff0c \u53bb \u9664\u4e86 \u4e00\u4e9b \u91cd\u590d \u4ee3\u7801 \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \u6548\u679c","title":"v3"},{"location":"change-log/v3/#v3-","text":"\u8fd9\u91cc \u662f   ayaka \u63d2\u4ef6   0.3 . x \u7684 \u66f4\u65b0 \u8bb0\u5f55","title":"v3   -   \u4e0d\u518d \u7ef4\u62a4"},{"location":"change-log/v3/#030","text":"\u501f\u52a9 contextvar \u5185\u7f6e \u6a21\u5757 \uff0c \u5168\u90e8 \u91cd\u5199 \u4e86 \u4e4b\u95f4 \u7684 \u4ee3\u7801 \uff0c \u73b0\u5728 \u5b83\u4eec \u88ab \u5408\u5e76 \u4e3a \u4e00\u4e2a \u5355 \u6587\u4ef6 \uff0c \u5e76 \u80fd \u5b9e\u73b0 ayaka \u63d2\u4ef6 \u5148\u524d \u63d0\u4f9b \u7684 \u6240\u6709 \u529f\u80fd \uff0c \u4f46 \u4e0d\u5e78 \u7684 \u662f \uff0c \u5176 \u65e0\u6cd5 \u517c\u5bb9 0.2 . x \u7684 ayaka \u63d2\u4ef6 \uff0c \u9700\u8981 \u4ee3\u7801 \u8fc1\u79fb","title":"0.3 . 0"},{"location":"change-log/v3/#032","text":"\u89c4\u5b9a \u4e86 \u5e94\u7528 \u542f\u52a8 \u540e \u7684 \u9ed8\u8ba4 \u521d\u59cb \u72b6\u6001 \u521d\u59cb\u72b6\u6001 \u4e3a   init   \u589e\u52a0 \u4e86 \u8f83\u4e3a \u5b8c\u5584 \u7684 \u6ce8\u91ca","title":"0.3 . 2"},{"location":"change-log/v3/#035","text":"\u5c06 ayaka _ master \u96c6\u6210 \u8fdb\u672c \u63d2\u4ef6 \u4e2d","title":"0.3 . 5"},{"location":"change-log/v3/#036","text":"\u4e0d \u517c\u5bb9   \u4fee\u6539 \u4e86 AyakaStorage   \u4fee\u6539 \u4e86 AyakaApp \u7684 \u4e24\u5904 \u65b9\u6cd5 \uff1a   plugin _ storage   group _ storage   \u4fee\u6539 \u5185\u5bb9 \uff1a   \u53d6\u6d88 \u4e86 suffix \u53c2\u6570 \uff0c \u73b0\u5728 \uff0c \u60a8 \u9700\u8981 \u5728 \u6700\u540e \u4e00\u4e2a name \u4e2d \u6307\u5b9a suffix \uff0c \u5426\u5219 \uff0c AyakaStorage \u4e2d \u7684 path \u5c5e\u6027 \u5c06 \u6307\u5411 \u4e00\u4e2a \u6587\u4ef6 \u4ef6\u5939 \u6587\u4ef6\u5939   \u8fc1\u79fb \u65b9\u5f0f \uff1a   app . plugin _ storage ( \" name \" )   - >   app . plugin _ storage ( \" name . json \" )   app . plugin _ storage ( \" test \" ,   \" name \" ,   suffix = \" . txt \" )   - >   app . plugin _ storage ( \" test \" ,   \" name . txt \" )","title":"0.3 . 6"},{"location":"change-log/v3/#038","text":"\u4fee\u6539 \u4e86 ayaka \u4e2d send _ many \u7684 \u5b9e\u73b0 \u65b9\u5f0f \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \uff09   \u589e\u52a0 \u4e86 \u4e00\u6761 \u5b89\u88c5 \u6b65\u9aa4 \uff0c \u89e3\u51b3 nb \u751f\u6210 \u7684 \u9ed8\u8ba4 toml \u6587\u4ef6 \u7684 \u4f9d\u8d56 \u51b2\u7a81 \u95ee\u9898   \u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u73b0\u5728 \u4e3a app . help \u8d4b\u503c \u65f6 \uff0c \u63d2\u4ef6 \u5c06 \u81ea\u52a8 \u53bb\u9664 \u5176 \u9996\u5c3e \u7684 white - space \u5b57\u7b26   \u4f8b\u5982 \uff0c \u60a8 \u53ef\u4ee5 \u76f4\u63a5 \u586b\u5199   app   .   help   =   ' ' '   \u4f60\u597d   \u554a \u554a   ' ' '   \u5b9e\u9645 \u5b58\u5165 \u7684 \u5e2e\u52a9 \u662f   app   .   _ help   =   {   \" init \"   :   \" \u4f60\u597d   \\ n \\ n   \u554a \u554a \"   }   \u589e\u52a0 \u4e86 \u5173\u4e8e   app . group _ storage   \u7684 \u5e2e\u52a9 \uff0c \u5e76 \u589e\u52a0 \u4e86 \u4e00\u4e2a \u793a\u4f8b \u63d2\u4ef6","title":"0.3 . 8"},{"location":"change-log/v3/#039","text":"\u589e\u8fdb \u4e86 app . help \u7684 \u4f7f\u7528 \u4f53\u9a8c   \u73b0\u5728 \u60a8 \u53ef\u4ee5   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \"   )   app   .   help   =   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   @ app   .   on _ command   ( [   \" t \"   ,   \" test \"   ] )   async   def   handle   ( ) :   ' ' ' \u53d1\u9001 \u6210\u529f \u5566 ' ' '   await   app   .   send   (   \" \u6210\u529f \u5566 \"   )   \u8be5 \u5e2e\u52a9 \u4e3a \u81ea\u52a8 \u751f\u6210","title":"0.3 . 9"},{"location":"change-log/v3/#0310","text":"\u4fee\u6539 \u4e86 playwright \u7684 \u52a0\u8f7d \u903b\u8f91   \u73b0\u5728 \u6ca1\u6709 \u5b89\u88c5 playwright \u7684 \u8bbe\u5907 \u4e5f \u53ef\u4ee5 \u6b63\u5e38 \u52a0\u8f7d ayaka \u4e86   \uff08 \u4f46\u662f \u4ecd\u7136 \u4f1a\u62a5 warning   \u4e3a ayaka \u7684 \u7c7b \u589e\u52a0 \u4e86 repr \u9b54\u6cd5 \u65b9\u6cd5","title":"0.3 . 10"},{"location":"change-log/v3/#0311","text":"\u4fee\u590d \u4e86 \u5355\u72ec \u53d1\u9001 @ \u673a\u5668 \u673a\u5668\u4eba \u7684 \u6d88\u606f \u5bfc\u81f4 ayaka \u62a5\u9519 \u7684 bug   \u4f18\u5316 \u4e86 \u4ee3\u7801 \u7ed3\u6784 \uff0c \u53bb \u9664\u4e86 \u4e00\u4e9b \u91cd\u590d \u4ee3\u7801 \uff08 \u4e0d \u5f71\u54cd \u4f7f\u7528 \u6548\u679c","title":"0.3 . 11"},{"location":"change-log/v4/","text":"v4   -   \u4e0d\u518d \u7ef4\u62a4   \u00b6   0.4 . 1   \u00b6   API \u53d8\u66f4   \u00b6   \u76f8\u6bd4 0.3 . x \u8fdb\u884c \u4e86 api \u7684 \u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u6362   \u5df2 \u8fc7\u65f6 \u7684 API \uff1a   on _ command   on _ text   on _ state _ command   on _ state _ text   group _ storage   plugin _ storage   set _ state   \u65b0 \u7684 API \uff1a   on   storage   \u901a\u8fc7 \u8fd9\u79cd \u65b9\u5f0f \uff0c \u4fbf\u4e8e \u540e\u7eed \u62d3\u5c55 ayaka \u7684 \u529f\u80fd \uff0c \u4f8b\u5982 \u6dfb\u52a0 \u5f02\u6b65 sql \u8bfb\u5199 \u652f\u6301   \u91cd\u65b0 \u5c06 ayaka \u529f\u80fd \u62c6 \u5206\u4e3a \u591a\u4e2a \u6587\u4ef6 \uff0c \u4ee5\u4fbf \u540e\u7eed \u62d3\u5c55 \u5f00\u53d1   \u4fee\u590d app . arg \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u7684 \u9519\u8bef   \u00b6   \u4fee\u590d \u4e86 \u547d\u4ee4 \u62ac\u5934 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c app . arg \u9519\u8bef \u89e3\u6790 \u7684 \u95ee\u9898   0.4 . 2   \u00b6   \u589e\u8fdb \u4e86 app . cache \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u6dfb\u52a0 \u4e86 chain \u65b9\u6cd5   \u4f18\u5316 \u4e86 app . cache \u7684 \u8fd0\u884c \u903b\u8f91 \uff0c \u4e0d \u5f71\u54cd \u4f7f\u7528   \u5927\u5e45 \u4fee\u6539 \u4e86   app . storage   \u7684 \u4f7f\u7528 \u65b9\u6cd5 \uff0c \u73b0\u5728   app . storage   \u4e0e   app . cache   \u6709\u7740 \u76f8\u4f3c \u7684 \u4f7f\u7528 \u903b\u8f91 \uff0c \u964d\u4f4e \u5fc3\u667a \u8d1f\u62c5   \u91cd\u65b0 \u6dfb\u52a0 \u4e86   app . set _ state   \u65b9\u6cd5   0.4 . 3   \u00b6   \u4fee\u6539 \u4e86 \u7f13\u5b58 \u548c \u6301\u4e45 \u5316\u4e2d \u7684 AyakaCacheCtrl \u548c AyakaJsonFileCtrl \u7684 \u53d8\u91cf \u6210\u5458 \u7684 \u540d\u79f0   AyakaCacheCtrl   . data   - >   AyakaCacheCtrl   ._ data   AyakaCacheCtrl   . keys   - >   AyakaCacheCtrl   ._ keys   AyakaJsonFileCtrl   . path   - >   AyakaJsonFileCtrl   ._ path   AyakaJsonFileCtrl   . data   - >   AyakaJsonFileCtrl   ._ data   \u6dfb\u52a0 \u4e86 api \u6587\u6863 \uff08 \u81ea\u52a8 \u751f\u6210 \uff09   \u6dfb\u52a0 \u4e86 app . parser   \u4fee\u590d \u4e86 ayaka \u5728 \u5904\u7406 \u5b8c \u6d88\u606f \u540e \u628a \u9519\u8bef \u5730 \u628a \u6d88\u606f \u6e05\u7a7a \u4e86 \u7684 \u95ee\u9898   ayaka \u5c06 \u5904\u7406 \u6d88\u606f \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u964d\u4f4e \u5230 \u4e86 20   ayaka \u4e0d\u518d \u4f7f\u7528 \u5168\u5c40 \u914d\u7f6e \uff08 \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09   0.4 . 4   \u00b6   \u589e\u52a0 \u4e86   ayaka _ setting . json   \u4ee5\u53ca \u5bf9\u5e94 \u7684 \u7ba1\u7406 \u65b9\u6cd5   \u73b0\u5728 ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c \u4e0d\u518d \u4e0e nonebot \u516c\u7528 \uff0c \u4ece\u800c \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u7684 \u51b2\u7a81 \u3002   0.4 . 5   \u00b6   \u5c06 AYAKA _ DEBUG \u5408\u5e76 \u8fdb ayaka _ setting . json   \u5f53 nonebot \u672a \u52a0\u8f7d \u65f6 \uff0c ayaka \u5c06 \u81ea\u52a8 \u52a0\u8f7d nonebot \uff0c \u786e\u4fdd pdoc \u6b63\u786e \u6267\u884c   \u5f53 ayaka \u5206\u5272 \u7b26 \u88ab \u8bbe\u7f6e \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c \u4e0d\u518d \u62a5\u9519 \uff0c \u800c\u662f \u8fdb\u884c \u8b66\u544a   \u4fee\u6539 \u4e86 ayaka   api \u6587\u6863 \uff0c \u901a\u8fc7 pdoc \u81ea\u52a8 \u5206\u6790 \u4ee3\u7801 \u751f\u6210 \u4ee3\u7801\u751f\u6210 \u7f51\u7ad9 \uff08 \u76ee\u524d \u4e0d \u652f\u6301 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \uff09   ayaka \u76ee\u524d \u80fd \u6b63\u786e \u7684 \u5c06 \u7248\u672c \u7248\u672c\u53f7 \u5199\u5165 ayaka _ setting . json \u4e2d \u4e86   ayaka . parser   \u66f4\u540d \u4e3a   ayaka . ayaka _ parser \uff0c \u907f\u514d \u4e0e \u5185\u7f6e \u5e93 \u7684 \u547d\u540d \u51b2\u7a81   \u8f7d\u5165 \u540c\u540d ayaka \u5e94\u7528 \u540e raise \uff0c \u800c \u4e0d\u518d \u662f warning","title":"v4"},{"location":"change-log/v4/#v4-","text":"","title":"v4   -   \u4e0d\u518d \u7ef4\u62a4"},{"location":"change-log/v4/#041","text":"","title":"0.4 . 1"},{"location":"change-log/v4/#api","text":"\u76f8\u6bd4 0.3 . x \u8fdb\u884c \u4e86 api \u7684 \u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u6362   \u5df2 \u8fc7\u65f6 \u7684 API \uff1a   on _ command   on _ text   on _ state _ command   on _ state _ text   group _ storage   plugin _ storage   set _ state   \u65b0 \u7684 API \uff1a   on   storage   \u901a\u8fc7 \u8fd9\u79cd \u65b9\u5f0f \uff0c \u4fbf\u4e8e \u540e\u7eed \u62d3\u5c55 ayaka \u7684 \u529f\u80fd \uff0c \u4f8b\u5982 \u6dfb\u52a0 \u5f02\u6b65 sql \u8bfb\u5199 \u652f\u6301   \u91cd\u65b0 \u5c06 ayaka \u529f\u80fd \u62c6 \u5206\u4e3a \u591a\u4e2a \u6587\u4ef6 \uff0c \u4ee5\u4fbf \u540e\u7eed \u62d3\u5c55 \u5f00\u53d1","title":"API \u53d8\u66f4"},{"location":"change-log/v4/#apparg","text":"\u4fee\u590d \u4e86 \u547d\u4ee4 \u62ac\u5934 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c app . arg \u9519\u8bef \u89e3\u6790 \u7684 \u95ee\u9898","title":"\u4fee\u590d app . arg \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u7684 \u9519\u8bef"},{"location":"change-log/v4/#042","text":"\u589e\u8fdb \u4e86 app . cache \u7684 \u4f7f\u7528 \u4f53\u9a8c \uff0c \u6dfb\u52a0 \u4e86 chain \u65b9\u6cd5   \u4f18\u5316 \u4e86 app . cache \u7684 \u8fd0\u884c \u903b\u8f91 \uff0c \u4e0d \u5f71\u54cd \u4f7f\u7528   \u5927\u5e45 \u4fee\u6539 \u4e86   app . storage   \u7684 \u4f7f\u7528 \u65b9\u6cd5 \uff0c \u73b0\u5728   app . storage   \u4e0e   app . cache   \u6709\u7740 \u76f8\u4f3c \u7684 \u4f7f\u7528 \u903b\u8f91 \uff0c \u964d\u4f4e \u5fc3\u667a \u8d1f\u62c5   \u91cd\u65b0 \u6dfb\u52a0 \u4e86   app . set _ state   \u65b9\u6cd5","title":"0.4 . 2"},{"location":"change-log/v4/#043","text":"\u4fee\u6539 \u4e86 \u7f13\u5b58 \u548c \u6301\u4e45 \u5316\u4e2d \u7684 AyakaCacheCtrl \u548c AyakaJsonFileCtrl \u7684 \u53d8\u91cf \u6210\u5458 \u7684 \u540d\u79f0   AyakaCacheCtrl   . data   - >   AyakaCacheCtrl   ._ data   AyakaCacheCtrl   . keys   - >   AyakaCacheCtrl   ._ keys   AyakaJsonFileCtrl   . path   - >   AyakaJsonFileCtrl   ._ path   AyakaJsonFileCtrl   . data   - >   AyakaJsonFileCtrl   ._ data   \u6dfb\u52a0 \u4e86 api \u6587\u6863 \uff08 \u81ea\u52a8 \u751f\u6210 \uff09   \u6dfb\u52a0 \u4e86 app . parser   \u4fee\u590d \u4e86 ayaka \u5728 \u5904\u7406 \u5b8c \u6d88\u606f \u540e \u628a \u9519\u8bef \u5730 \u628a \u6d88\u606f \u6e05\u7a7a \u4e86 \u7684 \u95ee\u9898   ayaka \u5c06 \u5904\u7406 \u6d88\u606f \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u964d\u4f4e \u5230 \u4e86 20   ayaka \u4e0d\u518d \u4f7f\u7528 \u5168\u5c40 \u914d\u7f6e \uff08 \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09","title":"0.4 . 3"},{"location":"change-log/v4/#044","text":"\u589e\u52a0 \u4e86   ayaka _ setting . json   \u4ee5\u53ca \u5bf9\u5e94 \u7684 \u7ba1\u7406 \u65b9\u6cd5   \u73b0\u5728 ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c \u4e0d\u518d \u4e0e nonebot \u516c\u7528 \uff0c \u4ece\u800c \u907f\u514d \u4e0e \u5176\u4ed6 \u63d2\u4ef6 \u7684 \u51b2\u7a81 \u3002","title":"0.4 . 4"},{"location":"change-log/v4/#045","text":"\u5c06 AYAKA _ DEBUG \u5408\u5e76 \u8fdb ayaka _ setting . json   \u5f53 nonebot \u672a \u52a0\u8f7d \u65f6 \uff0c ayaka \u5c06 \u81ea\u52a8 \u52a0\u8f7d nonebot \uff0c \u786e\u4fdd pdoc \u6b63\u786e \u6267\u884c   \u5f53 ayaka \u5206\u5272 \u7b26 \u88ab \u8bbe\u7f6e \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \u65f6 \uff0c \u4e0d\u518d \u62a5\u9519 \uff0c \u800c\u662f \u8fdb\u884c \u8b66\u544a   \u4fee\u6539 \u4e86 ayaka   api \u6587\u6863 \uff0c \u901a\u8fc7 pdoc \u81ea\u52a8 \u5206\u6790 \u4ee3\u7801 \u751f\u6210 \u4ee3\u7801\u751f\u6210 \u7f51\u7ad9 \uff08 \u76ee\u524d \u4e0d \u652f\u6301 \u4e2d\u6587 \u641c\u7d22 \u4e2d\u6587\u641c\u7d22 \uff09   ayaka \u76ee\u524d \u80fd \u6b63\u786e \u7684 \u5c06 \u7248\u672c \u7248\u672c\u53f7 \u5199\u5165 ayaka _ setting . json \u4e2d \u4e86   ayaka . parser   \u66f4\u540d \u4e3a   ayaka . ayaka _ parser \uff0c \u907f\u514d \u4e0e \u5185\u7f6e \u5e93 \u7684 \u547d\u540d \u51b2\u7a81   \u8f7d\u5165 \u540c\u540d ayaka \u5e94\u7528 \u540e raise \uff0c \u800c \u4e0d\u518d \u662f warning","title":"0.4 . 5"},{"location":"change-log/v5/","text":"v5   -   \u6b63\u5728 \u4f7f\u7528   \u00b6   \u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u65b0 \u4e86 API \uff0c \u90e8\u5206 \u65e7 API \u53ef \u517c\u5bb9   0.5 . 2   \u00b6   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . storage \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . cache \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . parse \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 app . BaseConfig \u5c5e\u6027   \u79fb\u9664 \uff1a \u6682\u65f6 \u79fb \u9664\u4e86 ayaka _ master \u4e2d \u5bf9 \u5404\u4e2a \u63d2\u4ef6 \u7684 \u542f\u7528 \u3001 \u7981\u7528 \u529f\u80fd   \u65b0 \u7279\u6027 \uff1a \u6240\u6709 \u72b6\u6001 \u90fd \u662f \u4e00\u4e2a \u72b6\u6001 \u7ed3\u70b9 \uff0c \u6240\u6709 \u72b6\u6001 \u7ed3\u70b9 \u5747 \u4f4d\u4e8e \u552f\u4e00 \u4e00\u68f5 \u72b6\u6001 \u6811\u4e0a   \u65b0 \u7279\u6027 \uff1a \u91cd\u65b0 \u4f7f\u7528 app . on _ xxx \u98ce\u683c \u7684 \u88c5\u9970 \u5668 \uff0c \u4e0d\u8fc7 \uff0c \u65e7 \u7684 app . on . xxx \u88c5\u9970 \u5668 \u4ecd \u53ef \u517c\u5bb9 \u4f7f\u7528   \u65b0 \u7279\u6027 \uff1a app . on _ xxx \u7cfb\u5217 \u88c5\u9970 \u5668 \u4e0d\u518d \u8981\u6c42 \u4e66\u5199 \u987a\u5e8f   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaInput \u7c7b \u548c ayaka . msy _ type \u6a21\u5757   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaDB \u7c7b \u3001 AyakaUserDB \u548c AyakaGroupDB \u7c7b \uff0c \u4ece\u800c \u63d0\u4f9b sqlite \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u652f\u6301   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaCache \u7c7b   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaConfig \u3001 AyakaLargeConfig \u7c7b   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u65b9\u6cd5 app . set _ start _ cmds   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 app . on _ state \u3001 app . on _ cmd   0.5 . 3   \u00b6   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u65b9\u6cd5 app . set _ close _ cmds   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 app . on _ text \u3001 app . on _ idle   \u65b0 \u7279\u6027 \uff1a AyakaDB . select _ one \u5728 \u81ea\u52a8 \u521b\u5efa \u65b0\u9879 \u65f6 \uff0c \u4e5f \u4f1a \u81ea\u52a8 \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   \u53d8\u52a8 \uff1a \u4fee\u6539 \u4e86 app . set _ state \u7684 \u4f7f\u7528 \u65b9\u5f0f   0.5 . 4 \uff08 \u5e9f\u5f03 \uff09   \u00b6   \u79fb\u9664 \uff1a \u79fb \u9664\u4e86 playwright \u4f9d\u8d56 \u548c ayaka . playwright \u6a21\u5757   \u79fb\u9664 \uff1a \u79fb \u9664\u4e86 ayaka   master \u7684 \u90e8\u5206 \u6307\u4ee4 \uff1a \u67e5\u770b \u7f13\u5b58 \u3001 add _ admin \u3001 remove _ admin   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 ayaka . extension \u6a21\u5757 \uff0c \u63d0\u4f9b \u4e00\u4e9b \u6709\u7528 \u7684 \u65b9\u6cd5   \u65b0 \u7279\u6027 \uff1a AyakaDB   \u65b0\u589e \u81ea\u52a8 \u66f4\u65b0 \u81ea\u52a8\u66f4\u65b0 \u7279\u6027 \uff08 \u4e0e AyakaConfig \u4e00\u81f4   \u65b0 \u7279\u6027 \uff1a AyakaInput ._ create _ by _ app \u66f4\u540d \u4e3a create _ by _ app \uff0c \u9f13\u52b1 \u5b50\u7c7b \u91cd\u5199 \u8be5 \u65b9\u6cd5   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 on _ start _ cmds \u3001 on _ close _ cmds \u3001 on _ everyday \u3001 on _ interval \u3001 on _ cmd _ regex   \u53d8\u52a8 \uff1a \u4fee\u6539 \u4e86 app . get _ state \u7684 \u4f7f\u7528 \u65b9\u5f0f   0.5 . 5   \u00b6   \u4fee\u590d BUG \uff1a 0.5 . 4 \u4e2d on _ text \u88c5\u9970 \u5668 \u7684 \u884c\u4e3a \u4e0e \u9884\u671f \u4e0d\u7b26","title":"v5"},{"location":"change-log/v5/#v5-","text":"\u5927\u5e45 \u5e45\u5ea6 \u5927\u5e45\u5ea6 \u66f4\u65b0 \u4e86 API \uff0c \u90e8\u5206 \u65e7 API \u53ef \u517c\u5bb9","title":"v5   -   \u6b63\u5728 \u4f7f\u7528"},{"location":"change-log/v5/#052","text":"\u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . storage \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . cache \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 ayaka . parse \u6a21\u5757   \u79fb\u9664 \uff1a \u5220\u9664 \u4e86 app . BaseConfig \u5c5e\u6027   \u79fb\u9664 \uff1a \u6682\u65f6 \u79fb \u9664\u4e86 ayaka _ master \u4e2d \u5bf9 \u5404\u4e2a \u63d2\u4ef6 \u7684 \u542f\u7528 \u3001 \u7981\u7528 \u529f\u80fd   \u65b0 \u7279\u6027 \uff1a \u6240\u6709 \u72b6\u6001 \u90fd \u662f \u4e00\u4e2a \u72b6\u6001 \u7ed3\u70b9 \uff0c \u6240\u6709 \u72b6\u6001 \u7ed3\u70b9 \u5747 \u4f4d\u4e8e \u552f\u4e00 \u4e00\u68f5 \u72b6\u6001 \u6811\u4e0a   \u65b0 \u7279\u6027 \uff1a \u91cd\u65b0 \u4f7f\u7528 app . on _ xxx \u98ce\u683c \u7684 \u88c5\u9970 \u5668 \uff0c \u4e0d\u8fc7 \uff0c \u65e7 \u7684 app . on . xxx \u88c5\u9970 \u5668 \u4ecd \u53ef \u517c\u5bb9 \u4f7f\u7528   \u65b0 \u7279\u6027 \uff1a app . on _ xxx \u7cfb\u5217 \u88c5\u9970 \u5668 \u4e0d\u518d \u8981\u6c42 \u4e66\u5199 \u987a\u5e8f   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaInput \u7c7b \u548c ayaka . msy _ type \u6a21\u5757   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaDB \u7c7b \u3001 AyakaUserDB \u548c AyakaGroupDB \u7c7b \uff0c \u4ece\u800c \u63d0\u4f9b sqlite \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u652f\u6301   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaCache \u7c7b   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 AyakaConfig \u3001 AyakaLargeConfig \u7c7b   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u65b9\u6cd5 app . set _ start _ cmds   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 app . on _ state \u3001 app . on _ cmd","title":"0.5 . 2"},{"location":"change-log/v5/#053","text":"\u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u65b9\u6cd5 app . set _ close _ cmds   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 app . on _ text \u3001 app . on _ idle   \u65b0 \u7279\u6027 \uff1a AyakaDB . select _ one \u5728 \u81ea\u52a8 \u521b\u5efa \u65b0\u9879 \u65f6 \uff0c \u4e5f \u4f1a \u81ea\u52a8 \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   \u53d8\u52a8 \uff1a \u4fee\u6539 \u4e86 app . set _ state \u7684 \u4f7f\u7528 \u65b9\u5f0f","title":"0.5 . 3"},{"location":"change-log/v5/#054","text":"\u79fb\u9664 \uff1a \u79fb \u9664\u4e86 playwright \u4f9d\u8d56 \u548c ayaka . playwright \u6a21\u5757   \u79fb\u9664 \uff1a \u79fb \u9664\u4e86 ayaka   master \u7684 \u90e8\u5206 \u6307\u4ee4 \uff1a \u67e5\u770b \u7f13\u5b58 \u3001 add _ admin \u3001 remove _ admin   \u65b0 \u7279\u6027 \uff1a \u589e\u52a0 \u4e86 ayaka . extension \u6a21\u5757 \uff0c \u63d0\u4f9b \u4e00\u4e9b \u6709\u7528 \u7684 \u65b9\u6cd5   \u65b0 \u7279\u6027 \uff1a AyakaDB   \u65b0\u589e \u81ea\u52a8 \u66f4\u65b0 \u81ea\u52a8\u66f4\u65b0 \u7279\u6027 \uff08 \u4e0e AyakaConfig \u4e00\u81f4   \u65b0 \u7279\u6027 \uff1a AyakaInput ._ create _ by _ app \u66f4\u540d \u4e3a create _ by _ app \uff0c \u9f13\u52b1 \u5b50\u7c7b \u91cd\u5199 \u8be5 \u65b9\u6cd5   \u65b0 \u7279\u6027 \uff1a \u65b0\u589e \u6ce8\u518c \u56de\u8c03 \u65b9\u6cd5 on _ start _ cmds \u3001 on _ close _ cmds \u3001 on _ everyday \u3001 on _ interval \u3001 on _ cmd _ regex   \u53d8\u52a8 \uff1a \u4fee\u6539 \u4e86 app . get _ state \u7684 \u4f7f\u7528 \u65b9\u5f0f","title":"0.5 . 4 \uff08 \u5e9f\u5f03 \uff09"},{"location":"change-log/v5/#055","text":"\u4fee\u590d BUG \uff1a 0.5 . 4 \u4e2d on _ text \u88c5\u9970 \u5668 \u7684 \u884c\u4e3a \u4e0e \u9884\u671f \u4e0d\u7b26","title":"0.5 . 5"},{"location":"develop/app/","text":"AyakaApp   \u00b6   \u9996\u5148 \uff0c \u4f60 \u9700\u8981 \u5bfc\u5165 \u5e76 \u521d\u59cb \u521d\u59cb\u5316 \u4e00\u4e2a   AyakaApp   \u5bf9\u8c61   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   )   bot \u3001 event \u3001 message   \u00b6   \u5fa1   \u4e09   \u5bb6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . bot   Bot   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba   app . event   MessageEvent   \u5f53\u524d \u6d88\u606f \u4e8b\u4ef6   app . message   Message   \u5f53\u524d \u6d88\u606f   cmd \u3001 arg \u3001 args   \u00b6   \u4e8c   \u4ee3   \u5fa1   \u4e09   \u5bb6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   app . arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   app . args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   \" user \"   \u8bf4 \uff1a # \u5f97\u5230 \u7684   \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b   \" sys \"   \u8bf4 \uff1a app . cmd   =   \" \u5f97\u5230 \u7684 \"   \" sys \"   \u8bf4 \uff1a app . arg   =   \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b \"   \" sys \"   \u8bf4 \uff1a app . args   =   [ \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39 \" , \" \u6765 \u770b\u770b \" ]   user _ name \u3001 user _ id \u3001 group _ id   \u00b6   \u61d2   \u4eba   \u4e09   \u4ef6   \u5957   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . group _ id   int   \u5f53\u524d \u7fa4\u804a \u7684 \u7fa4\u53f7   app . user _ id   int   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 qq \u53f7   app . user _ name   str   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0 \uff08 \u4f18\u5148 \u4e3a\u7fa4 \u540d\u7247 \uff09   start \u3001 close \u3001 send \u3001 send _ many   \u00b6   \u56db   \u5927   \u5929   \u738b   \u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . start   \u8fd0\u884c \u5e94\u7528   app . close   \u5173\u95ed \u5e94\u7528   app . send   \u53d1\u9001 \u6d88\u606f   app . send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u7279\u522b \u7684 \uff0c start \u53ef\u4ee5 \u8bbe\u7f6e \u53c2\u6570 \uff0c \u4ee4 app \u8fd0\u884c \u540e \u8fdb\u5165 \u6307\u5b9a \u72b6\u6001   set _ start _ cmds   \u00b6   \u8bbe\u7f6e \u542f\u52a8 \u5e94\u7528 \u7684 \u547d\u4ee4   state \u3001 get _ state   \u00b6   \u8be6\u89c1   AyakaState   set _ state \u3001 goto \u3001 back   \u00b6   \u72b6\u6001 \u8f6c\u79fb \u65b9\u6cd5 \uff0c \u4e5f \u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . set _ state   \u4ee4 \u5f53\u524d \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u53d8\u4e3a \u6307\u5b9a \u7684 \u53e6 \u4e00 \u72b6\u6001   app . goto   \u4e0e app . set _ state \u4e00\u6837   app . back   \u4ee4 \u5f53\u524d \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u53d8\u4e3a \u5176 \u5f53\u524d \u72b6\u6001 \u7684 \u7236 \u72b6\u6001   on _ xxx   \u6ce8\u518c \u56de\u8c03   \u00b6   \u540d\u79f0   \u529f\u80fd   app . on _ cmd   \u6ce8\u518c \u4e3a \u547d\u4ee4 \u56de\u8c03 \uff0c \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u53ef\u4ee5 \u5199 \u591a\u4e2a \u547d\u4ee4 \uff08 \u9ed8\u8ba4 \u4e3a \u963b\u65ad \uff09   app . on _ text   \u6ce8\u518c \u4e3a \u6d88\u606f \u56de\u8c03 \uff08 \u9ed8\u8ba4 \u4e3a \u4e0d \u963b\u65ad \uff09   app . on _ state   \u6ce8\u518c \u5728 \u6307\u5b9a \u72b6\u6001 \u4e0b \uff0c \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u53ef\u4ee5 \u5199 \u591a\u4e2a \u72b6\u6001   app . on _ idle   \u6ce8\u518c \u5728 \u95f2\u7f6e \u72b6\u6001 \u4e0b   app . on _ deep _ all   \u58f0\u660e \u8be5 \u56de\u8c03 \u5bf9 \u6240\u6709 \u5b50 \u72b6\u6001 \u751f\u6548   app . on _ no _ block   \u8bbe\u7f6e \u8be5 \u56de\u8c03 \u89e6\u53d1 \u540e \u4e0d \u963b\u65ad \u4e0a\u6eaf \u67e5\u627e   app . on _ cmd _ regex   \u6ce8\u518c \u4e3a \u547d\u4ee4 \u56de\u8c03 \uff0c \u901a\u8fc7 \u6b63\u5219 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f \u5339\u914d \u547d\u4ee4   app . on _ everyday   \u6ce8\u518c \u6bcf\u65e5 \u5b9a\u65f6 \u4efb\u52a1 \uff0c \u53ef \u8bbe\u7f6e \u8d77\u70b9   app . on _ interval   \u6ce8\u518c \u5b9a\u65f6 \u4efb\u52a1 \uff0c \u53ef \u8bbe\u7f6e \u8d77\u70b9 \u548c \u5468\u671f   add _ listener \u3001 remove _ listener   \u00b6   \u540d\u79f0   \u529f\u80fd   app . add _ listener   \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   app . remove _ listener   \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   \u5176\u4ed6   \u00b6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . name   str   \u5e94\u7528 \u540d\u79f0   app . bot _ id   int   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba \u7684 qq \u53f7   app . group   AyakaGroup   \u5f53\u524d \u7fa4\u7ec4   app . cache   Dict [ str , AyakaCache ]   \u4e3a \u5f53\u524d \u7fa4\u7ec4 \u5f53\u524d \u5e94\u7528 \u63d0\u4f9b \u7684 \u72ec\u7acb \u7f13\u5b58 \u6570\u636e \u7f13\u5b58\u6570\u636e \u7a7a\u95f4   t _ send \u3001 t _ send _ many   \u00b6   \u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . t _ send   \u53d1\u9001 \u6d88\u606f   app . t _ send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u5728 \u5b9a\u65f6 \u4efb\u52a1 \u65f6 \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u800c \u4e0d\u662f send \u548c send _ many   \u56e0\u4e3a \u5b9a\u65f6 \u5b9a\u65f6\u5668 \u89e6\u53d1 \u65f6 \uff0c \u56de\u8c03 \u65e0\u6cd5 \u901a\u8fc7 \u5206\u6790 \u6d88\u606f \uff08 \u538b\u6839 \u5c31 \u6ca1\u6709 \u6d88\u606f \uff09 \u5f97\u5230 \u5404\u7c7b \u4fe1\u606f \uff08 bot / group / message / event / sender \u7b49 \uff09   \u56e0\u6b64 \u6709 \u5f88\u591a \u65b9\u6cd5 \u548c \u5c5e\u6027 \u90fd \u65e0\u6cd5 \u8bbf\u95ee \u65e0\u6cd5\u8bbf\u95ee   \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u4e13\u7528 \u7684   app . t _ send   /   app . t _ send _ many   \uff0c \u5e76\u4e14 \u9700\u8981 \u63d0\u4f9b \u76ee\u6807 bot \u548c \u7fa4\u7ec4 \u7684 id   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5e94\u7528   AyakaApp"},{"location":"develop/app/#ayakaapp","text":"\u9996\u5148 \uff0c \u4f60 \u9700\u8981 \u5bfc\u5165 \u5e76 \u521d\u59cb \u521d\u59cb\u5316 \u4e00\u4e2a   AyakaApp   \u5bf9\u8c61   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u6d4b\u8bd5 \u4e00\u4e0b \"   )","title":"AyakaApp"},{"location":"develop/app/#boteventmessage","text":"\u5fa1   \u4e09   \u5bb6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . bot   Bot   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba   app . event   MessageEvent   \u5f53\u524d \u6d88\u606f \u4e8b\u4ef6   app . message   Message   \u5f53\u524d \u6d88\u606f","title":"bot \u3001 event \u3001 message"},{"location":"develop/app/#cmdargargs","text":"\u4e8c   \u4ee3   \u5fa1   \u4e09   \u5bb6   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   app . arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   app . args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   \" user \"   \u8bf4 \uff1a # \u5f97\u5230 \u7684   \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b   \" sys \"   \u8bf4 \uff1a app . cmd   =   \" \u5f97\u5230 \u7684 \"   \" sys \"   \u8bf4 \uff1a app . arg   =   \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b \"   \" sys \"   \u8bf4 \uff1a app . args   =   [ \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39 \" , \" \u6765 \u770b\u770b \" ]","title":"cmd \u3001 arg \u3001 args"},{"location":"develop/app/#user_nameuser_idgroup_id","text":"\u61d2   \u4eba   \u4e09   \u4ef6   \u5957   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . group _ id   int   \u5f53\u524d \u7fa4\u804a \u7684 \u7fa4\u53f7   app . user _ id   int   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 qq \u53f7   app . user _ name   str   \u5f53\u524d \u6d88\u606f \u7684 \u53d1\u9001 \u53d1\u9001\u8005 \u7684 \u7fa4 \u540d\u7247 \u6216 \u6635\u79f0 \uff08 \u4f18\u5148 \u4e3a\u7fa4 \u540d\u7247 \uff09","title":"user _ name \u3001 user _ id \u3001 group _ id"},{"location":"develop/app/#startclosesendsend_many","text":"\u56db   \u5927   \u5929   \u738b   \u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . start   \u8fd0\u884c \u5e94\u7528   app . close   \u5173\u95ed \u5e94\u7528   app . send   \u53d1\u9001 \u6d88\u606f   app . send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u7279\u522b \u7684 \uff0c start \u53ef\u4ee5 \u8bbe\u7f6e \u53c2\u6570 \uff0c \u4ee4 app \u8fd0\u884c \u540e \u8fdb\u5165 \u6307\u5b9a \u72b6\u6001","title":"start \u3001 close \u3001 send \u3001 send _ many"},{"location":"develop/app/#set_start_cmds","text":"\u8bbe\u7f6e \u542f\u52a8 \u5e94\u7528 \u7684 \u547d\u4ee4","title":"set _ start _ cmds"},{"location":"develop/app/#stateget_state","text":"\u8be6\u89c1   AyakaState","title":"state \u3001 get _ state"},{"location":"develop/app/#set_stategotoback","text":"\u72b6\u6001 \u8f6c\u79fb \u65b9\u6cd5 \uff0c \u4e5f \u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . set _ state   \u4ee4 \u5f53\u524d \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u53d8\u4e3a \u6307\u5b9a \u7684 \u53e6 \u4e00 \u72b6\u6001   app . goto   \u4e0e app . set _ state \u4e00\u6837   app . back   \u4ee4 \u5f53\u524d \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u53d8\u4e3a \u5176 \u5f53\u524d \u72b6\u6001 \u7684 \u7236 \u72b6\u6001","title":"set _ state \u3001 goto \u3001 back"},{"location":"develop/app/#on_xxx","text":"\u540d\u79f0   \u529f\u80fd   app . on _ cmd   \u6ce8\u518c \u4e3a \u547d\u4ee4 \u56de\u8c03 \uff0c \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u53ef\u4ee5 \u5199 \u591a\u4e2a \u547d\u4ee4 \uff08 \u9ed8\u8ba4 \u4e3a \u963b\u65ad \uff09   app . on _ text   \u6ce8\u518c \u4e3a \u6d88\u606f \u56de\u8c03 \uff08 \u9ed8\u8ba4 \u4e3a \u4e0d \u963b\u65ad \uff09   app . on _ state   \u6ce8\u518c \u5728 \u6307\u5b9a \u72b6\u6001 \u4e0b \uff0c \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u53ef\u4ee5 \u5199 \u591a\u4e2a \u72b6\u6001   app . on _ idle   \u6ce8\u518c \u5728 \u95f2\u7f6e \u72b6\u6001 \u4e0b   app . on _ deep _ all   \u58f0\u660e \u8be5 \u56de\u8c03 \u5bf9 \u6240\u6709 \u5b50 \u72b6\u6001 \u751f\u6548   app . on _ no _ block   \u8bbe\u7f6e \u8be5 \u56de\u8c03 \u89e6\u53d1 \u540e \u4e0d \u963b\u65ad \u4e0a\u6eaf \u67e5\u627e   app . on _ cmd _ regex   \u6ce8\u518c \u4e3a \u547d\u4ee4 \u56de\u8c03 \uff0c \u901a\u8fc7 \u6b63\u5219 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f \u5339\u914d \u547d\u4ee4   app . on _ everyday   \u6ce8\u518c \u6bcf\u65e5 \u5b9a\u65f6 \u4efb\u52a1 \uff0c \u53ef \u8bbe\u7f6e \u8d77\u70b9   app . on _ interval   \u6ce8\u518c \u5b9a\u65f6 \u4efb\u52a1 \uff0c \u53ef \u8bbe\u7f6e \u8d77\u70b9 \u548c \u5468\u671f","title":"on _ xxx   \u6ce8\u518c \u56de\u8c03"},{"location":"develop/app/#add_listenerremove_listener","text":"\u540d\u79f0   \u529f\u80fd   app . add _ listener   \u4e3a \u8be5 \u7fa4\u7ec4 \u6dfb\u52a0 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c   app . remove _ listener   \u79fb\u9664 \u8be5 \u7fa4\u7ec4 \u5bf9 \u79c1\u804a \u7684 \u76d1\u542c","title":"add _ listener \u3001 remove _ listener"},{"location":"develop/app/#_1","text":"\u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . name   str   \u5e94\u7528 \u540d\u79f0   app . bot _ id   int   \u5f53\u524d \u673a\u5668 \u673a\u5668\u4eba \u7684 qq \u53f7   app . group   AyakaGroup   \u5f53\u524d \u7fa4\u7ec4   app . cache   Dict [ str , AyakaCache ]   \u4e3a \u5f53\u524d \u7fa4\u7ec4 \u5f53\u524d \u5e94\u7528 \u63d0\u4f9b \u7684 \u72ec\u7acb \u7f13\u5b58 \u6570\u636e \u7f13\u5b58\u6570\u636e \u7a7a\u95f4","title":"\u5176\u4ed6"},{"location":"develop/app/#t_sendt_send_many","text":"\u90fd \u662f \u5f02\u6b65 \u65b9\u6cd5   \u540d\u79f0   \u529f\u80fd   app . t _ send   \u53d1\u9001 \u6d88\u606f   app . t _ send _ many   \u53d1\u9001 \u5408\u5e76 \u8f6c\u53d1 \u6d88\u606f   \u5728 \u5b9a\u65f6 \u4efb\u52a1 \u65f6 \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u8be5 \u65b9\u6cd5 \uff0c \u800c \u4e0d\u662f send \u548c send _ many   \u56e0\u4e3a \u5b9a\u65f6 \u5b9a\u65f6\u5668 \u89e6\u53d1 \u65f6 \uff0c \u56de\u8c03 \u65e0\u6cd5 \u901a\u8fc7 \u5206\u6790 \u6d88\u606f \uff08 \u538b\u6839 \u5c31 \u6ca1\u6709 \u6d88\u606f \uff09 \u5f97\u5230 \u5404\u7c7b \u4fe1\u606f \uff08 bot / group / message / event / sender \u7b49 \uff09   \u56e0\u6b64 \u6709 \u5f88\u591a \u65b9\u6cd5 \u548c \u5c5e\u6027 \u90fd \u65e0\u6cd5 \u8bbf\u95ee \u65e0\u6cd5\u8bbf\u95ee   \u53d1\u9001 \u6d88\u606f \u8bf7 \u4f7f\u7528 \u4e13\u7528 \u7684   app . t _ send   /   app . t _ send _ many   \uff0c \u5e76\u4e14 \u9700\u8981 \u63d0\u4f9b \u76ee\u6807 bot \u548c \u7fa4\u7ec4 \u7684 id","title":"t _ send \u3001 t _ send _ many"},{"location":"develop/app/#_2","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/cache/","text":"AyakaCache   \u00b6   \u5982\u679c \u9700\u8981 \u4e34\u65f6 \u4fdd\u5b58 \u4e00\u4e9b \u6570\u636e \uff0c \u4ee5 \u4f9b\u5e94 \u7528 \u5728 \u4e0d\u540c \u65f6\u523b / \u51fd\u6570 \u4e2d \u4f7f\u7528 \uff0c \u90a3\u4e48 \u9700\u8981 \u4f7f\u7528 \u7f13\u5b58   \u5b9a\u4e49   \u00b6   \u5c06 \u9700\u8981 \u7f13\u5b58 \u7684 \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaCache   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   name   :   str   =   \" \"   age   :   int   =   0   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \u548c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u4f7f\u7528   \u00b6   \u653e\u5165 \u56de\u8c03 \u7684 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \u5373\u53ef   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   print   (   cache   .   name   ,   cache   .   age   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 2   (   cache   :   Cache   ) :   cache   .   age   + =   1   @ app   .   on _ cmd   (   \" f3 \"   )   async   def   func _ 3   (   cache   :   Cache   ) :   cache   .   name   =   str   (   app   .   arg   )   \u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957   \u00b6   \u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   from   ayaka   import   AyakaCache   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Cache   (   AyakaCache   ) :   user   :   User   =   User   (   name   =   \" \u9ed8\u8ba4 \"   ,   age   =   0   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   print   (   cache   .   user   .   name   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   cache   .   user   .   name   =   \" \u6539\u540d \u4e86 \"   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u9ed8\u8ba4   <   <   <   \" user \"   \u8bf4 \uff1a # f2   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u6539\u540d \u4e86   \u5176\u4ed6 \u7528\u6cd5 \uff08 \u4e0d \u63a8\u8350 \uff09   \u00b6   app   .   cache   .   name   =   \" a \"   print   (   app   .   cache   .   name   )   #   a   \u7f3a\u4e4f \u7c7b\u578b \u63d0\u793a   \u82e5 \u8bfb\u53d6 \u64cd\u4f5c \u5728 \u5199\u5165 \u64cd\u4f5c \u4e4b\u524d \uff08 \u6267\u884c \u524d\u540e \u987a\u5e8f \uff0c \u4e0d\u662f \u4ee3\u7801 \u987a\u5e8f \uff09 \uff0c \u4f1a \u62a5\u9519   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u7f13\u5b58   AyakaCache"},{"location":"develop/cache/#ayakacache","text":"\u5982\u679c \u9700\u8981 \u4e34\u65f6 \u4fdd\u5b58 \u4e00\u4e9b \u6570\u636e \uff0c \u4ee5 \u4f9b\u5e94 \u7528 \u5728 \u4e0d\u540c \u65f6\u523b / \u51fd\u6570 \u4e2d \u4f7f\u7528 \uff0c \u90a3\u4e48 \u9700\u8981 \u4f7f\u7528 \u7f13\u5b58","title":"AyakaCache"},{"location":"develop/cache/#_1","text":"\u5c06 \u9700\u8981 \u7f13\u5b58 \u7684 \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaCache   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   name   :   str   =   \" \"   age   :   int   =   0   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \u548c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef","title":"\u5b9a\u4e49"},{"location":"develop/cache/#_2","text":"\u653e\u5165 \u56de\u8c03 \u7684 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \u5373\u53ef   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   print   (   cache   .   name   ,   cache   .   age   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 2   (   cache   :   Cache   ) :   cache   .   age   + =   1   @ app   .   on _ cmd   (   \" f3 \"   )   async   def   func _ 3   (   cache   :   Cache   ) :   cache   .   name   =   str   (   app   .   arg   )","title":"\u4f7f\u7528"},{"location":"develop/cache/#_3","text":"\u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   from   ayaka   import   AyakaCache   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Cache   (   AyakaCache   ) :   user   :   User   =   User   (   name   =   \" \u9ed8\u8ba4 \"   ,   age   =   0   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   print   (   cache   .   user   .   name   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   (   cache   :   Cache   ) :   cache   .   user   .   name   =   \" \u6539\u540d \u4e86 \"   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u9ed8\u8ba4   <   <   <   \" user \"   \u8bf4 \uff1a # f2   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u6539\u540d \u4e86","title":"\u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957"},{"location":"develop/cache/#_4","text":"app   .   cache   .   name   =   \" a \"   print   (   app   .   cache   .   name   )   #   a   \u7f3a\u4e4f \u7c7b\u578b \u63d0\u793a   \u82e5 \u8bfb\u53d6 \u64cd\u4f5c \u5728 \u5199\u5165 \u64cd\u4f5c \u4e4b\u524d \uff08 \u6267\u884c \u524d\u540e \u987a\u5e8f \uff0c \u4e0d\u662f \u4ee3\u7801 \u987a\u5e8f \uff09 \uff0c \u4f1a \u62a5\u9519","title":"\u5176\u4ed6 \u7528\u6cd5 \uff08 \u4e0d \u63a8\u8350 \uff09"},{"location":"develop/cache/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/config/","text":"AyakaConfig   \u00b6   \u6240\u6709 ayaka \u884d\u751f \u63d2\u4ef6 \u5747 \u53ef \u7533\u8bf7 \u8bfb\u5199   data / ayaka / ayaka _ setting . json   \u4e2d \u7684 \u914d\u7f6e   \u5b9a\u4e49   \u00b6   \u5c06 \u914d\u7f6e \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaConfig   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   \u6ce8\u610f \uff0c \u7ee7\u627f \u65f6 \u5fc5\u987b \u7f16\u5199 __ app _ name __ \u5c5e\u6027 \u7684 \u503c   from   ayaka   import   AyakaConfig   from   typing   import   List   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   \" \u4e00\u4e2a \u540d\u5b57 \"   name   :   str   =   \" \"   age   :   int   =   0   numbers   :   List   [   int   ]   =   [   1   ,   2   ]   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \u548c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u5982\u679c \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e0d \u5b58\u5728 \uff0c \u6216 \u5b58\u5728 \u4f46 \u5e76 \u6ca1\u6709 \u8be5 \u63d2\u4ef6 \u7684 \u914d\u7f6e \u6570\u636e \uff0c \u90a3\u4e48 \u6b64\u65f6 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u4fbf\u4f1a \u5199\u5165 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e2d \uff0c \u56e0\u6b64 \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u8bfb\u53d6   \u00b6   \u76f4\u63a5 \u5b9e\u4f8b \u5316 \u5373\u53ef   #   \u52a0\u8f7d \u914d\u7f6e   config   =   Config   ( )   #   \u4f7f\u7528 \u914d\u7f6e   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   print   (   config   .   name   ,   config   .   age   ,   config   .   numbers   )   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   data / ayaka / ayaka _ setting . json   {   \" \u4e00\u4e2a \u540d\u5b57 \"   :   {   \" name \"   :   \" \"   ,   \" age \"   :   0   ,   \" numbers \"   :   [   1   ,   2   ]   } ,   ...   }   \u4fee\u6539   \u00b6   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   config   .   name   =   \" \u6d4b\u8bd5 1 \"   config   .   save   ( )   \u81ea\u52a8 \u4fdd\u5b58   \u00b6   \u5982\u679c \u662f \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61 \uff0c \u90a3\u4e48   ayaka   \u4f1a \u81ea\u52a8 \u5c06 \u65b0 \u914d\u7f6e \u5199\u5165 \u6587\u4ef6 \uff0c \u53ef \u7701\u7565   AyakaConfig ( ) . save ( )   \u5982\u679c \u662f \u4fee\u6539 \u6570\u7ec4 \u3001 \u5b57\u5178 \u7b49   \u53ef\u53d8 \u5bf9\u8c61   \u7684 \u503c \uff0c \u5219 \u9700\u8981 \u8c03\u7528   AyakaConfig ( ) . save ( )   \u65b9\u6cd5 \u6765 \u63d0\u9192   ayaka   \u5c06 \u6570\u636e \u5199\u5165 \u6587\u4ef6   #   \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   config   .   name   =   \" \u6d4b\u8bd5 1 \"   #   \u4fee\u6539 \u53ef\u53d8 \u5bf9\u8c61   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 2   ( ) :   config   .   numbers   .   append   (   -   1   )   config   .   save   ( )   \u6ce8\u610f \uff0c \u5373\u4f7f \u8c03\u7528 \u4e86   AyakaConfig ( ) . save ( )   \u65b9\u6cd5 \uff0c \u4e5f \u4e0d \u610f\u5473 \u610f\u5473\u7740 \u6570\u636e \u9a6c\u4e0a \u66f4\u65b0 \u5230 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e2d \uff0c   ayaka   \u53ef\u80fd \u4f1a \u7b49\u5f85 0 ~ 60s \u540e \u624d \u6267\u884c \u5199\u5165 \u64cd\u4f5c   \u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957   \u00b6   \u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   from   ayaka   import   AyakaConfig   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   user   :   User   =   User   (   name   =   \" \u9ed8\u8ba4 \"   ,   age   =   0   )   id   :   int   =   1000   config   =   Config   ( )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   print   (   config   .   user   .   name   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   ( ) :   config   .   user   .   name   =   \" \u6539\u540d \u4e86 \"   #   \u9700\u8981 \u8c03\u7528 save   config   .   save   ( )   @ app   .   on _ cmd   (   \" f3 \"   )   async   def   func _ 1   ( ) :   config   .   id   =   123   #   \u4e0d \u9700\u8981 \u8c03\u7528 save   #   config . save ( )   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   \" test \"   :   {   \" user \"   :   {   \" name \"   :   \" \u9ed8\u8ba4 \"   ,   \" age \"   :   0   } ,   \" id \"   :   1000   }   \u8fdb\u9636 \uff1a AyakaLargeConfig   \u00b6   \u5f53 \u914d\u7f6e \u578b \u8f83 \u591a \u65f6 \uff0c \u5efa\u8bae \u4f7f\u7528   AyakaLargeConfig   \uff0c \u5b83 \u8bfb\u5199 \u7684 \u662f \u72ec\u7acb \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c   data / ayaka / separate / < __ app _ name __ > . json   \u4f7f\u7528 \u65b9\u6cd5 \u4e0e   AyakaConfig   \u4e00\u81f4 \uff0c \u4ec5 \u5b58\u50a8 \u4f4d\u7f6e \u4e0d\u540c \u800c\u5df2   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u914d\u7f6e   AyakaConfig"},{"location":"develop/config/#ayakaconfig","text":"\u6240\u6709 ayaka \u884d\u751f \u63d2\u4ef6 \u5747 \u53ef \u7533\u8bf7 \u8bfb\u5199   data / ayaka / ayaka _ setting . json   \u4e2d \u7684 \u914d\u7f6e","title":"AyakaConfig"},{"location":"develop/config/#_1","text":"\u5c06 \u914d\u7f6e \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaConfig   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   \u6ce8\u610f \uff0c \u7ee7\u627f \u65f6 \u5fc5\u987b \u7f16\u5199 __ app _ name __ \u5c5e\u6027 \u7684 \u503c   from   ayaka   import   AyakaConfig   from   typing   import   List   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   \" \u4e00\u4e2a \u540d\u5b57 \"   name   :   str   =   \" \"   age   :   int   =   0   numbers   :   List   [   int   ]   =   [   1   ,   2   ]   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \u548c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u5982\u679c \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e0d \u5b58\u5728 \uff0c \u6216 \u5b58\u5728 \u4f46 \u5e76 \u6ca1\u6709 \u8be5 \u63d2\u4ef6 \u7684 \u914d\u7f6e \u6570\u636e \uff0c \u90a3\u4e48 \u6b64\u65f6 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u4fbf\u4f1a \u5199\u5165 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e2d \uff0c \u56e0\u6b64 \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c","title":"\u5b9a\u4e49"},{"location":"develop/config/#_2","text":"\u76f4\u63a5 \u5b9e\u4f8b \u5316 \u5373\u53ef   #   \u52a0\u8f7d \u914d\u7f6e   config   =   Config   ( )   #   \u4f7f\u7528 \u914d\u7f6e   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   print   (   config   .   name   ,   config   .   age   ,   config   .   numbers   )   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   data / ayaka / ayaka _ setting . json   {   \" \u4e00\u4e2a \u540d\u5b57 \"   :   {   \" name \"   :   \" \"   ,   \" age \"   :   0   ,   \" numbers \"   :   [   1   ,   2   ]   } ,   ...   }","title":"\u8bfb\u53d6"},{"location":"develop/config/#_3","text":"@ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   config   .   name   =   \" \u6d4b\u8bd5 1 \"   config   .   save   ( )","title":"\u4fee\u6539"},{"location":"develop/config/#_4","text":"\u5982\u679c \u662f \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61 \uff0c \u90a3\u4e48   ayaka   \u4f1a \u81ea\u52a8 \u5c06 \u65b0 \u914d\u7f6e \u5199\u5165 \u6587\u4ef6 \uff0c \u53ef \u7701\u7565   AyakaConfig ( ) . save ( )   \u5982\u679c \u662f \u4fee\u6539 \u6570\u7ec4 \u3001 \u5b57\u5178 \u7b49   \u53ef\u53d8 \u5bf9\u8c61   \u7684 \u503c \uff0c \u5219 \u9700\u8981 \u8c03\u7528   AyakaConfig ( ) . save ( )   \u65b9\u6cd5 \u6765 \u63d0\u9192   ayaka   \u5c06 \u6570\u636e \u5199\u5165 \u6587\u4ef6   #   \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   config   .   name   =   \" \u6d4b\u8bd5 1 \"   #   \u4fee\u6539 \u53ef\u53d8 \u5bf9\u8c61   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 2   ( ) :   config   .   numbers   .   append   (   -   1   )   config   .   save   ( )   \u6ce8\u610f \uff0c \u5373\u4f7f \u8c03\u7528 \u4e86   AyakaConfig ( ) . save ( )   \u65b9\u6cd5 \uff0c \u4e5f \u4e0d \u610f\u5473 \u610f\u5473\u7740 \u6570\u636e \u9a6c\u4e0a \u66f4\u65b0 \u5230 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u4e2d \uff0c   ayaka   \u53ef\u80fd \u4f1a \u7b49\u5f85 0 ~ 60s \u540e \u624d \u6267\u884c \u5199\u5165 \u64cd\u4f5c","title":"\u81ea\u52a8 \u4fdd\u5b58"},{"location":"develop/config/#_5","text":"\u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   from   ayaka   import   AyakaConfig   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   user   :   User   =   User   (   name   =   \" \u9ed8\u8ba4 \"   ,   age   =   0   )   id   :   int   =   1000   config   =   Config   ( )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   print   (   config   .   user   .   name   )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   ( ) :   config   .   user   .   name   =   \" \u6539\u540d \u4e86 \"   #   \u9700\u8981 \u8c03\u7528 save   config   .   save   ( )   @ app   .   on _ cmd   (   \" f3 \"   )   async   def   func _ 1   ( ) :   config   .   id   =   123   #   \u4e0d \u9700\u8981 \u8c03\u7528 save   #   config . save ( )   \u5bf9\u5e94 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6   \" test \"   :   {   \" user \"   :   {   \" name \"   :   \" \u9ed8\u8ba4 \"   ,   \" age \"   :   0   } ,   \" id \"   :   1000   }","title":"\u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957"},{"location":"develop/config/#ayakalargeconfig","text":"\u5f53 \u914d\u7f6e \u578b \u8f83 \u591a \u65f6 \uff0c \u5efa\u8bae \u4f7f\u7528   AyakaLargeConfig   \uff0c \u5b83 \u8bfb\u5199 \u7684 \u662f \u72ec\u7acb \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff0c   data / ayaka / separate / < __ app _ name __ > . json   \u4f7f\u7528 \u65b9\u6cd5 \u4e0e   AyakaConfig   \u4e00\u81f4 \uff0c \u4ec5 \u5b58\u50a8 \u4f4d\u7f6e \u4e0d\u540c \u800c\u5df2","title":"\u8fdb\u9636 \uff1a AyakaLargeConfig"},{"location":"develop/config/#_6","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/db/","text":"AyakaDB   \u00b6   \u5982\u679c \u9700\u8981 \u6301\u4e45 \u4fdd\u5b58 \u4e00\u4e9b \u6570\u636e \uff0c \u4ee5 \u4f9b\u5e94 \u7528 \u5728 bot \u91cd\u542f \u540e \u4ecd \u53ef \u4f7f\u7528 \uff0c \u90a3\u4e48 \u9700\u8981 \u4f7f\u7528 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   \u57fa\u672c \u4f7f\u7528   \u00b6   \u5c06 \u9700\u8981 \u4fdd\u5b58 \u7684 \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaDB   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   from   pydantic   import   Field   from   ayaka   import   AyakaApp   ,   AyakaDB   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaDB   ) :   __ table _ name __   =   \" test \"   id   :   int   =   Field   (   extra   =   AyakaDB   .   __ primary _ key __   )   name   :   str   age   :   int   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   _   ( ) :   #   \u521b\u5efa \u6570\u636e   data   =   Data   (   id   =   1   ,   name   =   \" \u6d4b\u8bd5 \"   ,   age   =   12   )   #   \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   .   save   ( )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   _   ( ) :   #   \u8bfb\u53d6 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   =   Data   .   select _ one   (   id   =   1   )   print   (   data   )   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 __ table _ name __   ayaka   \u4f1a \u5728 \u4f60 \u8c03\u7528   AyakaDB   \u7684 \u4efb\u610f \u65b9\u6cd5 \u65f6 \uff0c \u81ea\u52a8 \u521b\u5efa \u5bf9\u5e94 \u7684 \u8868 \uff0c \u5f53\u7136 \u4f60 \u4e5f \u53ef\u4ee5 \u624b\u52a8 \u8c03\u7528   AyakaDB ( ) . create _ table ( )   AyakaDB   \u7684 \u6240\u6709 \u65b9\u6cd5 \u8be6\u89c1   \u8fd9\u91cc   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \uff0c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u53ef\u4ee5 \u4e0d\u5199   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u6b63\u786e   name   \u9519\u8bef   \u5bf9\u5e94 \u7684 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data / ayaka / ayaka . db   \u6ce8\u610f \uff0c \u6267\u884c   AyakaDB ( ) . save ( )   \u540e \uff0c \u6570\u636e \u4e0d\u4f1a \u9a6c\u4e0a \u66f4\u65b0 \uff0c   ayaka   \u53ef\u80fd \u4f1a \u7b49\u5f85 0 ~ 60s \u540e \u624d \u6267\u884c \u5199\u5165 \u64cd\u4f5c   \u5904\u4e8e \u7075\u6d3b \u6d3b\u6027 \u7075\u6d3b\u6027 \u8003\u8651 \uff0c \u521d\u59cb \u521d\u59cb\u5316   AyakaDB   \u5bf9\u8c61 \u65f6 \u5e76 \u4e0d\u4f1a \u81ea\u52a8 \u5c06 \u8be5 \u5bf9\u8c61 \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \uff0c \u800c \u9700\u8981 \u624b\u52a8 \u6267\u884c   AyakaDB ( ) . save ( )   \u65b9\u6cd5   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" id \"   integer ,   \" name \"   text ,   \" age \"   integer ,   PRIMARY   KEY ( \" id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   id   name   age   123   \u6d4b\u8bd5   12   <   <   <   \" user \"   \u8bf4 \uff1a # f2   pydantic . error _ wrappers . ValidationError :   2   validation   errors   for   Data   name   field   required   ( type = value _ error . missing )   age   field   required   ( type = value _ error . missing )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   <   <   <   \" user \"   \u8bf4 \uff1a # f2   id = 1   name = ' \u6d4b\u8bd5 '   age = 12   \u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957   \u00b6   \u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   \u4f46\u662f \u9700\u8981 \u901a\u8fc7 Field . extra \u5c5e\u6027 \u58f0\u660e \u5176\u4e3a   __ json _ key __   from   pydantic   import   BaseModel   ,   Field   from   ayaka   import   AyakaDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Data   (   AyakaDB   ) :   __ table _ name __   =   app   .   name   user   :   User   =   Field   (   extra   =   AyakaDB   .   __ json _ key __   )   id   :   int   =   Field   (   extra   =   AyakaDB   .   __ primary _ key __   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   data   =   Data   (   user   =   {   \" name \"   :   \" \u6d4b\u8bd5 \u4e00\u53f7 \"   ,   \" age \"   :   2222   } ,   id   =   123   )   #   \u4fdd\u5b58 \u5230 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   .   save   ( )   @   app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   ( ) :   data   =   Data   .   select _ one   (   id   =   123   )   print   (   data   )   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" user \"   text ,   \" id \"   integer ,   PRIMARY   KEY ( \" id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   user   id   { \" name \" :   \" \u6d4b\u8bd5 \u4e00\u53f7 \" ,   \" age \" :   2222 }   123   <   <   <   \" user \"   \u8bf4 \uff1a # f1   <   <   <   \" user \"   \u8bf4 \uff1a # f2   user = User ( name = ' \u6d4b\u8bd5 \u4e00\u53f7 ' ,   age = 2222 )   id = 123   <   <   <   \" sys \"   \u8bf4 \uff1a \u91cd\u542f bot \u540e   <   <   <   \" user \"   \u8bf4 \uff1a # f2   user = User ( name = ' \u6d4b\u8bd5 \u4e00\u53f7 ' ,   age = 2222 )   id = 123   \u8fdb\u9636 \uff1a AyakaGroupDB   \u00b6   \u5df2\u7ecf \u63d0\u524d \u9884\u8bbe \u4e3b\u952e \u4e3a   app . group _ id   \uff0c \u4e14 \u4e0d\u53ef \u66f4\u6539   \u4f18\u70b9 \u662f \uff0c \u53ef\u4ee5 \u653e\u5165 \u56de\u8c03 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \uff0c \u76f4\u63a5 \u4f7f\u7528   from   ayaka   import   AyakaGroupDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaGroupDB   ) :   __ table _ name __   =   app   .   name   name   :   str   =   \" \u9ed8\u8ba4 \u540d \"   age   :   int   =   12   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   data   :   Data   ) :   data   .   name   =   \" \u65b0 \u540d\u5b57 \"   \u6ce8\u610f \uff0c \u4e0e AyakaDB \u4e0d\u540c \uff0c AyakaGroupDB \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" group _ id \"   integer ,   \" name \"   string ,   \" age \"   integer ,   PRIMARY   KEY ( \" group _ id \" )   ) ;   \u4e0e AyakaConfig \u7684   \u81ea\u52a8 \u4fdd\u5b58   \u673a\u5236 \u4e00\u6837 \uff0c \u5f53 \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61 \u65f6 \uff0c \u4f1a \u81ea\u52a8 \u6267\u884c   AyakaDB ( ) . save ( )   \u65b9\u6cd5   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   group _ id   name   age   100   \u65b0 \u540d\u5b57   12   \u8fdb\u9636 \uff1a AyakaUserDB   \u00b6   \u5df2\u7ecf \u63d0\u524d \u9884\u8bbe \u4e3b\u952e \u4e3a   app . group _ id   \u548c   app . user _ id   \uff0c \u4e14 \u4e0d\u53ef \u66f4\u6539   \u4f18\u70b9 \u662f \uff0c \u53ef\u4ee5 \u653e\u5165 \u56de\u8c03 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \uff0c \u76f4\u63a5 \u4f7f\u7528   from   ayaka   import   AyakaUserDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   app   .   name   name   :   str   =   \" \u9ed8\u8ba4 \u540d \"   age   :   int   =   12   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   data   :   Data   ) :   data   .   name   =   \" \u65b0 \u540d\u5b57 \"   \u6ce8\u610f \uff0c \u4e0e AyakaDB \u4e0d\u540c \uff0c AyakaUserDB \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" group _ id \"   integer ,   \" user _ id \"   integer ,   \" name \"   string ,   \" age \"   integer ,   PRIMARY   KEY ( \" group _ id \" , \" user _ id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   group _ id   user _ id   name   age   100   1   \u65b0 \u540d\u5b57   12   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6570\u636e\u5e93   AyakaDB"},{"location":"develop/db/#ayakadb","text":"\u5982\u679c \u9700\u8981 \u6301\u4e45 \u4fdd\u5b58 \u4e00\u4e9b \u6570\u636e \uff0c \u4ee5 \u4f9b\u5e94 \u7528 \u5728 bot \u91cd\u542f \u540e \u4ecd \u53ef \u4f7f\u7528 \uff0c \u90a3\u4e48 \u9700\u8981 \u4f7f\u7528 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93","title":"AyakaDB"},{"location":"develop/db/#_1","text":"\u5c06 \u9700\u8981 \u4fdd\u5b58 \u7684 \u6570\u636e \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaDB   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   from   pydantic   import   Field   from   ayaka   import   AyakaApp   ,   AyakaDB   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaDB   ) :   __ table _ name __   =   \" test \"   id   :   int   =   Field   (   extra   =   AyakaDB   .   __ primary _ key __   )   name   :   str   age   :   int   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   _   ( ) :   #   \u521b\u5efa \u6570\u636e   data   =   Data   (   id   =   1   ,   name   =   \" \u6d4b\u8bd5 \"   ,   age   =   12   )   #   \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   .   save   ( )   @ app   .   on _ cmd   (   \" f2 \"   )   async   def   _   ( ) :   #   \u8bfb\u53d6 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   =   Data   .   select _ one   (   id   =   1   )   print   (   data   )   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 __ table _ name __   ayaka   \u4f1a \u5728 \u4f60 \u8c03\u7528   AyakaDB   \u7684 \u4efb\u610f \u65b9\u6cd5 \u65f6 \uff0c \u81ea\u52a8 \u521b\u5efa \u5bf9\u5e94 \u7684 \u8868 \uff0c \u5f53\u7136 \u4f60 \u4e5f \u53ef\u4ee5 \u624b\u52a8 \u8c03\u7528   AyakaDB ( ) . create _ table ( )   AyakaDB   \u7684 \u6240\u6709 \u65b9\u6cd5 \u8be6\u89c1   \u8fd9\u91cc   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \uff0c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u53ef\u4ee5 \u4e0d\u5199   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u6b63\u786e   name   \u9519\u8bef   \u5bf9\u5e94 \u7684 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data / ayaka / ayaka . db   \u6ce8\u610f \uff0c \u6267\u884c   AyakaDB ( ) . save ( )   \u540e \uff0c \u6570\u636e \u4e0d\u4f1a \u9a6c\u4e0a \u66f4\u65b0 \uff0c   ayaka   \u53ef\u80fd \u4f1a \u7b49\u5f85 0 ~ 60s \u540e \u624d \u6267\u884c \u5199\u5165 \u64cd\u4f5c   \u5904\u4e8e \u7075\u6d3b \u6d3b\u6027 \u7075\u6d3b\u6027 \u8003\u8651 \uff0c \u521d\u59cb \u521d\u59cb\u5316   AyakaDB   \u5bf9\u8c61 \u65f6 \u5e76 \u4e0d\u4f1a \u81ea\u52a8 \u5c06 \u8be5 \u5bf9\u8c61 \u5199\u5165 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \uff0c \u800c \u9700\u8981 \u624b\u52a8 \u6267\u884c   AyakaDB ( ) . save ( )   \u65b9\u6cd5   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" id \"   integer ,   \" name \"   text ,   \" age \"   integer ,   PRIMARY   KEY ( \" id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   id   name   age   123   \u6d4b\u8bd5   12   <   <   <   \" user \"   \u8bf4 \uff1a # f2   pydantic . error _ wrappers . ValidationError :   2   validation   errors   for   Data   name   field   required   ( type = value _ error . missing )   age   field   required   ( type = value _ error . missing )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   <   <   <   \" user \"   \u8bf4 \uff1a # f2   id = 1   name = ' \u6d4b\u8bd5 '   age = 12","title":"\u57fa\u672c \u4f7f\u7528"},{"location":"develop/db/#_2","text":"\u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   \u4f46\u662f \u9700\u8981 \u901a\u8fc7 Field . extra \u5c5e\u6027 \u58f0\u660e \u5176\u4e3a   __ json _ key __   from   pydantic   import   BaseModel   ,   Field   from   ayaka   import   AyakaDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   age   :   int   class   Data   (   AyakaDB   ) :   __ table _ name __   =   app   .   name   user   :   User   =   Field   (   extra   =   AyakaDB   .   __ json _ key __   )   id   :   int   =   Field   (   extra   =   AyakaDB   .   __ primary _ key __   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   ( ) :   data   =   Data   (   user   =   {   \" name \"   :   \" \u6d4b\u8bd5 \u4e00\u53f7 \"   ,   \" age \"   :   2222   } ,   id   =   123   )   #   \u4fdd\u5b58 \u5230 \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   data   .   save   ( )   @   app   .   on _ cmd   (   \" f2 \"   )   async   def   func _ 1   ( ) :   data   =   Data   .   select _ one   (   id   =   123   )   print   (   data   )   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" user \"   text ,   \" id \"   integer ,   PRIMARY   KEY ( \" id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   user   id   { \" name \" :   \" \u6d4b\u8bd5 \u4e00\u53f7 \" ,   \" age \" :   2222 }   123   <   <   <   \" user \"   \u8bf4 \uff1a # f1   <   <   <   \" user \"   \u8bf4 \uff1a # f2   user = User ( name = ' \u6d4b\u8bd5 \u4e00\u53f7 ' ,   age = 2222 )   id = 123   <   <   <   \" sys \"   \u8bf4 \uff1a \u91cd\u542f bot \u540e   <   <   <   \" user \"   \u8bf4 \uff1a # f2   user = User ( name = ' \u6d4b\u8bd5 \u4e00\u53f7 ' ,   age = 2222 )   id = 123","title":"\u8fdb\u9636 \uff1a \u53ef\u4ee5 \u5d4c\u5957"},{"location":"develop/db/#ayakagroupdb","text":"\u5df2\u7ecf \u63d0\u524d \u9884\u8bbe \u4e3b\u952e \u4e3a   app . group _ id   \uff0c \u4e14 \u4e0d\u53ef \u66f4\u6539   \u4f18\u70b9 \u662f \uff0c \u53ef\u4ee5 \u653e\u5165 \u56de\u8c03 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \uff0c \u76f4\u63a5 \u4f7f\u7528   from   ayaka   import   AyakaGroupDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaGroupDB   ) :   __ table _ name __   =   app   .   name   name   :   str   =   \" \u9ed8\u8ba4 \u540d \"   age   :   int   =   12   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   data   :   Data   ) :   data   .   name   =   \" \u65b0 \u540d\u5b57 \"   \u6ce8\u610f \uff0c \u4e0e AyakaDB \u4e0d\u540c \uff0c AyakaGroupDB \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" group _ id \"   integer ,   \" name \"   string ,   \" age \"   integer ,   PRIMARY   KEY ( \" group _ id \" )   ) ;   \u4e0e AyakaConfig \u7684   \u81ea\u52a8 \u4fdd\u5b58   \u673a\u5236 \u4e00\u6837 \uff0c \u5f53 \u4fee\u6539 \u4e0d\u53ef \u53d8 \u5bf9\u8c61 \u65f6 \uff0c \u4f1a \u81ea\u52a8 \u6267\u884c   AyakaDB ( ) . save ( )   \u65b9\u6cd5   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   group _ id   name   age   100   \u65b0 \u540d\u5b57   12","title":"\u8fdb\u9636 \uff1a AyakaGroupDB"},{"location":"develop/db/#ayakauserdb","text":"\u5df2\u7ecf \u63d0\u524d \u9884\u8bbe \u4e3b\u952e \u4e3a   app . group _ id   \u548c   app . user _ id   \uff0c \u4e14 \u4e0d\u53ef \u66f4\u6539   \u4f18\u70b9 \u662f \uff0c \u53ef\u4ee5 \u653e\u5165 \u56de\u8c03 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \uff0c \u76f4\u63a5 \u4f7f\u7528   from   ayaka   import   AyakaUserDB   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   app   .   name   name   :   str   =   \" \u9ed8\u8ba4 \u540d \"   age   :   int   =   12   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   data   :   Data   ) :   data   .   name   =   \" \u65b0 \u540d\u5b57 \"   \u6ce8\u610f \uff0c \u4e0e AyakaDB \u4e0d\u540c \uff0c AyakaUserDB \u4e00\u5b9a \u8981 \u7f16\u5199 \u9ed8\u8ba4 \u9ed8\u8ba4\u503c   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u9519\u8bef   name   \u9519\u8bef   \u8868 \u4fe1\u606f   CREATE   TABLE   \" test \"   (   \" group _ id \"   integer ,   \" user _ id \"   integer ,   \" name \"   string ,   \" age \"   integer ,   PRIMARY   KEY ( \" group _ id \" , \" user _ id \" )   ) ;   \u7528\u6237 \u6267\u884c   # f1   \u540e \u7684 \u8868 \u6570\u636e   group _ id   user _ id   name   age   100   1   \u65b0 \u540d\u5b57   12","title":"\u8fdb\u9636 \uff1a AyakaUserDB"},{"location":"develop/db/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/how-does-it-work/","text":"Ayaka \u662f \u5982\u4f55 \u5de5\u4f5c \u7684 \uff1f   \u00b6   \u53ef\u80fd \u4e00\u4e9b \u6982\u5ff5 \u6682\u65f6 \u65e0\u6cd5 \u5b8c\u5168 \u7406\u89e3 \uff0c \u8bf7 \u5411\u540e\u770b \uff0c \u56e0\u4e3a \u4e00\u4e9b \u6982\u5ff5 \u9700\u8981 \u5728 \u4e0d\u540c \u7684 \u5730\u65b9 \u591a\u6b21 \u9610\u8ff0 \u624d\u80fd \u8bb2\u89e3 \u6e05\u695a   \u63d2\u4ef6 \u3001 \u7fa4\u7ec4 \u3001 \u6d88\u606f   \u00b6   \u5728   ayaka   \u7684 \u4e16\u754c \u4e2d \uff0c \u63d2\u4ef6 \u3001 \u7fa4\u7ec4 \u3001 \u6d88\u606f \u7684 \u5173\u7cfb \u5982\u4e0b   AyakaGroup   \u00b6   \u5f53   ayaka   \u6536\u5230 \u4e00\u4e2a \u65b0 \u7684 \u7fa4\u7ec4 \u7684 \u6d88\u606f \u65f6 \uff0c \u5c31 \u4f1a \u81ea\u52a8 \u65b0\u5efa \u4e00\u4e2a   AyakaGroup   \u5bf9\u8c61 \uff08 \u540e \u7b80\u79f0 \u4e3a   group   \uff09 \uff0c \u8be5 \u5bf9\u8c61 \u5185\u90e8 \u4fdd\u5b58 \u6709 \u4e00\u4e2a \u72b6\u6001 \u6307\u9488 \u548c \u4e00\u4e2a \u5b57\u5178 \uff08 \u7528\u6765 \u4fdd\u5b58 \u8be5 \u7fa4\u7ec4 \u5185 \u7684 \u4e34\u65f6 \u6570\u636e \uff0c bot \u91cd\u542f \u540e \u4e22\u5931 \uff09   AyakaApp \u3001 AyakaState \u548c \u552f\u4e00 \u72b6\u6001 \u6811   \u00b6   \u6bcf\u4e2a   ayaka \u884d\u751f \u63d2\u4ef6   \u91cc \u90fd \u6709 \u4e00\u4e2a \u6216 \u82e5\u5e72 \u82e5\u5e72\u4e2a   AyakaApp   \u5bf9\u8c61 \uff08 \u540e \u7b80\u79f0 \u4e3a   app   \uff09 \u3002 \u5728 \u63d2\u4ef6 \u4ee3\u7801 \u52a0\u8f7d \u9636\u6bb5 \uff0c \u751f\u6210 \u8fd9\u4e9b   app   \u7684 \u65f6\u5019 \uff0c   ayaka   \u4f1a \u6839\u636e \u5b83\u4eec \u8eab\u4e0a \u6ce8\u518c \u7684 \u56de\u8c03 \u51fd\u6570 \u7684 \u60c5\u51b5 \uff0c \u751f\u6210 \u552f\u4e00 \u4e00\u68f5 \u72b6\u6001 \u6811 \uff0c \u6240\u6709 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u90fd \u4f4d\u4e8e \u8fd9\u68f5 \u72b6\u6001 \u6811\u4e0a   \u800c   group   \u5185\u90e8 \u7684   \u72b6\u6001 \u6307\u9488   \u5219 \u6307\u5411 \u8be5 \u6811\u4e0a \u7684 \u67d0\u4e2a \u7ed3\u70b9 \uff0c \u8868\u793a \u8be5 \u7fa4\u7ec4 \u5f53\u524d \u6240\u5904 \u7684 \u72b6\u6001 \u3002 \u9ed8\u8ba4 \u6307\u5411   root   \u72b6\u6001 \uff08 \u53c8 \u53eb \u95f2\u7f6e \u72b6\u6001 \uff09   \u72b6\u6001 \u8f6c\u79fb   \u00b6   \u72b6\u6001 \u53ef\u4ee5 \u901a\u8fc7 \u8c03\u7528   app . goto ( )   \u6216   app . set _ state ( )   \u65b9\u6cd5 \u8fdb\u884c \u8f6c\u79fb \uff0c \u72b6\u6001 \u8f6c\u79fb \u65f6 \uff0c \u5982\u679c \u5b58\u5728 \u76f8\u5e94 \u7684   \u8fdb\u5165 \u56de\u8c03   \u548c   \u9000\u51fa \u56de\u8c03   \uff0c \u8fd8\u4f1a \u987a\u6b21 \u6267\u884c \u5b83\u4eec   \u4ece   root   \u72b6\u6001 \uff0c \u53d8\u66f4 \u4e3a   root . \u63d2\u4ef6 2   \u72b6\u6001 \uff0c \u518d \u53d8\u56de   root   \u72b6\u6001 \uff08 \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u6253\u5f00 \u4e86 \u63d2\u4ef6 2 \u540e \u53c8 \u5173\u95ed \u63d2\u4ef6 2 \uff09   \u4ece   root . \u63d2\u4ef6 2 . \u6e38\u620f \u4e2d . \u51fa\u724c   \u72b6\u6001 \uff0c \u53d8\u66f4 \u4e3a   root . \u63d2\u4ef6 1 . \u7761\u7720   \u72b6\u6001 \uff1a   \u4ece   root   \u72b6\u6001 \u8f6c\u79fb \u5230   root . \u63d2\u4ef6 2   \u72b6\u6001 \uff0c \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u7fa4\u7ec4 \u5f00\u542f \u4e86 \u63d2\u4ef6 2 \uff0c \u4ece \u95f2\u7f6e \u72b6\u6001 \uff08 \u6ca1\u6709 \u4efb\u4f55 \u63d2\u4ef6 \u5728 \u8fd0\u884c \uff09 \u8f6c\u79fb \u5230 \u8fd0\u884c \u63d2\u4ef6 2 \u7684 \u72b6\u6001   \u4ece   root . \u63d2\u4ef6 2   \u72b6\u6001 \u8f6c\u79fb \u5230   root   \u72b6\u6001 \uff0c \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u7fa4\u7ec4 \u5173\u95ed \u4e86 \u63d2\u4ef6 2 \uff0c \u6062\u590d \u5230 \u95f2\u7f6e \u72b6\u6001   \u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03 \u3001 \u4e0a\u6eaf \u67e5\u627e \u548c \u963b\u65ad   \u00b6   \u6bcf\u4e2a \u72b6\u6001 \u4e0b \u90fd \u53ef\u4ee5 \u6ce8\u518c   \u547d\u4ee4 \u56de\u8c03   \uff08 \u5bf9 \u5177\u6709   \u547d\u4ee4 \u62ac\u5934   \uff08 \u4f8b\u5982   #   \uff09 \u7684 \u6d88\u606f \u8fdb\u884c \u54cd\u5e94 \uff09 \u548c   \u666e\u901a \u6d88\u606f \u56de\u8c03   \u5bf9\u5e94 \u7684 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u5728 \u95f2\u7f6e \u72b6\u6001 \u4e0b \u8fdb\u884c \u6ce8\u518c   @ app . on _ idle ( )   \u5728 \u6307\u5b9a \u72b6\u6001 \u4e0b \u8fdb\u884c \u6ce8\u518c   @ app . on _ state ( )   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03   @ app . on _ cmd ( )   \u6ce8\u518c \u6d88\u606f \u56de\u8c03   @ app . on _ text ( )   \u5728 \u6d88\u606f \u4ece   ayaka   \u6765\u5230   group   \u540e \uff0c   ayaka   \u4f1a \u6839\u636e   group   \u5f53\u524d \u72b6\u6001 \u6307\u9488 \u6240\u6307 \u7684 \u72b6\u6001 \uff0c \u8fdb\u884c   \u4e0a\u6eaf \u67e5\u627e   \uff0c \u67e5\u627e \u6ee1\u8db3 \u89e6\u53d1 \u6761\u4ef6 \u7684 \u56de\u8c03 \u6765 \u5904\u7406 \u6d88\u606f   \u5047\u5982 \u5f53\u524d \u72b6\u6001 \u662f   root . \u63d2\u4ef6 2   \uff0c \u4f46\u662f \u5728 \u8be5 \u72b6\u6001 \u4e2d \u5e76 \u6ca1\u6709 \u627e\u5230 \u7b26\u5408 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff08 \u4f8b\u5982 \uff1a \u6d88\u606f \u662f   # \u7761\u89c9   \uff0c \u4f46\u662f   root . \u63d2\u4ef6 2   \u5e76 \u6ca1\u6709 \u547d\u4ee4 \u4e3a \u7761\u89c9 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff09 \uff0c \u5219 \u7ee7\u7eed \u67e5\u627e \u7236 \u72b6\u6001 \uff0c \u53ef \u4e00\u8def \u4e0a\u6eaf \u81f3   root   \u7ed3\u70b9   \u82e5\u5747 \u6ca1\u6709 \u7b26\u5408 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff0c \u5219 \u8be5 \u6d88\u606f \uff08 \u5373\u4f7f \u6709 \u547d\u4ee4 \u62ac\u5934 \uff09 \u9000\u5316 \u6210 \u666e\u901a \u6d88\u606f \u6765 \u5904\u7406 \uff0c \u5e76\u4e14 \u5904\u7406 \u65b9\u5f0f \u540c\u6837 \u662f \u4e00\u8def \u4e0a\u6eaf \u81f3   root   \u7ed3\u70b9   \u6ce8\u610f \uff0c \u5bf9\u4e8e \u72b6\u6001 \u7ed3\u70b9 \u800c\u8a00 \uff0c \u5176 \u547d\u4ee4 \u56de\u8c03 \u548c \u6d88\u606f \u56de\u8c03 \u53ef\u80fd \u6709 0 \u4e2a \uff0c 1 \u4e2a \u6216 \u82e5\u5e72 \u82e5\u5e72\u4e2a   \u82e5\u4e3a 0 \u4e2a \uff0c \u5219 \u8bf4\u660e \u4e0d \u7b26\u5408 \uff0c \u9700\u8981 \u7ee7\u7eed \u4e0a\u6eaf \u67e5\u627e \uff0c \u76f4\u5230   root   \u7ed3\u70b9   \u5728 \u6ce8\u518c \u56de\u8c03 \u7684 \u65f6\u5019 \u540c\u65f6 \u53ef\u4ee5 \u6307\u5b9a \u662f\u5426 \u963b\u65ad \uff0c \u6ce8\u518c \u56de\u8c03 \u65f6\u5747 \u9ed8\u8ba4 \u963b\u65ad   \u5bf9\u5e94 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u4e0d \u963b\u65ad   @ app . on _ no _ block ( )   \u963b\u65ad   \u65e0\u9700 \u88c5\u9970 \u5668 \uff0c \u9ed8\u8ba4 \u4e3a \u963b\u65ad   \u82e5\u6709 \u7b26\u5408 \u7684 \u56de\u8c03 \uff0c \u4f46\u662f \u5176 \u8bbe\u7f6e \u4e3a \u4e0d \u963b\u65ad \uff0c \u90a3\u4e48 \u5728 \u6267\u884c \u4e86 \u8be5 \u56de\u8c03 \u540e \uff0c   ayaka   \u4f1a \u7ee7\u7eed \u4e0a\u8ff0 \u7684 \u67e5\u627e \u6d41\u7a0b \uff0c \u76f4\u5230 \u7ed3\u675f   deep   \u00b6   \u4f46\u662f \u4e0a \u8282 \u6240\u8bf4 \u7684   \u4e0a\u6eaf \u67e5\u627e   \u88ab \u65bd\u52a0 \u4e86 \u4e00\u5b9a \u7684 \u9650\u5236   \u5927\u90e8 \u90e8\u5206 \u5927\u90e8\u5206 \u60c5\u51b5 \u4e0b \uff0c \u6211\u4eec \u4e0d\u4f1a \u671f\u671b \u7236 \u72b6\u6001 \u7ed3\u70b9 \u7684 \u56de\u8c03 \u4f1a \u5728 \u7fa4\u7ec4 \u5904\u4e8e \u5b50 \u72b6\u6001 \u65f6 \u88ab \u89e6\u53d1 \uff0c \u5b83\u4eec \u5c31 \u50cf\u662f \u5e7d\u7075 \u4e00\u6837 \uff0c \u4ee4\u4eba \u56f0\u60d1 \u4ee4\u4eba\u56f0\u60d1   \u56e0\u6b64 \uff0c \u8fd9\u4e9b \u56de\u8c03 \u5728 \u6ce8\u518c \u65f6 \uff0c \u9ed8\u8ba4 \u5176 \u53ef \u5411\u4e0b \u5f71\u54cd \u7684 \u6df1\u5ea6 \u4e3a 0 \uff0c \u4e5f \u5c31 \u8bf4 \uff0c \u5b83 \u5bf9 \u4e0b \u4e00\u5c42 \u72b6\u6001 \uff08 \u4ee5\u53ca \u66f4\u6df1 \u7684 \u72b6\u6001 \uff09 \u6765\u8bf4 \u662f \u4e0d \u53ef\u89c1 \u7684 \uff0c \u56e0\u800c \u4e0a\u6eaf \u67e5\u627e \u65f6 \u4e5f \u4e0d\u4f1a \u627e\u5230 \u5b83   \u5982\u679c \u8bbe\u7f6e \u4e3a 1 \uff0c \u5219 \u5176 \u5bf9 \u76f4\u7cfb \u5b50 \u7ed3\u70b9 \u53ef\u89c1 \uff0c \u5bf9\u5b59 \u7ed3\u70b9 \u4e0d \u53ef\u89c1   \u5982\u679c \u8bbe\u7f6e \u4e3a all \uff0c \u5219 \u5176 \u5bf9 \u6240\u6709 \u540e\u4ee3 \u7ed3\u70b9 \u53ef\u89c1   \u5bf9\u5e94 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a all   @ app . on _ deep _ all ( )   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a n   @ app . on _ deep _ all ( n )   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a 0   \u65e0\u9700 \u88c5\u9970 \u5668 \uff0c \u9ed8\u8ba4 \u4e3a 0   \u8fd9\u4e9b AyakaState \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f   \u00b6   \u63d0\u4f9b \u72ec\u7acb \u7684 \u547d\u4ee4 \u7a7a\u95f4   \u901a\u8fc7 \u8fd9\u4e9b \u72b6\u6001 \uff0c \u628a \u5404\u79cd \u5404\u6837 \u5404\u79cd\u5404\u6837 \u7684 \u56de\u8c03 \u9694\u79bb \u79bb\u5f00 \u9694\u79bb\u5f00 \uff0c \u4e0d\u518d \u4f1a \u6709   \u4e00\u4eba \u9ad8\u547c \u4e07\u4eba \u54cd\u5e94   \u7684 \u5c34\u5c2c   \u4e0d\u540c \u72b6\u6001 \u4e0b \uff0c \u53ef\u4ee5 \u4fdd\u5b58 \u6709 \u76f8\u540c \u547d\u4ee4 \u7684 \u4e0d\u540c \u56de\u8c03 \u3002 \u8fd9\u4e9b \u56de\u8c03 \u4ec5 \u5728 \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u4e0b \u624d \u4f1a \u54cd\u5e94 \u6307\u4ee4 \uff0c \u6267\u884c \u4efb\u52a1 \u3002 \u8fd9\u6837 \u4fdd\u8bc1 \u4e86 \u547d\u4ee4 \u7a7a\u95f4 \u7684 \u7eaf\u51c0 \uff0c \u5404\u4e2a \u63d2\u4ef6 \u7684 \u6307\u4ee4 \u4e0d\u4f1a \u76f8\u4e92 \u6c61\u67d3   \u540c\u65f6 \uff0c \u901a\u8fc7   deep   \u548c   \u4e0a\u6eaf \u67e5\u627e   \u7684 \u7279\u70b9 \uff0c \u53c8 \u53ef\u4ee5 \u8ba9 \u4e00\u4e9b \u7236 \u72b6\u6001 \u7684 \u65b9\u6cd5 \u590d\u7528 \u7ed9\u5b50 \u72b6\u6001 \u4f7f\u7528 \uff0c \u517c\u5177 \u7075\u6d3b \u6d3b\u6027 \u7075\u6d3b\u6027   \u8fd9\u4e9b AyakaGroup \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f   \u00b6   \u63d0\u4f9b \u72ec\u7acb \u7684 \u6570\u636e \u7a7a\u95f4   \u663e\u7136 \uff0c \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u662f \u72ec\u7acb \u7684 \uff0c \u4e92\u4e0d \u5f71\u54cd \u7684 \uff0c \u4ec5 \u4e00\u70b9 \u5c31 \u8fd9 \u9700\u8981 \u6211\u4eec \u8bbe\u8ba1   AyakaGroup   \u6765 \u4fdd\u5b58 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u72b6\u6001   \u540c\u65f6 \uff0c \u4e0d\u540c \u7fa4\u7ec4 \u8fd8\u6709 \u4fdd\u5b58 \u5176\u4ed6 \u6570\u636e \u7684 \u9700\u6c42 \uff0c \u6bd4\u5982 \u67d0 \u6295\u7968 \u63d2\u4ef6 \u9700\u8981 \u4fdd\u5b58 \u76ee\u524d \u6240\u6709 \u53c2\u4e0e \u4eba\u5458 \u7684 \u6295\u7968 \u60c5\u51b5 \uff0c \u663e\u7136 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u6295\u7968 \u5fc5\u987b \u662f \u72ec\u7acb \u7684 \uff0c \u8fd9 \u540c\u6837 \u9700\u8981   AyakaGroup   \u6765 \u4fdd\u5b58 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u6570\u636e   \u8fd9\u4e9b AyakaApp \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f   \u00b6   \u901a\u8fc7   AyakaApp   \uff0c \u628a \u4e0a\u8ff0 \u6982\u5ff5 \u90fd \u6253\u5305 \u5230 \u4e00\u4e2a   app   \u8eab\u4e0a \uff0c \u53ea \u9700 \u8c03\u7528 \u76f8\u5e94 \u88c5\u9970 \u5668 \u6ce8\u518c \u56de\u8c03 \u5373\u53ef \u5b9e\u73b0 \u4e0a\u8ff0 \u6548\u679c   \u540c\u65f6 \uff0c   app   \u4e5f \u63d0\u4f9b \u4e86 \u4e00\u4e9b \u6709\u76ca \u7684 \u5c5e\u6027 \uff0c \u5728 \u4e0b \u4e00\u7ae0 \u8be6\u7ec6 \u4ecb\u7ecd \u8fd9\u4e9b \u5c5e\u6027   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5de5\u4f5c \u539f\u7406"},{"location":"develop/how-does-it-work/#ayaka","text":"\u53ef\u80fd \u4e00\u4e9b \u6982\u5ff5 \u6682\u65f6 \u65e0\u6cd5 \u5b8c\u5168 \u7406\u89e3 \uff0c \u8bf7 \u5411\u540e\u770b \uff0c \u56e0\u4e3a \u4e00\u4e9b \u6982\u5ff5 \u9700\u8981 \u5728 \u4e0d\u540c \u7684 \u5730\u65b9 \u591a\u6b21 \u9610\u8ff0 \u624d\u80fd \u8bb2\u89e3 \u6e05\u695a","title":"Ayaka \u662f \u5982\u4f55 \u5de5\u4f5c \u7684 \uff1f"},{"location":"develop/how-does-it-work/#_1","text":"\u5728   ayaka   \u7684 \u4e16\u754c \u4e2d \uff0c \u63d2\u4ef6 \u3001 \u7fa4\u7ec4 \u3001 \u6d88\u606f \u7684 \u5173\u7cfb \u5982\u4e0b","title":"\u63d2\u4ef6 \u3001 \u7fa4\u7ec4 \u3001 \u6d88\u606f"},{"location":"develop/how-does-it-work/#ayakagroup","text":"\u5f53   ayaka   \u6536\u5230 \u4e00\u4e2a \u65b0 \u7684 \u7fa4\u7ec4 \u7684 \u6d88\u606f \u65f6 \uff0c \u5c31 \u4f1a \u81ea\u52a8 \u65b0\u5efa \u4e00\u4e2a   AyakaGroup   \u5bf9\u8c61 \uff08 \u540e \u7b80\u79f0 \u4e3a   group   \uff09 \uff0c \u8be5 \u5bf9\u8c61 \u5185\u90e8 \u4fdd\u5b58 \u6709 \u4e00\u4e2a \u72b6\u6001 \u6307\u9488 \u548c \u4e00\u4e2a \u5b57\u5178 \uff08 \u7528\u6765 \u4fdd\u5b58 \u8be5 \u7fa4\u7ec4 \u5185 \u7684 \u4e34\u65f6 \u6570\u636e \uff0c bot \u91cd\u542f \u540e \u4e22\u5931 \uff09","title":"AyakaGroup"},{"location":"develop/how-does-it-work/#ayakaappayakastate","text":"\u6bcf\u4e2a   ayaka \u884d\u751f \u63d2\u4ef6   \u91cc \u90fd \u6709 \u4e00\u4e2a \u6216 \u82e5\u5e72 \u82e5\u5e72\u4e2a   AyakaApp   \u5bf9\u8c61 \uff08 \u540e \u7b80\u79f0 \u4e3a   app   \uff09 \u3002 \u5728 \u63d2\u4ef6 \u4ee3\u7801 \u52a0\u8f7d \u9636\u6bb5 \uff0c \u751f\u6210 \u8fd9\u4e9b   app   \u7684 \u65f6\u5019 \uff0c   ayaka   \u4f1a \u6839\u636e \u5b83\u4eec \u8eab\u4e0a \u6ce8\u518c \u7684 \u56de\u8c03 \u51fd\u6570 \u7684 \u60c5\u51b5 \uff0c \u751f\u6210 \u552f\u4e00 \u4e00\u68f5 \u72b6\u6001 \u6811 \uff0c \u6240\u6709 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u90fd \u4f4d\u4e8e \u8fd9\u68f5 \u72b6\u6001 \u6811\u4e0a   \u800c   group   \u5185\u90e8 \u7684   \u72b6\u6001 \u6307\u9488   \u5219 \u6307\u5411 \u8be5 \u6811\u4e0a \u7684 \u67d0\u4e2a \u7ed3\u70b9 \uff0c \u8868\u793a \u8be5 \u7fa4\u7ec4 \u5f53\u524d \u6240\u5904 \u7684 \u72b6\u6001 \u3002 \u9ed8\u8ba4 \u6307\u5411   root   \u72b6\u6001 \uff08 \u53c8 \u53eb \u95f2\u7f6e \u72b6\u6001 \uff09","title":"AyakaApp \u3001 AyakaState \u548c \u552f\u4e00 \u72b6\u6001 \u6811"},{"location":"develop/how-does-it-work/#_2","text":"\u72b6\u6001 \u53ef\u4ee5 \u901a\u8fc7 \u8c03\u7528   app . goto ( )   \u6216   app . set _ state ( )   \u65b9\u6cd5 \u8fdb\u884c \u8f6c\u79fb \uff0c \u72b6\u6001 \u8f6c\u79fb \u65f6 \uff0c \u5982\u679c \u5b58\u5728 \u76f8\u5e94 \u7684   \u8fdb\u5165 \u56de\u8c03   \u548c   \u9000\u51fa \u56de\u8c03   \uff0c \u8fd8\u4f1a \u987a\u6b21 \u6267\u884c \u5b83\u4eec   \u4ece   root   \u72b6\u6001 \uff0c \u53d8\u66f4 \u4e3a   root . \u63d2\u4ef6 2   \u72b6\u6001 \uff0c \u518d \u53d8\u56de   root   \u72b6\u6001 \uff08 \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u6253\u5f00 \u4e86 \u63d2\u4ef6 2 \u540e \u53c8 \u5173\u95ed \u63d2\u4ef6 2 \uff09   \u4ece   root . \u63d2\u4ef6 2 . \u6e38\u620f \u4e2d . \u51fa\u724c   \u72b6\u6001 \uff0c \u53d8\u66f4 \u4e3a   root . \u63d2\u4ef6 1 . \u7761\u7720   \u72b6\u6001 \uff1a   \u4ece   root   \u72b6\u6001 \u8f6c\u79fb \u5230   root . \u63d2\u4ef6 2   \u72b6\u6001 \uff0c \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u7fa4\u7ec4 \u5f00\u542f \u4e86 \u63d2\u4ef6 2 \uff0c \u4ece \u95f2\u7f6e \u72b6\u6001 \uff08 \u6ca1\u6709 \u4efb\u4f55 \u63d2\u4ef6 \u5728 \u8fd0\u884c \uff09 \u8f6c\u79fb \u5230 \u8fd0\u884c \u63d2\u4ef6 2 \u7684 \u72b6\u6001   \u4ece   root . \u63d2\u4ef6 2   \u72b6\u6001 \u8f6c\u79fb \u5230   root   \u72b6\u6001 \uff0c \u76f8\u5f53 \u5f53\u4e8e \u76f8\u5f53\u4e8e \u7fa4\u7ec4 \u5173\u95ed \u4e86 \u63d2\u4ef6 2 \uff0c \u6062\u590d \u5230 \u95f2\u7f6e \u72b6\u6001","title":"\u72b6\u6001 \u8f6c\u79fb"},{"location":"develop/how-does-it-work/#_3","text":"\u6bcf\u4e2a \u72b6\u6001 \u4e0b \u90fd \u53ef\u4ee5 \u6ce8\u518c   \u547d\u4ee4 \u56de\u8c03   \uff08 \u5bf9 \u5177\u6709   \u547d\u4ee4 \u62ac\u5934   \uff08 \u4f8b\u5982   #   \uff09 \u7684 \u6d88\u606f \u8fdb\u884c \u54cd\u5e94 \uff09 \u548c   \u666e\u901a \u6d88\u606f \u56de\u8c03   \u5bf9\u5e94 \u7684 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u5728 \u95f2\u7f6e \u72b6\u6001 \u4e0b \u8fdb\u884c \u6ce8\u518c   @ app . on _ idle ( )   \u5728 \u6307\u5b9a \u72b6\u6001 \u4e0b \u8fdb\u884c \u6ce8\u518c   @ app . on _ state ( )   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03   @ app . on _ cmd ( )   \u6ce8\u518c \u6d88\u606f \u56de\u8c03   @ app . on _ text ( )   \u5728 \u6d88\u606f \u4ece   ayaka   \u6765\u5230   group   \u540e \uff0c   ayaka   \u4f1a \u6839\u636e   group   \u5f53\u524d \u72b6\u6001 \u6307\u9488 \u6240\u6307 \u7684 \u72b6\u6001 \uff0c \u8fdb\u884c   \u4e0a\u6eaf \u67e5\u627e   \uff0c \u67e5\u627e \u6ee1\u8db3 \u89e6\u53d1 \u6761\u4ef6 \u7684 \u56de\u8c03 \u6765 \u5904\u7406 \u6d88\u606f   \u5047\u5982 \u5f53\u524d \u72b6\u6001 \u662f   root . \u63d2\u4ef6 2   \uff0c \u4f46\u662f \u5728 \u8be5 \u72b6\u6001 \u4e2d \u5e76 \u6ca1\u6709 \u627e\u5230 \u7b26\u5408 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff08 \u4f8b\u5982 \uff1a \u6d88\u606f \u662f   # \u7761\u89c9   \uff0c \u4f46\u662f   root . \u63d2\u4ef6 2   \u5e76 \u6ca1\u6709 \u547d\u4ee4 \u4e3a \u7761\u89c9 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff09 \uff0c \u5219 \u7ee7\u7eed \u67e5\u627e \u7236 \u72b6\u6001 \uff0c \u53ef \u4e00\u8def \u4e0a\u6eaf \u81f3   root   \u7ed3\u70b9   \u82e5\u5747 \u6ca1\u6709 \u7b26\u5408 \u7684 \u547d\u4ee4 \u56de\u8c03 \uff0c \u5219 \u8be5 \u6d88\u606f \uff08 \u5373\u4f7f \u6709 \u547d\u4ee4 \u62ac\u5934 \uff09 \u9000\u5316 \u6210 \u666e\u901a \u6d88\u606f \u6765 \u5904\u7406 \uff0c \u5e76\u4e14 \u5904\u7406 \u65b9\u5f0f \u540c\u6837 \u662f \u4e00\u8def \u4e0a\u6eaf \u81f3   root   \u7ed3\u70b9   \u6ce8\u610f \uff0c \u5bf9\u4e8e \u72b6\u6001 \u7ed3\u70b9 \u800c\u8a00 \uff0c \u5176 \u547d\u4ee4 \u56de\u8c03 \u548c \u6d88\u606f \u56de\u8c03 \u53ef\u80fd \u6709 0 \u4e2a \uff0c 1 \u4e2a \u6216 \u82e5\u5e72 \u82e5\u5e72\u4e2a   \u82e5\u4e3a 0 \u4e2a \uff0c \u5219 \u8bf4\u660e \u4e0d \u7b26\u5408 \uff0c \u9700\u8981 \u7ee7\u7eed \u4e0a\u6eaf \u67e5\u627e \uff0c \u76f4\u5230   root   \u7ed3\u70b9   \u5728 \u6ce8\u518c \u56de\u8c03 \u7684 \u65f6\u5019 \u540c\u65f6 \u53ef\u4ee5 \u6307\u5b9a \u662f\u5426 \u963b\u65ad \uff0c \u6ce8\u518c \u56de\u8c03 \u65f6\u5747 \u9ed8\u8ba4 \u963b\u65ad   \u5bf9\u5e94 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u4e0d \u963b\u65ad   @ app . on _ no _ block ( )   \u963b\u65ad   \u65e0\u9700 \u88c5\u9970 \u5668 \uff0c \u9ed8\u8ba4 \u4e3a \u963b\u65ad   \u82e5\u6709 \u7b26\u5408 \u7684 \u56de\u8c03 \uff0c \u4f46\u662f \u5176 \u8bbe\u7f6e \u4e3a \u4e0d \u963b\u65ad \uff0c \u90a3\u4e48 \u5728 \u6267\u884c \u4e86 \u8be5 \u56de\u8c03 \u540e \uff0c   ayaka   \u4f1a \u7ee7\u7eed \u4e0a\u8ff0 \u7684 \u67e5\u627e \u6d41\u7a0b \uff0c \u76f4\u5230 \u7ed3\u675f","title":"\u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03 \u3001 \u4e0a\u6eaf \u67e5\u627e \u548c \u963b\u65ad"},{"location":"develop/how-does-it-work/#deep","text":"\u4f46\u662f \u4e0a \u8282 \u6240\u8bf4 \u7684   \u4e0a\u6eaf \u67e5\u627e   \u88ab \u65bd\u52a0 \u4e86 \u4e00\u5b9a \u7684 \u9650\u5236   \u5927\u90e8 \u90e8\u5206 \u5927\u90e8\u5206 \u60c5\u51b5 \u4e0b \uff0c \u6211\u4eec \u4e0d\u4f1a \u671f\u671b \u7236 \u72b6\u6001 \u7ed3\u70b9 \u7684 \u56de\u8c03 \u4f1a \u5728 \u7fa4\u7ec4 \u5904\u4e8e \u5b50 \u72b6\u6001 \u65f6 \u88ab \u89e6\u53d1 \uff0c \u5b83\u4eec \u5c31 \u50cf\u662f \u5e7d\u7075 \u4e00\u6837 \uff0c \u4ee4\u4eba \u56f0\u60d1 \u4ee4\u4eba\u56f0\u60d1   \u56e0\u6b64 \uff0c \u8fd9\u4e9b \u56de\u8c03 \u5728 \u6ce8\u518c \u65f6 \uff0c \u9ed8\u8ba4 \u5176 \u53ef \u5411\u4e0b \u5f71\u54cd \u7684 \u6df1\u5ea6 \u4e3a 0 \uff0c \u4e5f \u5c31 \u8bf4 \uff0c \u5b83 \u5bf9 \u4e0b \u4e00\u5c42 \u72b6\u6001 \uff08 \u4ee5\u53ca \u66f4\u6df1 \u7684 \u72b6\u6001 \uff09 \u6765\u8bf4 \u662f \u4e0d \u53ef\u89c1 \u7684 \uff0c \u56e0\u800c \u4e0a\u6eaf \u67e5\u627e \u65f6 \u4e5f \u4e0d\u4f1a \u627e\u5230 \u5b83   \u5982\u679c \u8bbe\u7f6e \u4e3a 1 \uff0c \u5219 \u5176 \u5bf9 \u76f4\u7cfb \u5b50 \u7ed3\u70b9 \u53ef\u89c1 \uff0c \u5bf9\u5b59 \u7ed3\u70b9 \u4e0d \u53ef\u89c1   \u5982\u679c \u8bbe\u7f6e \u4e3a all \uff0c \u5219 \u5176 \u5bf9 \u6240\u6709 \u540e\u4ee3 \u7ed3\u70b9 \u53ef\u89c1   \u5bf9\u5e94 \u88c5\u9970 \u5668 \uff1a   \u8bf4\u660e   \u4ee3\u7801   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a all   @ app . on _ deep _ all ( )   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a n   @ app . on _ deep _ all ( n )   \u8bbe\u7f6e \u6df1\u5ea6 \u4e3a 0   \u65e0\u9700 \u88c5\u9970 \u5668 \uff0c \u9ed8\u8ba4 \u4e3a 0","title":"deep"},{"location":"develop/how-does-it-work/#ayakastate","text":"\u63d0\u4f9b \u72ec\u7acb \u7684 \u547d\u4ee4 \u7a7a\u95f4   \u901a\u8fc7 \u8fd9\u4e9b \u72b6\u6001 \uff0c \u628a \u5404\u79cd \u5404\u6837 \u5404\u79cd\u5404\u6837 \u7684 \u56de\u8c03 \u9694\u79bb \u79bb\u5f00 \u9694\u79bb\u5f00 \uff0c \u4e0d\u518d \u4f1a \u6709   \u4e00\u4eba \u9ad8\u547c \u4e07\u4eba \u54cd\u5e94   \u7684 \u5c34\u5c2c   \u4e0d\u540c \u72b6\u6001 \u4e0b \uff0c \u53ef\u4ee5 \u4fdd\u5b58 \u6709 \u76f8\u540c \u547d\u4ee4 \u7684 \u4e0d\u540c \u56de\u8c03 \u3002 \u8fd9\u4e9b \u56de\u8c03 \u4ec5 \u5728 \u5bf9\u5e94 \u72b6\u6001 \u5bf9\u5e94\u72b6\u6001 \u4e0b \u624d \u4f1a \u54cd\u5e94 \u6307\u4ee4 \uff0c \u6267\u884c \u4efb\u52a1 \u3002 \u8fd9\u6837 \u4fdd\u8bc1 \u4e86 \u547d\u4ee4 \u7a7a\u95f4 \u7684 \u7eaf\u51c0 \uff0c \u5404\u4e2a \u63d2\u4ef6 \u7684 \u6307\u4ee4 \u4e0d\u4f1a \u76f8\u4e92 \u6c61\u67d3   \u540c\u65f6 \uff0c \u901a\u8fc7   deep   \u548c   \u4e0a\u6eaf \u67e5\u627e   \u7684 \u7279\u70b9 \uff0c \u53c8 \u53ef\u4ee5 \u8ba9 \u4e00\u4e9b \u7236 \u72b6\u6001 \u7684 \u65b9\u6cd5 \u590d\u7528 \u7ed9\u5b50 \u72b6\u6001 \u4f7f\u7528 \uff0c \u517c\u5177 \u7075\u6d3b \u6d3b\u6027 \u7075\u6d3b\u6027","title":"\u8fd9\u4e9b AyakaState \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f"},{"location":"develop/how-does-it-work/#ayakagroup_1","text":"\u63d0\u4f9b \u72ec\u7acb \u7684 \u6570\u636e \u7a7a\u95f4   \u663e\u7136 \uff0c \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u72b6\u6001 \u662f \u72ec\u7acb \u7684 \uff0c \u4e92\u4e0d \u5f71\u54cd \u7684 \uff0c \u4ec5 \u4e00\u70b9 \u5c31 \u8fd9 \u9700\u8981 \u6211\u4eec \u8bbe\u8ba1   AyakaGroup   \u6765 \u4fdd\u5b58 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u72b6\u6001   \u540c\u65f6 \uff0c \u4e0d\u540c \u7fa4\u7ec4 \u8fd8\u6709 \u4fdd\u5b58 \u5176\u4ed6 \u6570\u636e \u7684 \u9700\u6c42 \uff0c \u6bd4\u5982 \u67d0 \u6295\u7968 \u63d2\u4ef6 \u9700\u8981 \u4fdd\u5b58 \u76ee\u524d \u6240\u6709 \u53c2\u4e0e \u4eba\u5458 \u7684 \u6295\u7968 \u60c5\u51b5 \uff0c \u663e\u7136 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u6295\u7968 \u5fc5\u987b \u662f \u72ec\u7acb \u7684 \uff0c \u8fd9 \u540c\u6837 \u9700\u8981   AyakaGroup   \u6765 \u4fdd\u5b58 \u4e0d\u540c \u7fa4\u7ec4 \u7684 \u6570\u636e","title":"\u8fd9\u4e9b AyakaGroup \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f"},{"location":"develop/how-does-it-work/#ayakaapp","text":"\u901a\u8fc7   AyakaApp   \uff0c \u628a \u4e0a\u8ff0 \u6982\u5ff5 \u90fd \u6253\u5305 \u5230 \u4e00\u4e2a   app   \u8eab\u4e0a \uff0c \u53ea \u9700 \u8c03\u7528 \u76f8\u5e94 \u88c5\u9970 \u5668 \u6ce8\u518c \u56de\u8c03 \u5373\u53ef \u5b9e\u73b0 \u4e0a\u8ff0 \u6548\u679c   \u540c\u65f6 \uff0c   app   \u4e5f \u63d0\u4f9b \u4e86 \u4e00\u4e9b \u6709\u76ca \u7684 \u5c5e\u6027 \uff0c \u5728 \u4e0b \u4e00\u7ae0 \u8be6\u7ec6 \u4ecb\u7ecd \u8fd9\u4e9b \u5c5e\u6027","title":"\u8fd9\u4e9b AyakaApp \u5230\u5e95 \u6709 \u4ec0\u4e48 \u7528 \u5462 \uff1f"},{"location":"develop/how-does-it-work/#_4","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/input/","text":"AyakaInput   \u00b6   \u5c06   Message   \u8f6c\u6362 \u4e3a \u6211\u4eec \u6240 \u9700\u8981 \u7684 \u4e00\u7cfb \u7cfb\u5217 \u4e00\u7cfb\u5217 \u53c2\u6570   \u57fa\u672c \u7528\u6cd5   \u00b6   \u5c06 \u9700\u8981 \u7684 \u53c2\u6570 \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaInput   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   \u4f7f\u7528 \u65f6 \u653e\u5165 \u56de\u8c03 \u7684 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \u5373\u53ef   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   name   :   str   age   :   int   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \uff0c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u53ef\u4ee5 \u4e0d\u5199   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u6b63\u786e   name   \u9519\u8bef   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   100   name = ' \u4e09\u4e30 \u5f20\u4e09\u4e30 '   age = 100   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   field   required   ( type = value _ error . missing )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   \u6d4b\u8bd5   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   value   is   not   a   valid   integer   ( type = type _ error . integer )   \u8fdb\u9636 \uff1a msg _ type   \u00b6   \u4f7f\u7528   msg _ type   \u83b7\u53d6 \u6307\u5b9a \u7c7b\u578b \u7684   MessageSegment   \uff08 \u9664\u4e86   type = text   \u7c7b\u578b \uff09   from   ayaka   import   AyakaInput   ,   msg _ type   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   at   :   msg _ type   .   T _ At   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   123   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   at   MessageSegment   required   ( type = type _ error )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   [ CQ : at , qq = 12 ]   at = MessageSegment ( type = ' at ' ,   data = { ' qq ' :   ' 12 ' } )   \u8fdb\u9636 \uff1a \u7ea6\u675f   \u00b6   \u4f7f\u7528   pydantic   \u8fdb\u884c \u7ea6\u675f \uff0c \u7ea6\u675f \u6761\u4ef6 \u7ea6\u675f\u6761\u4ef6 \u53c2\u8003   pydantic . Field   from   ayaka   import   AyakaInput   ,   AyakaApp   from   pydantic   import   Field   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   age   :   int   =   Field   (   gt   =   0   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   - 1   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   ensure   this   value   is   greater   than   0   ( type = value _ error . number . not _ gt ;   limit _ value = 0 )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   100   age = 100   \u8fdb\u9636 \uff1a \u5e2e\u52a9   \u00b6   \u4f7f\u7528   Field   \uff0c \u7f16\u5199   description   \uff0c \u4ee5\u4fbf   ayaka _ master   \u4e3a \u8be5 \u5c5e\u6027 \u63d0\u4f9b \u5e2e\u52a9   from   pydantic   import   Field   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   name   :   str   =   Field   (   description   =   \" \u540d\u5b57 \"   )   age   :   int   =   Field   (   description   =   \" \u5e74\u9f84 \"   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   pass   <   <   <   \" user \"   \u8bf4 \uff1a # help   test   > > >   \" Bot \"   \u8bf4 \uff1a [ test ]   -   f1   < name >   < age >   < name >   \u540d\u5b57   < age >   \u5e74\u9f84   \u7279\u6b8a \uff1a \u4e0d\u80fd \u5d4c\u5957   \u00b6   \u4e0d \u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   ,   Field   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   =   Field   (   description   =   \" \u540d\u5b57 \"   )   age   :   int   =   Field   (   description   =   \" \u5e74\u9f84 \"   )   class   UserInput   (   AyakaInput   ) :   user   :   User   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   user   field   required   ( type = value _ error . missing )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u8f93\u5165   AyakaInput"},{"location":"develop/input/#ayakainput","text":"\u5c06   Message   \u8f6c\u6362 \u4e3a \u6211\u4eec \u6240 \u9700\u8981 \u7684 \u4e00\u7cfb \u7cfb\u5217 \u4e00\u7cfb\u5217 \u53c2\u6570","title":"AyakaInput"},{"location":"develop/input/#_1","text":"\u5c06 \u9700\u8981 \u7684 \u53c2\u6570 \u6253\u5305 \u5230 \u4e00\u4e2a \u7c7b\u4e2d \uff0c \u8be5\u7c7b \u7ee7\u627f \u81ea   AyakaInput   \uff0c \u7f16\u5199 \u65b9\u6cd5 \u53c2\u8003   pydantic . BaseModel   \u4f7f\u7528 \u65f6 \u653e\u5165 \u56de\u8c03 \u7684 \u53c2\u6570 \u6570\u8868 \u53c2\u6570\u8868 \u4e2d \u5373\u53ef   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   name   :   str   age   :   int   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   \u6ce8\u610f \uff0c \u4e00\u5b9a \u8981 \u7f16\u5199 \u7c7b\u578b \u63d0\u793a \uff0c \u9ed8\u8ba4 \u9ed8\u8ba4\u503c \u53ef\u4ee5 \u4e0d\u5199   \u4ee3\u7801   \u5907\u6ce8   name : str   =   \" \"   \u6b63\u786e   name   =   \" \"   \u9519\u8bef   name : str   \u6b63\u786e   name   \u9519\u8bef   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   100   name = ' \u4e09\u4e30 \u5f20\u4e09\u4e30 '   age = 100   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   field   required   ( type = value _ error . missing )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   \u4e09\u4e30 \u5f20\u4e09\u4e30   \u6d4b\u8bd5   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   value   is   not   a   valid   integer   ( type = type _ error . integer )","title":"\u57fa\u672c \u7528\u6cd5"},{"location":"develop/input/#msg_type","text":"\u4f7f\u7528   msg _ type   \u83b7\u53d6 \u6307\u5b9a \u7c7b\u578b \u7684   MessageSegment   \uff08 \u9664\u4e86   type = text   \u7c7b\u578b \uff09   from   ayaka   import   AyakaInput   ,   msg _ type   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   at   :   msg _ type   .   T _ At   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   123   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   at   MessageSegment   required   ( type = type _ error )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   [ CQ : at , qq = 12 ]   at = MessageSegment ( type = ' at ' ,   data = { ' qq ' :   ' 12 ' } )","title":"\u8fdb\u9636 \uff1a msg _ type"},{"location":"develop/input/#_2","text":"\u4f7f\u7528   pydantic   \u8fdb\u884c \u7ea6\u675f \uff0c \u7ea6\u675f \u6761\u4ef6 \u7ea6\u675f\u6761\u4ef6 \u53c2\u8003   pydantic . Field   from   ayaka   import   AyakaInput   ,   AyakaApp   from   pydantic   import   Field   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   age   :   int   =   Field   (   gt   =   0   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   - 1   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   age   ensure   this   value   is   greater   than   0   ( type = value _ error . number . not _ gt ;   limit _ value = 0 )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   100   age = 100","title":"\u8fdb\u9636 \uff1a \u7ea6\u675f"},{"location":"develop/input/#_3","text":"\u4f7f\u7528   Field   \uff0c \u7f16\u5199   description   \uff0c \u4ee5\u4fbf   ayaka _ master   \u4e3a \u8be5 \u5c5e\u6027 \u63d0\u4f9b \u5e2e\u52a9   from   pydantic   import   Field   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   UserInput   (   AyakaInput   ) :   name   :   str   =   Field   (   description   =   \" \u540d\u5b57 \"   )   age   :   int   =   Field   (   description   =   \" \u5e74\u9f84 \"   )   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   pass   <   <   <   \" user \"   \u8bf4 \uff1a # help   test   > > >   \" Bot \"   \u8bf4 \uff1a [ test ]   -   f1   < name >   < age >   < name >   \u540d\u5b57   < age >   \u5e74\u9f84","title":"\u8fdb\u9636 \uff1a \u5e2e\u52a9"},{"location":"develop/input/#_4","text":"\u4e0d \u53ef\u4ee5 \u5d4c\u5957 \u5176\u4ed6 BaseModel \u6a21\u578b   from   pydantic   import   BaseModel   ,   Field   from   ayaka   import   AyakaInput   ,   AyakaApp   app   =   AyakaApp   (   \" test \"   )   class   User   (   BaseModel   ) :   name   :   str   =   Field   (   description   =   \" \u540d\u5b57 \"   )   age   :   int   =   Field   (   description   =   \" \u5e74\u9f84 \"   )   class   UserInput   (   AyakaInput   ) :   user   :   User   @ app   .   on _ cmd   (   \" f1 \"   )   async   def   func _ 1   (   userinput   :   UserInput   ) :   print   (   userinput   )   <   <   <   \" user \"   \u8bf4 \uff1a # f1   > > >   \" Bot \"   \u8bf4 \uff1a   1   validation   error   for   UserInput   user   field   required   ( type = value _ error . missing )","title":"\u7279\u6b8a \uff1a \u4e0d\u80fd \u5d4c\u5957"},{"location":"develop/input/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/master/","text":"ayaka _ master   \u00b6   ayaka \u5185\u90e8 \u5df2 \u5b89\u88c5 \u4e00\u4efd \u7279\u6b8a \u7684 \u7efc\u5408 \u7ba1\u7406 \u63d2\u4ef6 \uff0c \u5b83 \u57fa\u4e8e ayaka \u63d2\u4ef6 \u800c \u5b9e\u73b0   \u547d\u4ee4 \u4e00\u89c8 \uff1a   [ ayaka _ master ]   ayaka \u7efc\u5408 \u7ba1\u7406 \u6a21\u5757   -   \u63d2\u4ef6 / plugin / plugins   |   \u5c55\u793a \u6240\u6709 \u5e94\u7528   -   \u72b6\u6001 / state   -   \u5e2e\u52a9 / help   < name >   < name >   \u5e94\u7528 \u540d   -   \u5f3a\u5236 \u9000\u51fa / force _ exit   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5185\u7f6e \u63d2\u4ef6"},{"location":"develop/master/#ayaka_master","text":"ayaka \u5185\u90e8 \u5df2 \u5b89\u88c5 \u4e00\u4efd \u7279\u6b8a \u7684 \u7efc\u5408 \u7ba1\u7406 \u63d2\u4ef6 \uff0c \u5b83 \u57fa\u4e8e ayaka \u63d2\u4ef6 \u800c \u5b9e\u73b0   \u547d\u4ee4 \u4e00\u89c8 \uff1a   [ ayaka _ master ]   ayaka \u7efc\u5408 \u7ba1\u7406 \u6a21\u5757   -   \u63d2\u4ef6 / plugin / plugins   |   \u5c55\u793a \u6240\u6709 \u5e94\u7528   -   \u72b6\u6001 / state   -   \u5e2e\u52a9 / help   < name >   < name >   \u5e94\u7528 \u540d   -   \u5f3a\u5236 \u9000\u51fa / force _ exit","title":"ayaka _ master"},{"location":"develop/master/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/state/","text":"AyakaState   \u00b6   \u72b6\u6001 \u7ed3\u70b9   \u5982\u4f55 \u83b7\u53d6 \u72b6\u6001 \u7ed3\u70b9   \u00b6   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   s0   =   app   .   root _ state   s1   =   app   .   plugin _ state   s2   =   app   .   get _ state   ( )   s3   =   app   .   get _ state   (   \" \u6d4b\u8bd5 \"   )   s4   =   app   .   get _ state   ( [   \" test \"   ,   \" ok \"   ] )   s5   =   app   .   get _ state   (   \" test . ok \"   )   print   (   s0   )   #   root   print   (   s1   )   #   root . test   print   (   s2   )   #   root . test   print   (   s3   )   #   root . test . \u6d4b\u8bd5   print   (   s4   )   #   root . test . test . ok   print   (   s5   )   #   root . test . test . ok   \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03   \u00b6   \u72b6\u6001 \u7ed3\u70b9 \u4e5f \u53ef\u4ee5 \u76f4\u63a5 \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03   \u4e8b\u5b9e \u4e8b\u5b9e\u4e0a \uff0c   app . on _ xxx   \u7cfb\u5217 \u88c5\u9970 \u5668 \u5c31\u662f \u76f4\u63a5 \u5bf9 \u76f8\u5e94 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u64cd\u4f5c \u7684   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   s0   =   app   .   root _ state   s1   =   app   .   get _ state   ( )   @ s0   .   on _ cmd   ( [   \" test \"   ] ,   app   )   async   def   func   ( ) :   await   app   .   start   ( )   @ s1   .   on _ cmd   ( [   \" \u5bf9 \u5417 \"   ] ,   app   )   async   def   func   ( ) :   await   app   .   send   (   \" \u5bf9 \u7684 \"   )   <   <   <   \" user \"   \u8bf4 \uff1a # \u5bf9 \u5417   <   <   <   \" user \"   \u8bf4 \uff1a # test   > > >   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ test ]   <   <   <   \" user \"   \u8bf4 \uff1a # \u5bf9 \u5417   > > >   \" Bot \"   \u8bf4 \uff1a \u5bf9 \u7684   \u6ce8\u518c \u8fdb\u5165 \u56de\u8c03 \u3001 \u9000\u51fa \u56de\u8c03   \u00b6   \u6ce8\u610f \uff1a \u4e0d\u8981 \u5728 \u8fdb\u5165 \u3001 \u9000\u51fa \u56de\u8c03 \u51fd\u6570 \u5185 \uff0c \u8c03\u7528   app . goto   \u6216   app . set _ state   \u65b9\u6cd5   @ s1   .   on _ enter   ( )   async   def   func   ( ) :   print   (   \" \u8fdb\u5165 s1 \u72b6\u6001 \u524d \"   )   @ s1   .   on _ exit   ( )   async   def   func   ( ) :   print   (   \" \u9000\u51fa s1 \u72b6\u6001 \u540e \"   )   \u53ef\u4ee5 \u5207\u7247   \u00b6   print   (   app   .   state   )   #   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   print   (   app   .   state   [   2   : ] )   #   \u592a\u9633   \u4f46 \u5207\u7247 \u540e \u5f97\u5230 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u4e0d \u4f4d\u4e8e \u72b6\u6001 \u6811\u4e0a   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u72b6\u6001   AyakaState"},{"location":"develop/state/#ayakastate","text":"\u72b6\u6001 \u7ed3\u70b9","title":"AyakaState"},{"location":"develop/state/#_1","text":"from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   s0   =   app   .   root _ state   s1   =   app   .   plugin _ state   s2   =   app   .   get _ state   ( )   s3   =   app   .   get _ state   (   \" \u6d4b\u8bd5 \"   )   s4   =   app   .   get _ state   ( [   \" test \"   ,   \" ok \"   ] )   s5   =   app   .   get _ state   (   \" test . ok \"   )   print   (   s0   )   #   root   print   (   s1   )   #   root . test   print   (   s2   )   #   root . test   print   (   s3   )   #   root . test . \u6d4b\u8bd5   print   (   s4   )   #   root . test . test . ok   print   (   s5   )   #   root . test . test . ok","title":"\u5982\u4f55 \u83b7\u53d6 \u72b6\u6001 \u7ed3\u70b9"},{"location":"develop/state/#_2","text":"\u72b6\u6001 \u7ed3\u70b9 \u4e5f \u53ef\u4ee5 \u76f4\u63a5 \u6ce8\u518c \u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03   \u4e8b\u5b9e \u4e8b\u5b9e\u4e0a \uff0c   app . on _ xxx   \u7cfb\u5217 \u88c5\u9970 \u5668 \u5c31\u662f \u76f4\u63a5 \u5bf9 \u76f8\u5e94 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u64cd\u4f5c \u7684   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   s0   =   app   .   root _ state   s1   =   app   .   get _ state   ( )   @ s0   .   on _ cmd   ( [   \" test \"   ] ,   app   )   async   def   func   ( ) :   await   app   .   start   ( )   @ s1   .   on _ cmd   ( [   \" \u5bf9 \u5417 \"   ] ,   app   )   async   def   func   ( ) :   await   app   .   send   (   \" \u5bf9 \u7684 \"   )   <   <   <   \" user \"   \u8bf4 \uff1a # \u5bf9 \u5417   <   <   <   \" user \"   \u8bf4 \uff1a # test   > > >   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ test ]   <   <   <   \" user \"   \u8bf4 \uff1a # \u5bf9 \u5417   > > >   \" Bot \"   \u8bf4 \uff1a \u5bf9 \u7684","title":"\u6ce8\u518c \u547d\u4ee4 \u56de\u8c03 \u3001 \u6d88\u606f \u56de\u8c03"},{"location":"develop/state/#_3","text":"\u6ce8\u610f \uff1a \u4e0d\u8981 \u5728 \u8fdb\u5165 \u3001 \u9000\u51fa \u56de\u8c03 \u51fd\u6570 \u5185 \uff0c \u8c03\u7528   app . goto   \u6216   app . set _ state   \u65b9\u6cd5   @ s1   .   on _ enter   ( )   async   def   func   ( ) :   print   (   \" \u8fdb\u5165 s1 \u72b6\u6001 \u524d \"   )   @ s1   .   on _ exit   ( )   async   def   func   ( ) :   print   (   \" \u9000\u51fa s1 \u72b6\u6001 \u540e \"   )","title":"\u6ce8\u518c \u8fdb\u5165 \u56de\u8c03 \u3001 \u9000\u51fa \u56de\u8c03"},{"location":"develop/state/#_4","text":"print   (   app   .   state   )   #   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   print   (   app   .   state   [   2   : ] )   #   \u592a\u9633   \u4f46 \u5207\u7247 \u540e \u5f97\u5230 \u7684 \u72b6\u6001 \u7ed3\u70b9 \u4e0d \u4f4d\u4e8e \u72b6\u6001 \u6811\u4e0a","title":"\u53ef\u4ee5 \u5207\u7247"},{"location":"develop/state/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/test/","text":"\u6d4b\u8bd5 ayaka \u884d\u751f \u63d2\u4ef6   \u00b6   ayaka _ test \u6a21\u62df \u4e86 \u4e00\u4e2a   \u4e0d \u9700\u8981 \u8fde\u63a5 \u771f\u5b9e qq \u8d26\u53f7   \u7684 \u5047 cqhttp   \u76ee\u524d \u7684 \u5047 cqhttp \u53ea \u63d0\u4f9b \u4e86   send _ msg   send _ group _ msg   send _ group _ forward _ msg   send _ private _ msg   get _ group _ member _ list   get _ friend _ list   ...   \u5176\u4ed6 \u529f\u80fd \u53ef\u4ee5 \u81ea\u884c \u7f16\u5199 \u4ee3\u7801 \u5bf9 ayaka _ test \u8fdb\u884c \u589e\u5f3a \uff01   \u5df2 \u7ed9\u51fa \u4e24\u4e2a   \u94a9\u5b50 \u51fd\u6570   \u4f9b \u62d3\u5c55 \u4f7f\u7528   \u4f7f\u7528 \u65b9\u6cd5   \u00b6   \u4e0b\u8f7d \u672c \u5957\u4ef6   git   clone   https : / / github . com / bridgeL / nonebot - plugin - ayaka . git   \uff08 \u5957\u4ef6 \u4e2d \u81ea\u5e26 \u6700\u65b0 \u7248\u672c \u7684 ayaka \uff09   \u5b89\u88c5 \u4f9d\u8d56   pip   install   - r   requirements . txt   \u5c06 \u5f85 \u6d4b\u8bd5 \u7684 ayaka \u884d\u751f \u63d2\u4ef6 \u653e\u5165 plugins \u76ee\u5f55 \u4e0b   \u542f\u52a8   python   bot . py   \u901a\u7528 \u547d\u4ee4   \u00b6   \u547d\u4ee4   \u529f\u80fd   g   < group _ id >   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u7fa4\u804a \u6d88\u606f   p   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u79c1\u804a \u6d88\u606f   d   1   \u5ef6\u65f6 1 \u79d2   dn   0.1   \u5ef6\u65f6 0.1 \u79d2 \u540e\u7a7a \u4e00\u884c   sa   on / off   \u6253\u5f00 / \u5173\u95ed   \u5bf9 nonebot \u6536\u53d1 \u6d88\u606f \u7684 \u91c7\u6837   s   test   \u6267\u884c script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c   \u00b6   \u989d\u5916 \u547d\u4ee4   \u00b6   \u547d\u4ee4   \u529f\u80fd   before   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u524d \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   after   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u540e \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   ;   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   #   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   \u811a\u672c \u793a\u4f8b   \u00b6   #   \u7528\u4e8e \u533a\u5206 \u4e0d\u540c \u5bf9\u8bdd \u6bb5 ( \u6240\u6709 \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c \u9ed8\u8ba4 \u5177\u6709 \u6b64\u6761 \u6548\u679c \uff0c \u65e0\u9700 \u4e13\u95e8 \u4e66\u5199 )   #   after   dn   0.1   #   \u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u5982\u4e0b \u8bed\u53e5 \u5173\u95ed \u9ed8\u8ba4 \u6548\u679c   #   after   #   \u5f00\u59cb \u6d4b\u8bd5   g   100   1   \u661f\u9645 \u65c5\u884c   g   100   1   hi   g   100   1   goto   \u6708\u7403   g   100   1   jump   \u5982\u4f55 \u589e\u5f3a ayaka _ test   \u00b6   \u867d\u7136 \u540d\u4e49 \u4e0a \u662f ayaka \u884d\u751f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6 \uff0c \u7136\u800c \u5176 \u4e0e ayaka \u6ca1 \u591a\u5c11 \u5173\u7cfb \uff0c \u53ef\u4ee5 \u76f4\u63a5 \u62ff \u53bb \u5f53 nonebot \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0d\u8fc7 \uff0c \u7531\u4e8e \u53ea \u6a21\u4eff \u4e86 \u51e0\u6761 \u529f\u80fd \uff0c \u56e0\u6b64 \u66f4 \u591a \u7684 \u8fd8\u662f \u9002\u7528 \u4e8e \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5   \u5728 ayaka _ test \u4e2d \uff0c \u5206\u522b \u7ed9\u51fa \u4e86 \u4e24\u4e2a \u94a9\u5b50 \u51fd\u6570   fake _ qq . on _ terminal   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u7ec8\u7aef \u547d\u4ee4   fake _ qq . on _ cqhttp   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u5047 cqhttp \u7684 api   \u5177\u4f53 \u7f16\u5199 \u53ef \u5206\u522b \u53c2\u8003   ayaka _ test / terminal . py   \u548c   ayaka _ test / cqhttp . py   \u6587\u4ef6   \u901a\u8fc7 \u5b83\u4eec \u4e3a \u5047 cqhttp \u62d3\u5c55 \u66f4 \u529f\u80fd \u591a\u529f\u80fd \u5427   win10   fastapi   reload \u5361\u6b7b \u95ee\u9898   \u00b6   \u6d4b\u8bd5 \u5957\u4ef6 \u53ef\u80fd \u4f1a \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u5361\u6b7b \uff0c \u65e0\u6cd5 \u7ed3\u675f \u8fdb\u7a0b \uff0c \u4ece\u800c \u5360\u7528 \u6d4b\u8bd5 \u7aef\u53e3   win10 \u53ef \u5c1d\u8bd5 \u8fd0\u884c   python   clean . py   \u6e05\u7406 \u5361\u6b7b \u7684 \u8fdb\u7a0b   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u6d4b\u8bd5   ayaka _ test"},{"location":"develop/test/#ayaka","text":"ayaka _ test \u6a21\u62df \u4e86 \u4e00\u4e2a   \u4e0d \u9700\u8981 \u8fde\u63a5 \u771f\u5b9e qq \u8d26\u53f7   \u7684 \u5047 cqhttp   \u76ee\u524d \u7684 \u5047 cqhttp \u53ea \u63d0\u4f9b \u4e86   send _ msg   send _ group _ msg   send _ group _ forward _ msg   send _ private _ msg   get _ group _ member _ list   get _ friend _ list   ...   \u5176\u4ed6 \u529f\u80fd \u53ef\u4ee5 \u81ea\u884c \u7f16\u5199 \u4ee3\u7801 \u5bf9 ayaka _ test \u8fdb\u884c \u589e\u5f3a \uff01   \u5df2 \u7ed9\u51fa \u4e24\u4e2a   \u94a9\u5b50 \u51fd\u6570   \u4f9b \u62d3\u5c55 \u4f7f\u7528","title":"\u6d4b\u8bd5 ayaka \u884d\u751f \u63d2\u4ef6"},{"location":"develop/test/#_1","text":"\u4e0b\u8f7d \u672c \u5957\u4ef6   git   clone   https : / / github . com / bridgeL / nonebot - plugin - ayaka . git   \uff08 \u5957\u4ef6 \u4e2d \u81ea\u5e26 \u6700\u65b0 \u7248\u672c \u7684 ayaka \uff09   \u5b89\u88c5 \u4f9d\u8d56   pip   install   - r   requirements . txt   \u5c06 \u5f85 \u6d4b\u8bd5 \u7684 ayaka \u884d\u751f \u63d2\u4ef6 \u653e\u5165 plugins \u76ee\u5f55 \u4e0b   \u542f\u52a8   python   bot . py","title":"\u4f7f\u7528 \u65b9\u6cd5"},{"location":"develop/test/#_2","text":"\u547d\u4ee4   \u529f\u80fd   g   < group _ id >   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u7fa4\u804a \u6d88\u606f   p   < user _ id >   < text >   \u4f2a\u9020 \u4e00\u6761 \u79c1\u804a \u6d88\u606f   d   1   \u5ef6\u65f6 1 \u79d2   dn   0.1   \u5ef6\u65f6 0.1 \u79d2 \u540e\u7a7a \u4e00\u884c   sa   on / off   \u6253\u5f00 / \u5173\u95ed   \u5bf9 nonebot \u6536\u53d1 \u6d88\u606f \u7684 \u91c7\u6837   s   test   \u6267\u884c script / test . ini \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c","title":"\u901a\u7528 \u547d\u4ee4"},{"location":"develop/test/#_3","text":"","title":"\u81ea\u52a8\u5316 \u811a\u672c"},{"location":"develop/test/#_4","text":"\u547d\u4ee4   \u529f\u80fd   before   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u524d \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   after   < cmd >   \u6bcf \u4e00\u6761 \u547d\u4ee4 \u6267\u884c \u540e \u9700 \u989d\u5916 \u6267\u884c \u7684 \u547d\u4ee4   ;   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09   #   \u6ce8\u91ca \uff08 \u5fc5\u987b \u653e\u5728 \u6bcf \u4e00\u884c \u7684 \u5f00\u5934 \uff09","title":"\u989d\u5916 \u547d\u4ee4"},{"location":"develop/test/#_5","text":"#   \u7528\u4e8e \u533a\u5206 \u4e0d\u540c \u5bf9\u8bdd \u6bb5 ( \u6240\u6709 \u81ea\u52a8 \u81ea\u52a8\u5316 \u811a\u672c \u9ed8\u8ba4 \u5177\u6709 \u6b64\u6761 \u6548\u679c \uff0c \u65e0\u9700 \u4e13\u95e8 \u4e66\u5199 )   #   after   dn   0.1   #   \u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u5982\u4e0b \u8bed\u53e5 \u5173\u95ed \u9ed8\u8ba4 \u6548\u679c   #   after   #   \u5f00\u59cb \u6d4b\u8bd5   g   100   1   \u661f\u9645 \u65c5\u884c   g   100   1   hi   g   100   1   goto   \u6708\u7403   g   100   1   jump","title":"\u811a\u672c \u793a\u4f8b"},{"location":"develop/test/#ayaka_test","text":"\u867d\u7136 \u540d\u4e49 \u4e0a \u662f ayaka \u884d\u751f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6 \uff0c \u7136\u800c \u5176 \u4e0e ayaka \u6ca1 \u591a\u5c11 \u5173\u7cfb \uff0c \u53ef\u4ee5 \u76f4\u63a5 \u62ff \u53bb \u5f53 nonebot \u63d2\u4ef6 \u7684 \u6d4b\u8bd5 \u5957\u4ef6   \u4e0d\u8fc7 \uff0c \u7531\u4e8e \u53ea \u6a21\u4eff \u4e86 \u51e0\u6761 \u529f\u80fd \uff0c \u56e0\u6b64 \u66f4 \u591a \u7684 \u8fd8\u662f \u9002\u7528 \u4e8e \u6587\u5b57 \u6e38\u620f \u6587\u5b57\u6e38\u620f \u63d2\u4ef6 \u7684 \u6d4b\u8bd5   \u5728 ayaka _ test \u4e2d \uff0c \u5206\u522b \u7ed9\u51fa \u4e86 \u4e24\u4e2a \u94a9\u5b50 \u51fd\u6570   fake _ qq . on _ terminal   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u7ec8\u7aef \u547d\u4ee4   fake _ qq . on _ cqhttp   \u7f16\u5199 \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u7684 \u5047 cqhttp \u7684 api   \u5177\u4f53 \u7f16\u5199 \u53ef \u5206\u522b \u53c2\u8003   ayaka _ test / terminal . py   \u548c   ayaka _ test / cqhttp . py   \u6587\u4ef6   \u901a\u8fc7 \u5b83\u4eec \u4e3a \u5047 cqhttp \u62d3\u5c55 \u66f4 \u529f\u80fd \u591a\u529f\u80fd \u5427","title":"\u5982\u4f55 \u589e\u5f3a ayaka _ test"},{"location":"develop/test/#win10-fastapi-reload","text":"\u6d4b\u8bd5 \u5957\u4ef6 \u53ef\u80fd \u4f1a \u5728 \u7279\u5b9a \u60c5\u51b5 \u4e0b \u5361\u6b7b \uff0c \u65e0\u6cd5 \u7ed3\u675f \u8fdb\u7a0b \uff0c \u4ece\u800c \u5360\u7528 \u6d4b\u8bd5 \u7aef\u53e3   win10 \u53ef \u5c1d\u8bd5 \u8fd0\u884c   python   clean . py   \u6e05\u7406 \u5361\u6b7b \u7684 \u8fdb\u7a0b","title":"win10   fastapi   reload \u5361\u6b7b \u95ee\u9898"},{"location":"develop/test/#_6","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"develop/timer/","text":"from   datetime   import   datetime   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   @ app   .   on _ interval   (   gap   =   60   ,   s   =   10   )   async   def   func   ( ) :   ' ' ' x \u65f6 x \u5206 10 \u79d2 \u65f6\u62a5 \u65f6 \u4e00\u6b21 \uff0c 60s \u4e00 \u5faa\u73af   =   \u5206\u949f \u6bcf\u5206\u949f \u7684 \u7b2c 10s \u62a5\u65f6 ' ' '   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   str   (   datetime   .   now   ( ) ) )   \" Bot \"   \u8bf4 \uff1a 2022 - 12 - 17   22 : 54 : 10.984382   \" Bot \"   \u8bf4 \uff1a 2022 - 12 - 17   22 : 55 : 10.995215   from   datetime   import   datetime   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   @ app   .   on _ interval   (   gap   =   3600   ,   s   =   0   ,   m   =   0   )   async   def   func   ( ) :   ' ' ' x \u65f6 0 \u5206 0 \u79d2 \u65f6\u62a5 \u65f6 \u4e00\u6b21 \uff0c 3600s \u4e00 \u5faa\u73af   =   \u6574\u70b9 \u62a5\u65f6 ' ' '   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   str   (   datetime   .   now   ( ) ) )   from   datetime   import   datetime   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" test \"   )   @ app   .   on _ everyday   (   h   =   8   ,   s   =   0   ,   m   =   0   )   async   def   func   ( ) :   ' ' ' \u6bcf\u5929 8 \u65f6 0 \u5206 0 \u79d2 \u65f6\u62a5 \u65f6 \u4e00\u6b21 ' ' '   await   app   .   t _ send   (   bot _ id   =   123   ,   group _ id   =   100   ,   message   =   str   (   datetime   .   now   ( ) ) )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5b9a\u65f6 \u4efb\u52a1"},{"location":"develop/timer/#_1","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/","text":"\u672c\u9875 \u4e3a   ayaka \u6587\u5b57 \u6e38\u620f \u5c0f\u6e38\u620f   \u7684 \u5e2e\u52a9 \u6587\u6863 \uff0c \u6258\u7ba1 \u5728   ayaka   \u7684 \u5e2e\u52a9 \u6587\u6863 \u4e0b   \u57fa\u7840 \u529f\u80fd   \u00b6   \u80cc\u5305   \u7b7e\u5230   \u6e38\u620f \u5217\u8868   \u00b6   \u5370\u52a0 \u5b9d\u85cf   @ \u706f\u591c   \u63a5\u9f99 \uff08 \u591a \u9898\u5e93 \u53ef \u9009 \uff0c \u539f\u795e / \u6210\u8bed \uff09   \u8c01 \u662f \u5367\u5e95   \u62a2 30   mana   \u52a0 \u4e00\u79d2   24 \u70b9 / 48 \u70b9   \u539f\u795e \u968f\u673a \u4e8b\u4ef6   \u5176\u4ed6 \u529f\u80fd   \u00b6   \u5176\u5b9e \u662f \u6253\u5305 \u7684 \u65f6\u5019 \u5fd8 \u5220 \u4e86   b \u7ad9 \u5c0f \u7a0b\u5e8f \u5361\u7247 / \u89c6\u9891 \u5730\u5740   \u81ea\u52a8 \u89e3\u6790   \u7559\u8a00   \u7f29\u5199 \u7ffb\u8bd1   \u7279\u522b \u611f\u8c22 \u7279\u522b\u611f\u8c22   \u00b6   @ \u706f\u591c   \u5927\u4f6c \u7684 \u63d2\u4ef6 \u86ee \u597d\u73a9 \u7684 ~   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u4ecb\u7ecd"},{"location":"games/#_1","text":"\u80cc\u5305   \u7b7e\u5230","title":"\u57fa\u7840 \u529f\u80fd"},{"location":"games/#_2","text":"\u5370\u52a0 \u5b9d\u85cf   @ \u706f\u591c   \u63a5\u9f99 \uff08 \u591a \u9898\u5e93 \u53ef \u9009 \uff0c \u539f\u795e / \u6210\u8bed \uff09   \u8c01 \u662f \u5367\u5e95   \u62a2 30   mana   \u52a0 \u4e00\u79d2   24 \u70b9 / 48 \u70b9   \u539f\u795e \u968f\u673a \u4e8b\u4ef6","title":"\u6e38\u620f \u5217\u8868"},{"location":"games/#_3","text":"\u5176\u5b9e \u662f \u6253\u5305 \u7684 \u65f6\u5019 \u5fd8 \u5220 \u4e86   b \u7ad9 \u5c0f \u7a0b\u5e8f \u5361\u7247 / \u89c6\u9891 \u5730\u5740   \u81ea\u52a8 \u89e3\u6790   \u7559\u8a00   \u7f29\u5199 \u7ffb\u8bd1","title":"\u5176\u4ed6 \u529f\u80fd"},{"location":"games/#_4","text":"@ \u706f\u591c   \u5927\u4f6c \u7684 \u63d2\u4ef6 \u86ee \u597d\u73a9 \u7684 ~","title":"\u7279\u522b\u611f\u8c22"},{"location":"games/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/change-log/","text":"\u91cd\u5199 \u4e4b\u540e \u679c\u7136 \u51fa \u4e86 \u597d\u51e0 \u51e0\u5904 \u597d\u51e0\u5904 bug \uff0c \u770b\u6765 \u4e0d\u5f97 \u4e0d\u5f97\u4e0d \u5199 \u4e00\u4e0b \u66f4\u65b0 \u65e5\u5fd7 \u4e86   0.4 . 3   \u00b6   \u65b0 \u7279\u6027 \uff1a \u63d2\u4ef6 \u52a0\u8f7d \u8017\u65f6 \u4ece 3s \u7f29\u77ed \u5230 1s   0.4 . 4   \u00b6   \u4fee\u590d BUG \uff1a 24 \u70b9 \u65e0\u6cd5 \u6b63\u786e \u5173\u95ed   \u65b0 \u7279\u6027 \uff1a \u63d0\u4f9b \u4e86 \u66f4 \u591a \u53ef \u914d\u7f6e \u9879   0.4 . 5   \u00b6   \u4fee\u590d BUG \uff1a 24 \u70b9 \u6b63\u786e \u8ba1\u7b97 \u540e \u53d1\u751f \u62a5\u9519   \u4fee\u590d BUG \uff1a \u7559\u8a00 \u529f\u80fd \u610f\u5916 \u7684 \u963b\u788d \u4e86 \u63a5\u9f99 \u529f\u80fd \u7684 \u8fd0\u884c","title":"\u66f4\u65b0 \u65e5\u5fd7"},{"location":"games/change-log/#043","text":"\u65b0 \u7279\u6027 \uff1a \u63d2\u4ef6 \u52a0\u8f7d \u8017\u65f6 \u4ece 3s \u7f29\u77ed \u5230 1s","title":"0.4 . 3"},{"location":"games/change-log/#044","text":"\u4fee\u590d BUG \uff1a 24 \u70b9 \u65e0\u6cd5 \u6b63\u786e \u5173\u95ed   \u65b0 \u7279\u6027 \uff1a \u63d0\u4f9b \u4e86 \u66f4 \u591a \u53ef \u914d\u7f6e \u9879","title":"0.4 . 4"},{"location":"games/change-log/#045","text":"\u4fee\u590d BUG \uff1a 24 \u70b9 \u6b63\u786e \u8ba1\u7b97 \u540e \u53d1\u751f \u62a5\u9519   \u4fee\u590d BUG \uff1a \u7559\u8a00 \u529f\u80fd \u610f\u5916 \u7684 \u963b\u788d \u4e86 \u63a5\u9f99 \u529f\u80fd \u7684 \u8fd0\u884c","title":"0.4 . 5"},{"location":"games/help/","text":"\u8fd9\u4e9b \u5e2e\u52a9 \u4e5f \u53ef\u4ee5 \u5728 \u542f\u52a8 bot \u540e \uff0c \u4f7f\u7528 help \u6307\u4ee4 \u83b7\u53d6   \u4f8b\u5982 \uff1a   \u67e5\u770b \u6240\u6709 \u63d2\u4ef6   # plugin   \u67e5\u770b \u6240\u6709 \u4ecb\u7ecd   # help   \u67e5\u770b \u8be6\u7ec6 \u5e2e\u52a9   # help   \u8c01 \u662f \u5367\u5e95   \u5370\u52a0 \u5b9d\u85cf   \u00b6   \u6b22\u8fce \u4f7f\u7528 \u5370\u52a0 \u5b9d\u85cf 2.0   -   incan / \u5370\u52a0   |   \u6253\u5f00 \u5e94\u7528   [ incan ]   -   exit / quit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f   -   rule / document / doc   |   \u67e5\u770b \u89c4\u5219   [ incan . gaming ]   -   go / forward   |   \u524d\u8fdb   -   back / retreat / escape   |   \u64a4\u9000   -   status / \u72b6\u6001   |   \u67e5\u770b \u72b6\u6001   [ incan . room ]   -   start / run   |   \u5f00\u59cb \u6e38\u620f   -   join   |   \u52a0\u5165 \u6e38\u620f   -   status / \u72b6\u6001   |   \u67e5\u770b \u72b6\u6001   \u63a5\u9f99   \u00b6   \u63a5\u9f99 \uff0c \u5728 \u804a\u5929 \u65f6 \u9759\u9ed8 \u8fd0\u884c   -   < \u4efb\u610f \u6587\u5b57 >   -   \u63a5\u9f99   |   \u8fdb\u5165 \u7ba1\u7406 \u9762\u677f   [ \u63a5\u9f99 ]   -   < \u4efb\u610f \u6587\u5b57 >   -   exit / \u9000\u51fa   |   \u5173\u95ed \u5e94\u7528   -   list   |   \u5217\u51fa \u6240\u6709 \u8bcd\u5e93   -   use   < name >   |   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93   < name >   \u8bcd\u5e93 \u540d\u79f0   -   unuse   < name >   |   \u5173\u95ed \u6307\u5b9a \u8bcd\u5e93   < name >   \u8bcd\u5e93 \u540d\u79f0   -   data   |   \u5c55\u793a \u4f60 \u7684 \u7b54\u9898 \u6570\u636e   -   rank   |   \u5c55\u793a \u6392\u884c \u6392\u884c\u699c   -   auto   < name >   < start >   < max _ len >   |   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93 \u548c \u8d77\u59cb \u70b9 \u81ea\u52a8 \u63a5\u9f99 n \u4e2a   < name >   \u8bcd\u5e93 \u540d\u79f0   < start >   \u5f00\u5934 \u8bcd   < max _ len >   \u6700\u5927 \u63a5\u9f99 \u957f\u5ea6   \u62a2 30   \u00b6   \u81f3\u5c11 2 \u4eba \u6e38\u73a9 \uff0c \u4e00\u5c40 \u5185 \u8fdb\u884c \u591a\u8f6e \u53eb\u724c \uff0c \u8c01 \u6700\u5148 \u8fbe\u5230 \u6216 \u8d85\u8fc7 30 \u70b9 \u8c01 \u83b7\u80dc   \u603b\u5171 52 \u5f20\u724c \uff0c \u76f4\u5230 \u5168\u90e8 \u7528 \u5b8c\u540e \u624d \u4f1a \u6d17\u724c \uff0c \u53ea\u8981 \u4e0d \u9000\u51fa \u6e38\u620f \uff0c \u4e0b\u5c40 \u7684 \u724c\u5e93 \u5c06 \u7ee7\u627f \u4e0a\u5c40   \u9996\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u4e3a 10 \uff0c \u6bcf\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 + 1   -   \u62a2 30   |   \u6253\u5f00 \u6e38\u620f   [ \u62a2 30 . room ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   |   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   |   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   |   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u623f\u95f4 \u4fe1\u606f   [ \u62a2 30 . play ]   -   exit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u5f53\u524d \u724c \u3001 \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u3001 \u62a5\u4ef7   -   < \u4efb\u610f \u6587\u5b57 >   < number >   |   \u62a5\u4ef7 \u53eb\u724c \uff0c \u8981\u4e48 \u4e3a 0 \uff0c \u8981\u4e48 \u6bd4\u4e0a \u4e00\u4e2a \u4eba\u9ad8 \uff0c \u5982\u679c \u5168\u5458 \u62a5\u4ef7 \u4e3a 0 \uff0c \u5219 \u672c\u8f6e \u5e84\u5bb6 \u83b7\u5f97 \u8be5\u724c   < number >   \u81f3\u5c11 \u4e3a 0   mana   \u00b6   = = = = =   m   a   n   a   = = = = =   \u6b22\u6109 \u3001 \u60bc\u4ea1 \u3001 \u6df1\u6e0a \u3001 \u667a\u6167   = = = = =   = = = = = = =   = = = = =   -   mana / \u739b\u5a1c   |   \u6253\u5f00 \u5e94\u7528   [ mana ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u5e94\u7528   -   divine / \u5360\u535c   |   < \u6570\u5b57 >   \u82b1\u8d39 1 \u739b\u5a1c \uff0c \u7948\u6c42 \u795e \u7684 \u56de\u5e94   -   pray / \u7948\u7977   < number >   |   \u82b1\u8d39 n \u739b\u5a1c \uff0c \u611f\u53d7 \u795e \u7684 \u547c\u5438   < number >   \u81f3\u5c11 \u82b1\u8d39 1   -   mana   < number >   < number >   \u6b63\u6570 \u4e3a \u4e70\u5165 \uff0c \u8d1f\u6570 \u4e3a \u5356\u51fa \uff0c 0 \u4e3a \u67e5\u8be2   \u52a0 \u4e00\u79d2   \u00b6   \u6bcf\u4eba \u521d\u59cb \u65f6\u95f4 \u503c\u4e3a 0   \u6bcf\u6709 3 \u4e2a \u4e0d\u540c \u7684 \u4eba \u6267\u884c \u4e00\u6b21 \u6216 \u82e5\u5e72 \u82e5\u5e72\u6b21 \u52a0 1 \uff0c boss \u5c31 \u4f1a \u5b8c\u6210 \u84c4\u529b \uff0c \u5438\u53d6 \u76ee\u524d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u4eba \u7684 \u65f6\u95f4 \uff0c \u5982\u679c \u6709 \u591a \u4eba \uff0c \u5219 \u90fd \u88ab \u5438\u53d6   boss \u65f6\u95f4 \u503c > = 17 \u65f6 \uff0c \u6e38\u620f \u7ed3\u675f \uff0c boss \u5c06 \u5e26\u8d70 \u6240\u6709 \u6bd4 \u4ed6 \u65f6\u95f4 \u503c\u9ad8 \u7684 \u4eba \uff0c \u5269\u4f59 \u4eba\u4e2d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u83b7\u80dc \uff0c \u4e16\u754c \u91cd\u542f   -   \u52a0 \u4e00\u79d2   |   \u542f\u52a8 \u6e38\u620f   [ \u52a0 \u4e00\u79d2 ]   -   exit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f \uff08 \u6570\u636e \u4fdd\u7559 \uff09   -   \u6211 \u7684   |   \u67e5\u770b \u4f60 \u76ee\u524d \u7684 \u65f6\u95f4   -   boss   |   \u67e5\u770b boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u5168\u90e8   |   \u67e5\u770b \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u53c2\u4e0e \u60c5\u51b5 \uff0c \u4ee5\u53ca boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u52a0 1 / \u52a0\u4e00 / \\ + 1 / \\ + 1s   |   \u8ba9 \u4f60 \u7684 \u65f6\u95f4 + 1   24 \u70b9 / 48 \u70b9   \u00b6   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 24 \u70b9   -   24 \u70b9   |   \u542f\u52a8 \u6e38\u620f   [ 24 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u6253\u5f00 \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 48 \u70b9   -   48 \u70b9   |   \u542f\u52a8 \u6e38\u620f   [ 48 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u6253\u5f00 \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \u539f\u795e \u968f\u673a \u4e8b\u4ef6   \u00b6   -   \u539f\u795e \u968f\u673a \u4e8b\u4ef6   < event >   < event >   \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u4e8b\u4ef6   \u80cc\u5305   \u00b6   \u67e5\u770b \u62e5\u6709 \u8d22\u5bcc   -   bag / \u80cc\u5305   < user >   < user >   \u67e5\u8be2 \u76ee\u6807 \u7684 QQ\u53f7 / \u540d\u79f0 / @ xx   \u7b7e\u5230   \u00b6   -   \u4fee\u6539 \u7b7e\u5230 \u5956\u52b1   < number >   < number >   \u81f3\u5c11 \u4e3a 0   -   checkin / \u7b7e\u5230   \u6210\u8bed \u67e5\u8be2   \u00b6   \u6709\u6548 \u63d0\u9ad8 \u7fa4 \u6587\u5b66 \u6c1b\u56f4   -   \u67e5\u8be2 \u6210\u8bed / \u6210\u8bed \u67e5\u8be2   < word >   < word >   \u6210\u8bed","title":"\u66f4 \u591a \u5e2e\u52a9"},{"location":"games/help/#_1","text":"\u6b22\u8fce \u4f7f\u7528 \u5370\u52a0 \u5b9d\u85cf 2.0   -   incan / \u5370\u52a0   |   \u6253\u5f00 \u5e94\u7528   [ incan ]   -   exit / quit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f   -   rule / document / doc   |   \u67e5\u770b \u89c4\u5219   [ incan . gaming ]   -   go / forward   |   \u524d\u8fdb   -   back / retreat / escape   |   \u64a4\u9000   -   status / \u72b6\u6001   |   \u67e5\u770b \u72b6\u6001   [ incan . room ]   -   start / run   |   \u5f00\u59cb \u6e38\u620f   -   join   |   \u52a0\u5165 \u6e38\u620f   -   status / \u72b6\u6001   |   \u67e5\u770b \u72b6\u6001","title":"\u5370\u52a0 \u5b9d\u85cf"},{"location":"games/help/#_2","text":"\u63a5\u9f99 \uff0c \u5728 \u804a\u5929 \u65f6 \u9759\u9ed8 \u8fd0\u884c   -   < \u4efb\u610f \u6587\u5b57 >   -   \u63a5\u9f99   |   \u8fdb\u5165 \u7ba1\u7406 \u9762\u677f   [ \u63a5\u9f99 ]   -   < \u4efb\u610f \u6587\u5b57 >   -   exit / \u9000\u51fa   |   \u5173\u95ed \u5e94\u7528   -   list   |   \u5217\u51fa \u6240\u6709 \u8bcd\u5e93   -   use   < name >   |   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93   < name >   \u8bcd\u5e93 \u540d\u79f0   -   unuse   < name >   |   \u5173\u95ed \u6307\u5b9a \u8bcd\u5e93   < name >   \u8bcd\u5e93 \u540d\u79f0   -   data   |   \u5c55\u793a \u4f60 \u7684 \u7b54\u9898 \u6570\u636e   -   rank   |   \u5c55\u793a \u6392\u884c \u6392\u884c\u699c   -   auto   < name >   < start >   < max _ len >   |   \u4f7f\u7528 \u6307\u5b9a \u8bcd\u5e93 \u548c \u8d77\u59cb \u70b9 \u81ea\u52a8 \u63a5\u9f99 n \u4e2a   < name >   \u8bcd\u5e93 \u540d\u79f0   < start >   \u5f00\u5934 \u8bcd   < max _ len >   \u6700\u5927 \u63a5\u9f99 \u957f\u5ea6","title":"\u63a5\u9f99"},{"location":"games/help/#30","text":"\u81f3\u5c11 2 \u4eba \u6e38\u73a9 \uff0c \u4e00\u5c40 \u5185 \u8fdb\u884c \u591a\u8f6e \u53eb\u724c \uff0c \u8c01 \u6700\u5148 \u8fbe\u5230 \u6216 \u8d85\u8fc7 30 \u70b9 \u8c01 \u83b7\u80dc   \u603b\u5171 52 \u5f20\u724c \uff0c \u76f4\u5230 \u5168\u90e8 \u7528 \u5b8c\u540e \u624d \u4f1a \u6d17\u724c \uff0c \u53ea\u8981 \u4e0d \u9000\u51fa \u6e38\u620f \uff0c \u4e0b\u5c40 \u7684 \u724c\u5e93 \u5c06 \u7ee7\u627f \u4e0a\u5c40   \u9996\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u4e3a 10 \uff0c \u6bcf\u8f6e \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 + 1   -   \u62a2 30   |   \u6253\u5f00 \u6e38\u620f   [ \u62a2 30 . room ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   |   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   |   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   |   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u623f\u95f4 \u4fe1\u606f   [ \u62a2 30 . play ]   -   exit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u5f53\u524d \u724c \u3001 \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u7b79\u7801 \u3001 \u62a5\u4ef7   -   < \u4efb\u610f \u6587\u5b57 >   < number >   |   \u62a5\u4ef7 \u53eb\u724c \uff0c \u8981\u4e48 \u4e3a 0 \uff0c \u8981\u4e48 \u6bd4\u4e0a \u4e00\u4e2a \u4eba\u9ad8 \uff0c \u5982\u679c \u5168\u5458 \u62a5\u4ef7 \u4e3a 0 \uff0c \u5219 \u672c\u8f6e \u5e84\u5bb6 \u83b7\u5f97 \u8be5\u724c   < number >   \u81f3\u5c11 \u4e3a 0","title":"\u62a2 30"},{"location":"games/help/#mana","text":"= = = = =   m   a   n   a   = = = = =   \u6b22\u6109 \u3001 \u60bc\u4ea1 \u3001 \u6df1\u6e0a \u3001 \u667a\u6167   = = = = =   = = = = = = =   = = = = =   -   mana / \u739b\u5a1c   |   \u6253\u5f00 \u5e94\u7528   [ mana ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u5e94\u7528   -   divine / \u5360\u535c   |   < \u6570\u5b57 >   \u82b1\u8d39 1 \u739b\u5a1c \uff0c \u7948\u6c42 \u795e \u7684 \u56de\u5e94   -   pray / \u7948\u7977   < number >   |   \u82b1\u8d39 n \u739b\u5a1c \uff0c \u611f\u53d7 \u795e \u7684 \u547c\u5438   < number >   \u81f3\u5c11 \u82b1\u8d39 1   -   mana   < number >   < number >   \u6b63\u6570 \u4e3a \u4e70\u5165 \uff0c \u8d1f\u6570 \u4e3a \u5356\u51fa \uff0c 0 \u4e3a \u67e5\u8be2","title":"mana"},{"location":"games/help/#_3","text":"\u6bcf\u4eba \u521d\u59cb \u65f6\u95f4 \u503c\u4e3a 0   \u6bcf\u6709 3 \u4e2a \u4e0d\u540c \u7684 \u4eba \u6267\u884c \u4e00\u6b21 \u6216 \u82e5\u5e72 \u82e5\u5e72\u6b21 \u52a0 1 \uff0c boss \u5c31 \u4f1a \u5b8c\u6210 \u84c4\u529b \uff0c \u5438\u53d6 \u76ee\u524d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u4eba \u7684 \u65f6\u95f4 \uff0c \u5982\u679c \u6709 \u591a \u4eba \uff0c \u5219 \u90fd \u88ab \u5438\u53d6   boss \u65f6\u95f4 \u503c > = 17 \u65f6 \uff0c \u6e38\u620f \u7ed3\u675f \uff0c boss \u5c06 \u5e26\u8d70 \u6240\u6709 \u6bd4 \u4ed6 \u65f6\u95f4 \u503c\u9ad8 \u7684 \u4eba \uff0c \u5269\u4f59 \u4eba\u4e2d \u65f6\u95f4 \u503c \u6700\u9ad8 \u7684 \u83b7\u80dc \uff0c \u4e16\u754c \u91cd\u542f   -   \u52a0 \u4e00\u79d2   |   \u542f\u52a8 \u6e38\u620f   [ \u52a0 \u4e00\u79d2 ]   -   exit / \u9000\u51fa   |   \u9000\u51fa \u6e38\u620f \uff08 \u6570\u636e \u4fdd\u7559 \uff09   -   \u6211 \u7684   |   \u67e5\u770b \u4f60 \u76ee\u524d \u7684 \u65f6\u95f4   -   boss   |   \u67e5\u770b boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u5168\u90e8   |   \u67e5\u770b \u6240\u6709 \u6709\u4eba \u6240\u6709\u4eba \u53c2\u4e0e \u60c5\u51b5 \uff0c \u4ee5\u53ca boss \u7684 \u65f6\u95f4 \u548c \u80fd\u91cf   -   \u52a0 1 / \u52a0\u4e00 / \\ + 1 / \\ + 1s   |   \u8ba9 \u4f60 \u7684 \u65f6\u95f4 + 1","title":"\u52a0 \u4e00\u79d2"},{"location":"games/help/#2448","text":"\u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 24 \u70b9   -   24 \u70b9   |   \u542f\u52a8 \u6e38\u620f   [ 24 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u6253\u5f00 \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \u52a0\u51cf \u4e58\u9664 \u52a0\u51cf\u4e58\u9664 \u6b21\u65b9 \uff0c 5 \u79cd \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u53ef\u7528 \uff1b \u7ed9\u51fa 4 \u4e2a 1 - 13 \u8303\u56f4 \u5185 \u7684 \u6570\u5b57 \uff0c \u8bf7 \u901a\u8fc7 \u4ee5\u4e0a \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \u7b97\u51fa 48 \u70b9   -   48 \u70b9   |   \u542f\u52a8 \u6e38\u620f   [ 48 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u6253\u5f00 \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )","title":"24 \u70b9 / 48 \u70b9"},{"location":"games/help/#_4","text":"-   \u539f\u795e \u968f\u673a \u4e8b\u4ef6   < event >   < event >   \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u4e8b\u4ef6","title":"\u539f\u795e \u968f\u673a \u4e8b\u4ef6"},{"location":"games/help/#_5","text":"\u67e5\u770b \u62e5\u6709 \u8d22\u5bcc   -   bag / \u80cc\u5305   < user >   < user >   \u67e5\u8be2 \u76ee\u6807 \u7684 QQ\u53f7 / \u540d\u79f0 / @ xx","title":"\u80cc\u5305"},{"location":"games/help/#_6","text":"-   \u4fee\u6539 \u7b7e\u5230 \u5956\u52b1   < number >   < number >   \u81f3\u5c11 \u4e3a 0   -   checkin / \u7b7e\u5230","title":"\u7b7e\u5230"},{"location":"games/help/#_7","text":"\u6709\u6548 \u63d0\u9ad8 \u7fa4 \u6587\u5b66 \u6c1b\u56f4   -   \u67e5\u8be2 \u6210\u8bed / \u6210\u8bed \u67e5\u8be2   < word >   < word >   \u6210\u8bed","title":"\u6210\u8bed \u67e5\u8be2"},{"location":"games/install/","text":"\u5b89\u88c5   \u00b6   nb   plugin   install   nonebot - plugin - ayaka - games   \u914d\u7f6e   \u00b6   \u4fee\u6539 \u914d\u7f6e \u540e \u9700\u8981   \u91cd\u542f bot   \u624d \u751f\u6548 \uff01   \u6839 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09   \u00b6   ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff08 \u56e0\u4e3a \u62c5\u5fc3 \u548c \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09 \uff0c \u4f4d\u4e8e   data / ayaka   \u76ee\u5f55 \u4e0b   \u547d\u4ee4 \u524d\u7f00 \u9ed8\u8ba4 \u4e3a   #   \uff0c \u53ef\u4ee5 \u4fee\u6539   data / ayaka / ayaka _ setting . json   \u6587\u4ef6 \u8fdb\u884c \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u914d\u7f6e   {   \" __ root __ \"   :   {   / /   \u53ef \u4fee\u6539 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \uff0c \u6216 \u4f60 \u4e60\u60ef \u7684 \u5176\u4ed6 \u524d\u7f00   \" prefix \"   :   \" # \"   ,   / /   ...   }   / /   ...   }   \u63a5\u9f99 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09   \u00b6   \u4f4d\u7f6e   data \\ ayaka \\ separate \\ \u63a5\u9f99 . json   \u53ef\u4ee5 \u81ea\u884c \u6dfb\u52a0 \u81ea\u884c\u6dfb\u52a0 \u4f60 \u60f3\u8981 \u7684 \u8bcd\u6c47 \uff0c \u683c\u5f0f \u5982\u4e0b   {   / /   \u63a5\u9f99 \u6210\u529f \u7684 \u5956\u52b1 \u91d1\u989d   \" reward \"   :   1000   ,   / /   \u591a\u4e2a \u63a5\u9f99 \u8bcd\u5e93   \" dragon _ list \"   :   [   {   / /   \u8bcd\u5e93 \u540d\u79f0 \uff08 \u4e0d\u8981 \u91cd\u590d   \" name \"   :   \" \u6210\u8bed \"   ,   / /   \u8bcd\u5e93 \u5185\u5bb9   \" words \"   :   [   / / ...   ]   }   / / ...   ]   }   \u7b7e\u5230 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09   \u00b6   \u4f4d\u7f6e   data / ayaka / ayaka _ setting . json   {   \" \u7b7e\u5230 \"   :   {   / /   \u7b7e\u5230 \u5956\u52b1 \u91d1\u989d   \" reward _ money \"   :   10000   }   / /   ...   }   \u8c01 \u662f \u5367\u5e95 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09   \u00b6   \u4f4d\u7f6e   data \\ ayaka \\ separate \\ \u8c01 \u662f \u5367\u5e95 . json   \u53ef\u4ee5 \u81ea\u884c \u6dfb\u52a0 \u81ea\u884c\u6dfb\u52a0 \u4f60 \u60f3\u8981 \u7684 \u8bcd\u6c47 \uff0c \u683c\u5f0f \u5982\u4e0b   {   \" data \"   :   [   [   / /   \u666e\u901a \u901a\u4eba \u666e\u901a\u4eba   \" \u955c\u5b50 \"   ,   / /   \u5367\u5e95   \" \u73bb\u7483 \"   ] ,   / / ...   ]   }   \u4f7f\u7528 \u793a\u4f8b   \u00b6   \u542f\u52a8 bot \u540e \uff0c \u53d1\u9001 \u6307\u4ee4   \" user \"   \u8bf4 \uff1a # 24 \u70b9   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ 24 \u70b9 ]   \" Bot \"   \u8bf4 \uff1a [ 24 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u5173\u95ed \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \" Bot \"   \u8bf4 \uff1a 3   8   8   9   TIPS \uff1a \u672c\u9898 \u81f3\u5c11 \u6709 4 \u79cd \u7b54\u6848 \uff08 \u4f7f\u7528 \u4e0d\u540c \u7684 \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \uff09   \" user \"   \u8bf4 \uff1a 3 * ( 9 - 8 / 8 )   \" Bot \"   \u8bf4 \uff1a 3 * ( 9 - ( 8 / 8 ) )   =   24.0   \u6b63\u786e \uff01   \" Bot \"   \u8bf4 \uff1a \u5956\u52b1 1000 \u91d1   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ 24 \u70b9 ]   \u4e5f \u6709 \u4e00\u4e9b \u5e94\u7528 \u65e0\u9700 \u53d1\u9001 \u6307\u4ee4   \" user \"   \u8bf4 \uff1a \u5b89\u6b65\u5f53\u8f66   \" Bot \"   \u8bf4 \uff1a \u8f66\u8f7d \u6597\u91cf \u8f66\u8f7d\u6597\u91cf   \" user \"   \u8bf4 \uff1a \u6881\u4e0a \u541b\u5b50 \u6881\u4e0a\u541b\u5b50   \" Bot \"   \u8bf4 \uff1a [ \u6d4b\u8bd5 1 \u53f7 ]   \u63a5\u9f99 \u6210\u529f \uff01 \u5956\u52b1 1000 \u91d1   \" Bot \"   \u8bf4 \uff1a \u5b73\u5b73\u77fb\u77fb   \" user \"   \u8bf4 \uff1a \u5b73\u5b73\u77fb\u77fb   \" Bot \"   \u8bf4 \uff1a \u67af\u84ec\u65ad\u8349   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5b89\u88c5 \u4e0e \u914d\u7f6e"},{"location":"games/install/#_1","text":"nb   plugin   install   nonebot - plugin - ayaka - games","title":"\u5b89\u88c5"},{"location":"games/install/#_2","text":"\u4fee\u6539 \u914d\u7f6e \u540e \u9700\u8981   \u91cd\u542f bot   \u624d \u751f\u6548 \uff01","title":"\u914d\u7f6e"},{"location":"games/install/#_3","text":"ayaka \u4f7f\u7528 \u5355\u72ec \u7684 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff08 \u56e0\u4e3a \u62c5\u5fc3 \u548c \u5176\u4ed6 \u63d2\u4ef6 \u51b2\u7a81 \uff09 \uff0c \u4f4d\u4e8e   data / ayaka   \u76ee\u5f55 \u4e0b   \u547d\u4ee4 \u524d\u7f00 \u9ed8\u8ba4 \u4e3a   #   \uff0c \u53ef\u4ee5 \u4fee\u6539   data / ayaka / ayaka _ setting . json   \u6587\u4ef6 \u8fdb\u884c \u81ea\u5b9a \u5b9a\u4e49 \u81ea\u5b9a\u4e49 \u914d\u7f6e   {   \" __ root __ \"   :   {   / /   \u53ef \u4fee\u6539 \u4e3a\u7a7a \u5b57\u7b26 \u5b57\u7b26\u4e32 \uff0c \u6216 \u4f60 \u4e60\u60ef \u7684 \u5176\u4ed6 \u524d\u7f00   \" prefix \"   :   \" # \"   ,   / /   ...   }   / /   ...   }","title":"\u6839 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09"},{"location":"games/install/#_4","text":"\u4f4d\u7f6e   data \\ ayaka \\ separate \\ \u63a5\u9f99 . json   \u53ef\u4ee5 \u81ea\u884c \u6dfb\u52a0 \u81ea\u884c\u6dfb\u52a0 \u4f60 \u60f3\u8981 \u7684 \u8bcd\u6c47 \uff0c \u683c\u5f0f \u5982\u4e0b   {   / /   \u63a5\u9f99 \u6210\u529f \u7684 \u5956\u52b1 \u91d1\u989d   \" reward \"   :   1000   ,   / /   \u591a\u4e2a \u63a5\u9f99 \u8bcd\u5e93   \" dragon _ list \"   :   [   {   / /   \u8bcd\u5e93 \u540d\u79f0 \uff08 \u4e0d\u8981 \u91cd\u590d   \" name \"   :   \" \u6210\u8bed \"   ,   / /   \u8bcd\u5e93 \u5185\u5bb9   \" words \"   :   [   / / ...   ]   }   / / ...   ]   }","title":"\u63a5\u9f99 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09"},{"location":"games/install/#_5","text":"\u4f4d\u7f6e   data / ayaka / ayaka _ setting . json   {   \" \u7b7e\u5230 \"   :   {   / /   \u7b7e\u5230 \u5956\u52b1 \u91d1\u989d   \" reward _ money \"   :   10000   }   / /   ...   }","title":"\u7b7e\u5230 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09"},{"location":"games/install/#_6","text":"\u4f4d\u7f6e   data \\ ayaka \\ separate \\ \u8c01 \u662f \u5367\u5e95 . json   \u53ef\u4ee5 \u81ea\u884c \u6dfb\u52a0 \u81ea\u884c\u6dfb\u52a0 \u4f60 \u60f3\u8981 \u7684 \u8bcd\u6c47 \uff0c \u683c\u5f0f \u5982\u4e0b   {   \" data \"   :   [   [   / /   \u666e\u901a \u901a\u4eba \u666e\u901a\u4eba   \" \u955c\u5b50 \"   ,   / /   \u5367\u5e95   \" \u73bb\u7483 \"   ] ,   / / ...   ]   }","title":"\u8c01 \u662f \u5367\u5e95 \u914d\u7f6e \uff08 \u53ef \u9009 \uff09"},{"location":"games/install/#_7","text":"\u542f\u52a8 bot \u540e \uff0c \u53d1\u9001 \u6307\u4ee4   \" user \"   \u8bf4 \uff1a # 24 \u70b9   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ 24 \u70b9 ]   \" Bot \"   \u8bf4 \uff1a [ 24 \u70b9 ]   -   \u9000\u51fa / exit / quit   |   \u5173\u95ed \u5e94\u7528   -   \u51fa\u9898 / \u4e00\u9898 \u4e0b\u4e00\u9898 / next   -   \u9898\u76ee / \u67e5\u770b \u9898\u76ee / \u67e5\u770b \u5f53\u524d \u9898\u76ee / \u5f53\u524d \u9898\u76ee / question   -   \u7b54\u6848 / answer   -   < \u4efb\u610f \u6587\u5b57 >   |   \u8bf7 \u4f7f\u7528 \u6b63\u786e \u7684 \u8868\u8fbe \u8fbe\u5f0f \u8868\u8fbe\u5f0f \uff0c \u4f8b\u5982   ( 1 + 2 ) * ( 3 + 3 )   \" Bot \"   \u8bf4 \uff1a 3   8   8   9   TIPS \uff1a \u672c\u9898 \u81f3\u5c11 \u6709 4 \u79cd \u7b54\u6848 \uff08 \u4f7f\u7528 \u4e0d\u540c \u7684 \u8fd0\u7b97 \u7b97\u7b26 \u8fd0\u7b97\u7b26 \uff09   \" user \"   \u8bf4 \uff1a 3 * ( 9 - 8 / 8 )   \" Bot \"   \u8bf4 \uff1a 3 * ( 9 - ( 8 / 8 ) )   =   24.0   \u6b63\u786e \uff01   \" Bot \"   \u8bf4 \uff1a \u5956\u52b1 1000 \u91d1   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ 24 \u70b9 ]   \u4e5f \u6709 \u4e00\u4e9b \u5e94\u7528 \u65e0\u9700 \u53d1\u9001 \u6307\u4ee4   \" user \"   \u8bf4 \uff1a \u5b89\u6b65\u5f53\u8f66   \" Bot \"   \u8bf4 \uff1a \u8f66\u8f7d \u6597\u91cf \u8f66\u8f7d\u6597\u91cf   \" user \"   \u8bf4 \uff1a \u6881\u4e0a \u541b\u5b50 \u6881\u4e0a\u541b\u5b50   \" Bot \"   \u8bf4 \uff1a [ \u6d4b\u8bd5 1 \u53f7 ]   \u63a5\u9f99 \u6210\u529f \uff01 \u5956\u52b1 1000 \u91d1   \" Bot \"   \u8bf4 \uff1a \u5b73\u5b73\u77fb\u77fb   \" user \"   \u8bf4 \uff1a \u5b73\u5b73\u77fb\u77fb   \" Bot \"   \u8bf4 \uff1a \u67af\u84ec\u65ad\u8349","title":"\u4f7f\u7528 \u793a\u4f8b"},{"location":"games/install/#_8","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"games/who-is-suspect/","text":"\u8c01 \u662f \u5367\u5e95 \u4f7f\u7528 \u5e2e\u52a9   \u00b6   [ \u8c01 \u662f \u5367\u5e95 ]   \u81f3\u5c11 4 \u4eba \u6e38\u73a9 \uff0c \u6e38\u73a9 \u524d \u8bf7\u52a0 bot \u597d\u53cb \uff0c \u5426\u5219 \u65e0\u6cd5 \u901a\u8fc7 \u79c1\u804a \u544a\u77e5 \u5173\u952e \u5173\u952e\u8bcd   \u53c2\u4e0e \u73a9\u5bb6 \u7684 \u7fa4 \u540d\u7247 \u4e0d\u8981 \u91cd\u540d \uff0c \u5426\u5219 \u4f1a \u4ea7\u751f \u975e \u9884\u671f \u7684 \u9519\u8bef = _ = | |   \u5367\u5e95 \u53ea\u6709 \u4e00\u4e2a   -   \u8c01 \u662f \u5367\u5e95   |   \u6253\u5f00 \u5e94\u7528   [ \u8c01 \u662f \u5367\u5e95 . room ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   |   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   |   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   |   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u623f\u95f4 \u623f\u95f4\u5185 \u6210\u5458 \u5217\u8868   [ \u8c01 \u662f \u5367\u5e95 . play ]   -   exit / \u9000\u51fa   -   info / \u4fe1\u606f   |   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   -   vote / \u6295\u7968   < user >   |   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   < user >   \u67e5\u8be2 \u76ee\u6807 \u7684 QQ\u53f7 / \u540d\u79f0 / @ xx   \u6ca1\u6709 \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \u65f6   \u00b6   \u6307\u4ee4   \u6548\u679c   help   \u8c01 \u662f \u5367\u5e95   \u67e5\u770b \u5e2e\u52a9   \u8c01 \u662f \u5367\u5e95   \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \uff0c \u5c06 \u521b\u5efa \u4e00\u4e2a \u6e38\u620f \u623f\u95f4   \u623f\u95f4 \u623f\u95f4\u5185   \u00b6   \u6307\u4ee4   \u6548\u679c   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   info / \u4fe1\u606f   \u5c55\u793a \u5df2 \u52a0\u5165 \u623f\u95f4 \u7684 \u4eba\u5458 \u5217\u8868   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a \u7531\u4e8e \u8981 \u79c1\u804a \u5173\u952e \u5173\u952e\u8bcd \uff0c \u6240\u4ee5 \u53c2\u4e0e \u4eba \u90fd \u8981 \u63d0\u524d \u52a0 bot \u597d\u53cb   \u6e38\u620f \u8fdb\u884c \u65f6   \u00b6   \u6307\u4ee4   \u6548\u679c   vote   < at >   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   info / \u4fe1\u606f   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a vote \u548c at \u95f4 \u52a0\u4e2a \u7a7a\u683c \uff08 \u4e00\u822c \u60c5\u51b5 \u4e0d\u52a0 \u4e0b\u4e0d\u52a0 \u4e5f \u884c \uff0c \u4f46 \u5982\u679c \u4f60 \u662f \u590d\u5236 \u4e86 \u5176\u4ed6 \u4ed6\u4eba \u5176\u4ed6\u4eba \u7684 \u6295\u7968 \uff0c \u90a3\u4e48 \u8981\u52a0 \u4e00\u4e2a \u7a7a\u683c \uff09   \u6ce8\u610f \uff1a \u6e38\u620f \u8fdb\u884c \u65f6 \u6ca1\u6709 \u4efb\u4f55 \u53d1\u8a00 \u987a\u5e8f \u63a7\u5236 \u987a\u5e8f\u63a7\u5236 \uff0c \u73a9\u5bb6 \u53ef\u4ee5 \u81ea\u884c \u534f\u5546 \u4e00\u4e2a \u53d1\u8a00 \u987a\u5e8f \uff0c \u6216\u8005 \u81ea\u7531 \u53d1\u8a00 \uff0c \u53ef\u4ee5 \u7ea6\u5b9a \u53d1\u8a00 \u4e00\u8f6e \uff0c \u4e5f \u53ef\u4ee5 \u7ea6\u5b9a \u53d1 \u591a\u8f6e \u540e \u518d \u6295\u7968 \uff0c \u90fd \u53ef\u4ee5 \uff0c \u4e0d \u505a \u9650\u5236   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u8c01 \u662f \u5367\u5e95"},{"location":"games/who-is-suspect/#_1","text":"[ \u8c01 \u662f \u5367\u5e95 ]   \u81f3\u5c11 4 \u4eba \u6e38\u73a9 \uff0c \u6e38\u73a9 \u524d \u8bf7\u52a0 bot \u597d\u53cb \uff0c \u5426\u5219 \u65e0\u6cd5 \u901a\u8fc7 \u79c1\u804a \u544a\u77e5 \u5173\u952e \u5173\u952e\u8bcd   \u53c2\u4e0e \u73a9\u5bb6 \u7684 \u7fa4 \u540d\u7247 \u4e0d\u8981 \u91cd\u540d \uff0c \u5426\u5219 \u4f1a \u4ea7\u751f \u975e \u9884\u671f \u7684 \u9519\u8bef = _ = | |   \u5367\u5e95 \u53ea\u6709 \u4e00\u4e2a   -   \u8c01 \u662f \u5367\u5e95   |   \u6253\u5f00 \u5e94\u7528   [ \u8c01 \u662f \u5367\u5e95 . room ]   -   exit / \u9000\u51fa   |   \u5173\u95ed \u6e38\u620f   -   join / \u52a0\u5165   |   \u52a0\u5165 \u623f\u95f4   -   leave / \u79bb\u5f00   |   \u79bb\u5f00 \u623f\u95f4   -   start / begin / \u5f00\u59cb   |   \u5f00\u59cb \u6e38\u620f   -   info / \u4fe1\u606f   |   \u5c55\u793a \u623f\u95f4 \u623f\u95f4\u5185 \u6210\u5458 \u5217\u8868   [ \u8c01 \u662f \u5367\u5e95 . play ]   -   exit / \u9000\u51fa   -   info / \u4fe1\u606f   |   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   -   vote / \u6295\u7968   < user >   |   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   < user >   \u67e5\u8be2 \u76ee\u6807 \u7684 QQ\u53f7 / \u540d\u79f0 / @ xx","title":"\u8c01 \u662f \u5367\u5e95 \u4f7f\u7528 \u5e2e\u52a9"},{"location":"games/who-is-suspect/#_2","text":"\u6307\u4ee4   \u6548\u679c   help   \u8c01 \u662f \u5367\u5e95   \u67e5\u770b \u5e2e\u52a9   \u8c01 \u662f \u5367\u5e95   \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \uff0c \u5c06 \u521b\u5efa \u4e00\u4e2a \u6e38\u620f \u623f\u95f4","title":"\u6ca1\u6709 \u6253\u5f00 \u6e38\u620f \u5e94\u7528 \u65f6"},{"location":"games/who-is-suspect/#_3","text":"\u6307\u4ee4   \u6548\u679c   join / \u52a0\u5165   \u52a0\u5165 \u623f\u95f4   leave / \u79bb\u5f00   \u79bb\u5f00 \u623f\u95f4   start / begin / \u5f00\u59cb   \u5f00\u59cb \u6e38\u620f   info / \u4fe1\u606f   \u5c55\u793a \u5df2 \u52a0\u5165 \u623f\u95f4 \u7684 \u4eba\u5458 \u5217\u8868   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a \u7531\u4e8e \u8981 \u79c1\u804a \u5173\u952e \u5173\u952e\u8bcd \uff0c \u6240\u4ee5 \u53c2\u4e0e \u4eba \u90fd \u8981 \u63d0\u524d \u52a0 bot \u597d\u53cb","title":"\u623f\u95f4\u5185"},{"location":"games/who-is-suspect/#_4","text":"\u6307\u4ee4   \u6548\u679c   vote   < at >   \u8bf7 at \u4f60 \u8981 \u6295\u7968 \u7684 \u5bf9\u8c61 \uff0c \u4e00\u65e6 \u6295\u7968 \u65e0\u6cd5 \u66f4\u6539   info / \u4fe1\u606f   \u5c55\u793a \u6295\u7968 \u60c5\u51b5   exit / \u9000\u51fa   \u5173\u95ed \u6e38\u620f   \u6ce8\u610f \uff1a vote \u548c at \u95f4 \u52a0\u4e2a \u7a7a\u683c \uff08 \u4e00\u822c \u60c5\u51b5 \u4e0d\u52a0 \u4e0b\u4e0d\u52a0 \u4e5f \u884c \uff0c \u4f46 \u5982\u679c \u4f60 \u662f \u590d\u5236 \u4e86 \u5176\u4ed6 \u4ed6\u4eba \u5176\u4ed6\u4eba \u7684 \u6295\u7968 \uff0c \u90a3\u4e48 \u8981\u52a0 \u4e00\u4e2a \u7a7a\u683c \uff09   \u6ce8\u610f \uff1a \u6e38\u620f \u8fdb\u884c \u65f6 \u6ca1\u6709 \u4efb\u4f55 \u53d1\u8a00 \u987a\u5e8f \u63a7\u5236 \u987a\u5e8f\u63a7\u5236 \uff0c \u73a9\u5bb6 \u53ef\u4ee5 \u81ea\u884c \u534f\u5546 \u4e00\u4e2a \u53d1\u8a00 \u987a\u5e8f \uff0c \u6216\u8005 \u81ea\u7531 \u53d1\u8a00 \uff0c \u53ef\u4ee5 \u7ea6\u5b9a \u53d1\u8a00 \u4e00\u8f6e \uff0c \u4e5f \u53ef\u4ee5 \u7ea6\u5b9a \u53d1 \u591a\u8f6e \u540e \u518d \u6295\u7968 \uff0c \u90fd \u53ef\u4ee5 \uff0c \u4e0d \u505a \u9650\u5236","title":"\u6e38\u620f \u8fdb\u884c \u65f6"},{"location":"games/who-is-suspect/#_5","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/install/","text":"\u5b89\u88c5   \u00b6   pip   install   nonebot - plugin - ayaka   \u6ce8\u610f   \u00b6   \u4e0d \u9700\u8981 \u7279\u610f \u5728   bot . py   \u4e2d \u52a0\u8f7d ayaka \u63d2\u4ef6 \uff0c \u53ea\u8981 \u6b63\u5e38 \u52a0\u8f7d ayaka \u884d\u751f \u63d2\u4ef6 \u5373\u53ef   ayaka \u884d\u751f \u63d2\u4ef6 \u4e2d \u4e5f \u53ea \u9700 \u6b63\u5e38 \u5bfc\u5165 ayaka \u5c31\u884c   from   ayaka   import   AyakaApp   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5b89\u88c5"},{"location":"intro/install/#_1","text":"pip   install   nonebot - plugin - ayaka","title":"\u5b89\u88c5"},{"location":"intro/install/#_2","text":"\u4e0d \u9700\u8981 \u7279\u610f \u5728   bot . py   \u4e2d \u52a0\u8f7d ayaka \u63d2\u4ef6 \uff0c \u53ea\u8981 \u6b63\u5e38 \u52a0\u8f7d ayaka \u884d\u751f \u63d2\u4ef6 \u5373\u53ef   ayaka \u884d\u751f \u63d2\u4ef6 \u4e2d \u4e5f \u53ea \u9700 \u6b63\u5e38 \u5bfc\u5165 ayaka \u5c31\u884c   from   ayaka   import   AyakaApp","title":"\u6ce8\u610f"},{"location":"intro/install/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/qa/","text":"\u9996\u5148 \u4fdd\u8bc1 \u7248\u672c \u6700\u65b0 \u7a33\u5b9a \u7a33\u5b9a\u7248   \u00b6   \u6700\u65b0 \u7a33\u5b9a \u7a33\u5b9a\u7248 \u6307\u672c \u6587\u6863 \u7248\u672c \u6807\u8bc6 \u4e3a   ( latest )   \u7684 \u7248\u672c   \u5378\u8f7d \u6240\u6709 \u51fa \u95ee\u9898 \u7684 \u63d2\u4ef6 \uff0c \u76f4\u5230 \u8fd0\u884c bot \u540e \u6ca1\u6709 \u62a5\u9519   \u7136\u540e \u91cd\u88c5 \u8fd9\u4e9b \u63d2\u4ef6 \uff0c \u76f4\u5230 bot \u51fa\u73b0 \u62a5\u9519 \uff08 \u4e5f \u53ef\u80fd \u4e0d\u518d \u6709 \u62a5\u9519 \uff0c \u95ee\u9898 \u89e3\u51b3 \uff09   \u5f85 \u5b8c\u5584   \u00b6   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"intro/qa/#_1","text":"\u6700\u65b0 \u7a33\u5b9a \u7a33\u5b9a\u7248 \u6307\u672c \u6587\u6863 \u7248\u672c \u6807\u8bc6 \u4e3a   ( latest )   \u7684 \u7248\u672c   \u5378\u8f7d \u6240\u6709 \u51fa \u95ee\u9898 \u7684 \u63d2\u4ef6 \uff0c \u76f4\u5230 \u8fd0\u884c bot \u540e \u6ca1\u6709 \u62a5\u9519   \u7136\u540e \u91cd\u88c5 \u8fd9\u4e9b \u63d2\u4ef6 \uff0c \u76f4\u5230 bot \u51fa\u73b0 \u62a5\u9519 \uff08 \u4e5f \u53ef\u80fd \u4e0d\u518d \u6709 \u62a5\u9519 \uff0c \u95ee\u9898 \u89e3\u51b3 \uff09","title":"\u9996\u5148 \u4fdd\u8bc1 \u7248\u672c \u6700\u65b0 \u7a33\u5b9a\u7248"},{"location":"intro/qa/#_2","text":"","title":"\u5f85 \u5b8c\u5584"},{"location":"intro/qa/#_3","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"},{"location":"intro/quick_start/","text":"\u5feb\u901f \u5f00\u59cb   \u00b6   \u7f16\u5199 \u4e00\u4e2a \u661f\u9645 \u65c5\u884c \u63d2\u4ef6 \uff0c \u4ece \u7b80\u5355 \u5230 \u590d\u6742   \u57fa\u672c \u4f7f\u7528   \u00b6   \u6253\u5f00 \u548c \u5173\u95ed \u5e94\u7528   \u72b6\u6001   \u52a8\u4f5c   \u6548\u679c   \u95f2\u7f6e \u72b6\u6001   \u661f\u9645 \u65c5\u884c \u3001 travel   \u6253\u5f00 \u661f\u9645 \u65c5\u884c \u5e94\u7528   \u8fd0\u884c \u661f\u9645 \u65c5\u884c \u4e2d   \u9000\u51fa \u3001 exit   \u5173\u95ed \u661f\u9645 \u65c5\u884c \u5e94\u7528   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   app   .   set _ start _ cmds   (   \" \u661f\u9645 \u65c5\u884c \"   ,   \" travel \"   )   #   \u5173\u95ed \u5e94\u7528   app   .   set _ close _ cmds   (   \" \u9000\u51fa \"   ,   \" exit \"   )   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # \u9000\u51fa   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   hello \uff01   \u00b6   \u5b9e\u73b0 \u62db\u547c \u6253\u62db\u547c \u7684 \u529f\u80fd   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u4efb\u610f \u5730\u70b9   hi   hi   I ' m   in   < \u5730\u540d >   #   \u88c5\u9970 \u5668 \u7684 \u987a\u5e8f \u6ca1\u6709 \u5f3a\u5236 \u8981\u6c42   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" hi \"   )   async   def   say _ hi   ( ) :   ' ' ' \u62db\u547c \u6253\u62db\u547c ' ' '   await   app   .   send   (   f   \" hi   I ' m   in   {   app   .   state   }   \"   )   \u7b80\u5355 \u4ecb\u7ecd   \u4ee3\u7801   \u610f\u4e49   @ app . on _ state ( )   \u56de\u8c03 \u5728 \u7fa4\u7ec4 \u5904\u4e8e   root . \u661f\u9645 \u65c5\u884c   \u72b6\u6001 \u65f6 \u54cd\u5e94   @ app . on _ cmd ( \" hi \" )   \u56de\u8c03 \u901a\u8fc7   hi   \u547d\u4ee4 \u89e6\u53d1   @ app . on _ deep _ all ( )   \u56de\u8c03 \u5bf9 \u6240\u6709 \u5b50 \u72b6\u6001 \u53ef\u89c1   \u53d1\u9001 \u6d88\u606f   await   app   .   send   (   \" \u4f60\u597d \"   )   #   bot \u53d1\u9001   \u4f60\u597d   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u65c5\u884c   \u00b6   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u4efb\u610f \u5730\u70b9   move   < \u5730\u540d >   \u53bb \u6307\u5b9a \u5730\u70b9   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" move \"   )   async   def   move   ( ) :   ' ' ' \u79fb\u52a8 ' ' '   args   =   [   str   (   a   )   for   a   in   app   .   args   ]   await   app   .   set _ state   (   *   args   )   await   app   .   send   (   f   \" \u524d\u5f80   {   app   .   arg   }   \"   )   app . args \u548c app . arg   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   app . arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   app . args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # \u5f97\u5230 \u7684   \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b   \" sys \"   \u8bf4 \uff1a app . cmd   =   \" \u5f97\u5230 \u7684 \"   \" sys \"   \u8bf4 \uff1a app . arg   =   \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b \"   \" sys \"   \u8bf4 \uff1a app . args   =   [ \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39 \" , \" \u6765 \u770b\u770b \" ]   app . set _ state   \u72b6\u6001 \u8f6c\u79fb \uff0c \u4ee4 \u7fa4\u7ec4 \u4ece A \u72b6\u6001 \u53d8\u4e3a B \u72b6\u6001   await   app   .   set _ state   (   \" \u5730\u7403 \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   await   app   .   set _ state   (   \" \u6708\u7403 \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u6708\u7403   await   app   .   set _ state   ( [   \" \u5730\u7403 \"   ,   \" \u4e2d\u56fd \"   ] )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   await   app   .   set _ state   (   \" \u5730\u7403 . \u4e2d\u56fd \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u5730\u7403   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u5730\u7403   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   \" user \"   \u8bf4 \uff1a # move   \u5730\u7403   \u4e2d\u56fd   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u5730\u7403   \u4e2d\u56fd   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u4e0d\u540c \u5730\u65b9 \u4e0d\u540c \u6548\u679c   \u00b6   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u5730\u7403 \uff0c \u6708\u7403   drink   \u559d\u6c34   \u592a\u9633   drink   \u559d \u592a\u9633 \u592a\u9633\u98ce   #   \u6ce8\u518c \u5404\u79cd \u884c\u52a8   @ app   .   on _ state   (   \" \u5730\u7403 \"   ,   \" \u6708\u7403 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d\u6c34 ' ' '   await   app   .   send   (   \" \u559d\u6c34 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u592a\u9633 \u592a\u9633\u98ce ' ' '   await   app   .   send   (   \" \u559d \u592a\u9633 \u592a\u9633\u98ce \"   )   on _ state   \u4ee3\u7801   \u610f\u4e49   @ app . on _ state ( \" \u5730\u7403 \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   @ app . on _ state ( [ \" \u5730\u7403 \" , \" \u4e2d\u56fd \" ] )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   @ app . on _ state ( \" \u5730\u7403 . \u4e2d\u56fd \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   @ app . on _ state ( \" \u5730\u7403 \" , \" \u6708\u7403 \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   \u6216   root . \u661f\u9645 \u65c5\u884c . \u6708\u7403   on _ cmd   \u8bbe\u7f6e \u4e00\u4e2a \u6216 \u591a\u4e2a \u547d\u4ee4   \u4ee3\u7801   \u610f\u4e49   @ app . on _ cmd ( \" drink \" )   \u56de\u8c03 \u901a\u8fc7   drink   \u547d\u4ee4 \u89e6\u53d1   @ app . on _ cmd ( \" drink \" ,   \" \u559d\u6c34 \" )   \u56de\u8c03 \u901a\u8fc7   drink   \u6216   \u559d\u6c34   \u547d\u4ee4 \u89e6\u53d1   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   app . state   AyakaState   \u5b50 \u72b6\u6001 \u53ef\u4ee5 \u89e6\u53d1 \u7236 \u72b6\u6001 \u7684 \u56de\u8c03   \u72b6\u6001   \u6ce8\u518c \u56de\u8c03   root . \u661f\u9645 \u65c5\u884c   move   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   drink   \u5f53 \u4f4d\u4e8e \u6b64 \u72b6\u6001 \u65f6   \u53ef \u89e6\u53d1 \u7684 \u56de\u8c03   root . \u661f\u9645 \u65c5\u884c   move   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   move   , drink   \u524d\u63d0 \u662f   move   \u56de\u8c03 \u4f7f\u7528 \u4e86   @ app . on _ deep _ all ( )   \u88c5\u9970 \u5668   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u6708\u7403   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u6708\u7403   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d\u6c34   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u592a\u9633 \u592a\u9633\u98ce   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u591a\u5c42 \u5c42\u6b21 \u591a\u5c42\u6b21   \u00b6   \u5728 \u521a\u624d \u7684 \u57fa\u7840 \u4e0a \uff0c \u6211\u4eec \u5e0c\u671b \u80fd \u518d \u52a0\u70b9 \u529f\u80fd \uff0c \u6bd4\u5982 \uff0c \u592a\u9633 \u4e0a\u65b0\u5f00 \u4e86 \u4e00\u5bb6 \u5976\u8336 \u5e97   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u5976\u8336 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   \u6ce8\u610f \u5230 \uff0c \u76ee\u524d \u5b9a\u4e49 \u4e86 \u4e24\u4e2a drink   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633   drink   \u559d \u592a\u9633 \u592a\u9633\u98ce   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u7531\u4e8e \u4e0a\u6eaf \u67e5\u8be2 \u7684 \u673a\u5236 \uff0c \u4f18\u5148 \u89e6\u53d1 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u56de\u8c03 \uff0c \u5176\u6b21 \u89e6\u53d1 \u7236 \u72b6\u6001 \u7684 \u56de\u8c03 \u3001 \u7237 \u72b6\u6001 \u7684 \u56de\u8c03 \uff0c \u4f8b\u5982 \uff1a   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u5976\u8336 \u5e97   \u65f6 \uff0c \u89e6\u53d1 \u540e\u8005   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633   \u3001   \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \u3001   \u592a\u9633 . \u5df4\u62c9 \u62c9\u5df4 \u5df4\u62c9\u5df4 \u62c9 . \u6211 \u5c31\u662f \u6765 \u51d1 \u4e2a\u6570   \u65f6 \uff0c \u89e6\u53d1 \u524d\u8005   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   \u4e0a\u6eaf \u67e5\u8be2   \u4e0a\u6eaf \u67e5\u8be2   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u592a\u9633 \u592a\u9633\u98ce   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u5976\u8336 \u5e97   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u5976\u8336 \u5e97   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u7f13\u5b58   \u00b6   \u5b87\u5b99 \u65c5\u6e38 \u516c\u53f8 \u53c8 \u5f00\u8bbe \u4e86 \u4e00\u4e2a \u65b0 \u9879\u76ee \uff1a \u8000\u6591 \u8868\u6f14   \u6211\u4eec \u9700\u8981 \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70 \u8000\u6591 \u8868\u6f14 \u7684 \u95e8\u7968 \uff0c \u7136\u540e \u624d\u80fd \u770b \u8868\u6f14 \uff0c \u4e00\u5f20 \u7968 \u4e0d\u80fd \u7528 \u591a\u6b21   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904   buy   \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \u592a\u9633 . \u4efb\u610f \u5730\u70b9   watch   \u770b \u8868\u6f14   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   ticket   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on _ cmd   (   \" buy \"   ,   \" \u4e70\u7968 \"   )   async   def   buy _ ticket   (   cache   :   Cache   ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   cache   .   ticket   + =   1   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" watch \"   ,   \" \u770b \u8868\u6f14 \"   )   async   def   watch   (   cache   :   Cache   ) :   ' ' ' \u770b \u8868\u6f14 ' ' '   if   cache   .   ticket   < =   0   :   await   app   .   send   (   \" \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01 \"   )   else   :   cache   .   ticket   - =   1   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaCache   AyakaCache   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u552e\u7968 \u552e\u7968\u5904   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u552e\u7968 \u552e\u7968\u5904   \" user \"   \u8bf4 \uff1a # buy   \" Bot \"   \u8bf4 \uff1a \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u547d\u4ee4 \u89e6\u53d1   vs   \u6d88\u606f \u89e6\u53d1   \u00b6   \u521a\u624d \u7684 \u6240\u6709 \u56de\u8c03 \u90fd \u662f \u7531 \u5177\u4f53 \u7684 \u3001 \u6307\u5b9a \u7684 \u547d\u4ee4 \u6765 \u89e6\u53d1 \u8fd0\u884c \u7684   \u7136\u800c \uff0c \u4f60 \u4e5f \u53ef\u4ee5 \u4f7f\u7528 \u6d88\u606f \u89e6\u53d1   \u6bd4\u5982 \uff0c \u4f60 \u5728 \u5976\u8336 \u5e97 \u968f\u4fbf \u8bf4 \u4e86 \u4e00\u53e5 \u8bdd \uff0c \u5c31 \u80fd \u89e6\u53d1 \u8be5 \u56de\u8c03 \u8fd0\u884c   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e \"   )   \u6d88\u606f \u89e6\u53d1 \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u4f4e\u4e8e \u547d\u4ee4 \u89e6\u53d1   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   app . on _ xxx ( )   on _ xxx   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u5976\u8336 \u5e97   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u5976\u8336 \u5e97   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \" user \"   \u8bf4 \uff1a \u55ef \uff1f   \" Bot \"   \u8bf4 \uff1a \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u914d\u7f6e \u9879   \u00b6   \u4f60 \u5728 \u592a\u9633 \u4e0a \u7684 \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \u91cc \u6361 \u5230 \u4e86 ? \u5757 \u91d1\u5b50 \uff0c \u4f60 \u60f3 \u8bbe\u7f6e \u4f60 \u5230\u5e95 \u80fd \u6361 \u5230 \u51e0\u4e2a   from   ayaka   import   AyakaConfig   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   gold _ number   :   int   =   1   config   =   Config   ( )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" fake _ pick \"   )   async   def   get _ gold   ( ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   await   app   .   send   (   f   \" \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   {   config   .   gold _ number   }   \"   )   app . name   \u5bf9\u5e94   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   \u67e5\u770b   data / ayaka / ayaka _ setting . json   {   \" \u661f\u9645 \u65c5\u884c \"   :   {   \" gold _ number \"   :   1   } ,   / /   ...   }   \u4fee\u6539 \u914d\u7f6e \u540e \u9700\u8981   \u91cd\u542f bot   \u624d \u751f\u6548   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # fake _ pick   \" Bot \"   \u8bf4 \uff1a \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   1   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" sys \"   \u8bf4 \uff1a \u4fee\u6539 \u914d\u7f6e \u4e3a 10 \u5e76 \u91cd\u542f bot \u540e   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # fake _ pick   \" Bot \"   \u8bf4 \uff1a \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   10   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u52a8\u6001 \u4fee\u6539 \u914d\u7f6e \u9879   \u00b6   \u8dd1 \u5230 \u540e\u53f0 \u4fee\u6539 \u914d\u7f6e \u518d \u91cd\u542f bot \u5b9e\u5728 \u592a \u9ebb\u70e6 \u4e86 \uff0c \u4f60 \u60f3 \u901a\u8fc7 \u547d\u4ee4 \u4fee\u6539 \u914d\u7f6e   from   pydantic   import   Field   from   ayaka   import   AyakaInput   class   UserInput   (   AyakaInput   ) :   number   :   int   =   Field   (   description   =   \" \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf \"   )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" change \"   )   async   def   change _ gold _ number   (   userinput   :   UserInput   ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   userinput   .   number   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   AyakaInput   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaInput   AyakaInput   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # change   100   \" Bot \"   \u8bf4 \uff1a \u4fee\u6539 \u6210\u529f   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u6ce8\u610f \uff0c \u4fee\u6539 \u540e \u53ef\u80fd \u4e0d\u4f1a \u7acb\u523b \u5199\u5165 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff08 \u4f46\u662f \u5df2\u7ecf \u751f\u6548 \uff09 \uff0c \u9700\u8981 \u7b49\u5f85 0 - 60s \u540e \u624d \u5199\u5165   \u4f7f\u7528 \u6b63\u5219   \u00b6   \u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u6b63\u5219 \u8ba9 \u6307\u4ee4 \u66f4 \u4eba\u6027   \u5173\u4e8e \u6b63\u5219 \uff1a   \u63a8\u8350 \u6559\u7a0b   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd _ regex   (   \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \"   )   async   def   change _ gold _ number   ( ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   int   (   app   .   cmd _ regex   .   group   (   1   ) )   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   app . cmd _ regex   \u8fd4\u56de   re . match ( \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \" ,   text )   \u7684 \u7ed3\u679c   \u6b63\u5219 \u53ea \u5bf9 \u547d\u4ee4 \u751f\u6548   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # \u4e00\u6b21 \u6361 1000 \u5757   \" Bot \"   \u8bf4 \uff1a \u4fee\u6539 \u6210\u529f   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93   \u00b6   \u4f46\u662f \u4e00\u65e6 \u91cd\u542f bot \uff0c \u4f60 \u5c31 \u4f1a \u5931\u53bb \u4f60 \u7684 \u6240\u6709 \u91d1\u5b50 \uff0c \u8fd9 \u610f\u5473 \u610f\u5473\u7740 \u4f60 \u9700\u8981 \u4e00\u4e2a \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u6765 \u6301\u4e45 \u5730 \u4fdd\u5b58 \u6570\u636e   from   ayaka   import   AyakaUserDB   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   \" gold \"   gold _ number   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" real _ pick \"   )   async   def   get _ gold   (   data   :   Data   ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   data   .   gold _ number   + =   config   .   gold _ number   data   .   save   ( )   await   app   .   send   (   f   \" \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   {   data   .   gold _ number   }   \"   )   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaUserDB   AyakaUserDB   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # real _ pick   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   1000   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" sys \"   \u8bf4 \uff1a bot \u91cd\u542f \u540e   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # real _ pick   \" Bot \"   \u8bf4 \uff1a \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   2000   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u63d2\u4ef6 \u5e2e\u52a9   \u00b6   \u73b0\u5728 \uff0c \u6211\u4eec \u5199 \u5b8c \u4e86 \u4e00\u4e2a \u5c0f \u63d2\u4ef6 \u4e86 \uff0c \u90a3\u4e48 \u8be5 \u4e3a \u5b83 \u7f16\u5199 \u5e2e\u52a9 \u4e86   \u4e0d\u5e78 \u7684 \u662f \uff0c \u4f60 \u5df2\u7ecf \u5728 \u4e0a\u8ff0 \u4ee3\u7801 \u4e2d \u5b8c\u6210 \u4e86 \u5b83   \u901a\u8fc7 \u5206\u6790   \u6ce8\u518c \u56de\u8c03 \u7684 \u6ce8\u91ca (   __ doc __   ) \uff0c ayaka \u5185\u7f6e \u63d2\u4ef6   ayaka _ master   \u4f1a \u81ea\u52a8 \u751f\u6210 \u5bf9\u5e94 \u7684 \u5e2e\u52a9   \u73b0\u5728 \uff0c \u4f60 \u53ea \u9700 \u53d1\u9001 \u547d\u4ee4   help   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a \u4f7f\u7528   \u5e2e\u52a9   < \u63d2\u4ef6 \u540d >   \u53ef\u4ee5 \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u5c55\u793a \u6307\u5b9a \u63d2\u4ef6 \u7684 \u8be6\u7ec6 \u5e2e\u52a9 \u4fe1\u606f   \" user \"   \u8bf4 \uff1a # help   \u661f\u9645 \u65c5\u884c   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c ]   xing   ji   lv   xing   -   \u661f\u9645 \u65c5\u884c / travel   |   \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   [ \u661f\u9645 \u65c5\u884c . \u5730\u7403 ]   -   drink   |   \u559d\u6c34   [ \u661f\u9645 \u65c5\u884c . \u6708\u7403 ]   -   drink   |   \u559d\u6c34   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 ]   -   drink   |   \u559d \u592a\u9633 \u592a\u9633\u98ce   -   watch / \u770b \u8868\u6f14   |   \u770b \u8868\u6f14   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u5976\u8336 \u5e97 ]   -   drink   |   \u559d \u5976\u8336   -   < \u4efb\u610f \u6587\u5b57 >   |   \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 ]   -   buy / \u4e70\u7968   |   \u4e70 \u95e8\u7968   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed ]   -   fake _ pick   |   \u6361 \u91d1\u5b50   -   change   < number >   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   < number >   \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf   -   \u4e00\u6b21 \u6361 ( \\ d + ) \u5757   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   -   real _ pick   |   \u6361 \u91d1\u5b50   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed ]   -   fake _ pick   |   \u6361 \u91d1\u5b50   -   change   < number >   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   < number >   \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf   -   \u4e00\u6b21 \u6361 ( \\ d + ) \u5757   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   -   real _ pick   |   \u6361 \u91d1\u5b50   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 ]   -   drink   |   \u559d \u592a\u9633 \u592a\u9633\u98ce   -   watch / \u770b \u8868\u6f14   |   \u770b \u8868\u6f14   [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u5168\u90e8 \u4ee3\u7801   \u00b6   #   ----------   1   ----------   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   app   .   set _ start _ cmds   (   \" \u661f\u9645 \u65c5\u884c \"   ,   \" travel \"   )   #   \u5173\u95ed \u5e94\u7528   app   .   set _ close _ cmds   (   \" \u9000\u51fa \"   ,   \" exit \"   )   #   ----------   2   ----------   #   \u88c5\u9970 \u5668 \u7684 \u987a\u5e8f \u6ca1\u6709 \u5f3a\u5236 \u8981\u6c42   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" hi \"   )   async   def   say _ hi   ( ) :   ' ' ' \u62db\u547c \u6253\u62db\u547c ' ' '   await   app   .   send   (   f   \" hi   I ' m   in   {   app   .   state   }   \"   )   #   ----------   3   ----------   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" move \"   )   async   def   move   ( ) :   ' ' ' \u79fb\u52a8 ' ' '   args   =   [   str   (   a   )   for   a   in   app   .   args   ]   await   app   .   set _ state   (   *   args   )   await   app   .   send   (   f   \" \u524d\u5f80   {   app   .   arg   }   \"   )   #   ----------   4   ----------   #   \u6ce8\u518c \u5404\u79cd \u884c\u52a8   @ app   .   on _ state   (   \" \u5730\u7403 \"   ,   \" \u6708\u7403 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d\u6c34 ' ' '   await   app   .   send   (   \" \u559d\u6c34 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u592a\u9633 \u592a\u9633\u98ce ' ' '   await   app   .   send   (   \" \u559d \u592a\u9633 \u592a\u9633\u98ce \"   )   #   ----------   5   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u5976\u8336 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   #   ----------   6   ----------   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   ticket   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on _ cmd   (   \" buy \"   ,   \" \u4e70\u7968 \"   )   async   def   buy _ ticket   (   cache   :   Cache   ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   cache   .   ticket   + =   1   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" watch \"   ,   \" \u770b \u8868\u6f14 \"   )   async   def   watch   (   cache   :   Cache   ) :   ' ' ' \u770b \u8868\u6f14 ' ' '   if   cache   .   ticket   < =   0   :   await   app   .   send   (   \" \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01 \"   )   else   :   cache   .   ticket   - =   1   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   #   ----------   7   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e \"   )   #   ----------   8   ----------   from   ayaka   import   AyakaConfig   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   gold _ number   :   int   =   1   config   =   Config   ( )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" fake _ pick \"   )   async   def   get _ gold   ( ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   await   app   .   send   (   f   \" \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   {   config   .   gold _ number   }   \"   )   #   ----------   9   ----------   from   pydantic   import   Field   from   ayaka   import   AyakaInput   class   UserInput   (   AyakaInput   ) :   number   :   int   =   Field   (   description   =   \" \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf \"   )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" change \"   )   async   def   change _ gold _ number   (   userinput   :   UserInput   ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   userinput   .   number   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   #   ----------   10   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd _ regex   (   \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \"   )   async   def   change _ gold _ number   ( ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   int   (   app   .   cmd _ regex   .   group   (   1   ) )   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   #   ----------   11   ----------   from   ayaka   import   AyakaUserDB   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   \" gold \"   gold _ number   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" real _ pick \"   )   async   def   get _ gold   (   data   :   Data   ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   data   .   gold _ number   + =   config   .   gold _ number   data   .   save   ( )   await   app   .   send   (   f   \" \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   {   data   .   gold _ number   }   \"   )   \u4e0b \u4e00\u6b65   \u00b6   \u5728 \u8fd9\u91cc ~   \u2198","title":"\u5feb\u901f \u5f00\u59cb"},{"location":"intro/quick_start/#_1","text":"\u7f16\u5199 \u4e00\u4e2a \u661f\u9645 \u65c5\u884c \u63d2\u4ef6 \uff0c \u4ece \u7b80\u5355 \u5230 \u590d\u6742","title":"\u5feb\u901f \u5f00\u59cb"},{"location":"intro/quick_start/#_2","text":"\u6253\u5f00 \u548c \u5173\u95ed \u5e94\u7528   \u72b6\u6001   \u52a8\u4f5c   \u6548\u679c   \u95f2\u7f6e \u72b6\u6001   \u661f\u9645 \u65c5\u884c \u3001 travel   \u6253\u5f00 \u661f\u9645 \u65c5\u884c \u5e94\u7528   \u8fd0\u884c \u661f\u9645 \u65c5\u884c \u4e2d   \u9000\u51fa \u3001 exit   \u5173\u95ed \u661f\u9645 \u65c5\u884c \u5e94\u7528   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   app   .   set _ start _ cmds   (   \" \u661f\u9645 \u65c5\u884c \"   ,   \" travel \"   )   #   \u5173\u95ed \u5e94\u7528   app   .   set _ close _ cmds   (   \" \u9000\u51fa \"   ,   \" exit \"   )   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # \u9000\u51fa   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u57fa\u672c \u4f7f\u7528"},{"location":"intro/quick_start/#hello","text":"\u5b9e\u73b0 \u62db\u547c \u6253\u62db\u547c \u7684 \u529f\u80fd   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u4efb\u610f \u5730\u70b9   hi   hi   I ' m   in   < \u5730\u540d >   #   \u88c5\u9970 \u5668 \u7684 \u987a\u5e8f \u6ca1\u6709 \u5f3a\u5236 \u8981\u6c42   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" hi \"   )   async   def   say _ hi   ( ) :   ' ' ' \u62db\u547c \u6253\u62db\u547c ' ' '   await   app   .   send   (   f   \" hi   I ' m   in   {   app   .   state   }   \"   )   \u7b80\u5355 \u4ecb\u7ecd   \u4ee3\u7801   \u610f\u4e49   @ app . on _ state ( )   \u56de\u8c03 \u5728 \u7fa4\u7ec4 \u5904\u4e8e   root . \u661f\u9645 \u65c5\u884c   \u72b6\u6001 \u65f6 \u54cd\u5e94   @ app . on _ cmd ( \" hi \" )   \u56de\u8c03 \u901a\u8fc7   hi   \u547d\u4ee4 \u89e6\u53d1   @ app . on _ deep _ all ( )   \u56de\u8c03 \u5bf9 \u6240\u6709 \u5b50 \u72b6\u6001 \u53ef\u89c1   \u53d1\u9001 \u6d88\u606f   await   app   .   send   (   \" \u4f60\u597d \"   )   #   bot \u53d1\u9001   \u4f60\u597d   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"hello \uff01"},{"location":"intro/quick_start/#_3","text":"\u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u4efb\u610f \u5730\u70b9   move   < \u5730\u540d >   \u53bb \u6307\u5b9a \u5730\u70b9   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" move \"   )   async   def   move   ( ) :   ' ' ' \u79fb\u52a8 ' ' '   args   =   [   str   (   a   )   for   a   in   app   .   args   ]   await   app   .   set _ state   (   *   args   )   await   app   .   send   (   f   \" \u524d\u5f80   {   app   .   arg   }   \"   )   app . args \u548c app . arg   \u540d\u79f0   \u7c7b\u578b   \u529f\u80fd   app . cmd   str   \u672c\u6b21 \u54cd\u5e94 \u662f \u9488\u5bf9 \u54ea\u4e2a \u547d\u4ee4   app . arg   Message   \u5220\u9664 \u4e86 \u547d\u4ee4 \u540e \u5269\u4e0b \u7684 \u6d88\u606f \u90e8\u5206   app . args   List [ MessageSegment ]   \u5220\u9664 \u547d\u4ee4 \u540e \uff0c \u4f9d\u7167 \u5206\u9694 \u5206\u9694\u7b26 \u5206\u5272 \uff0c \u5e76 \u79fb\u9664 \u7a7a \u6570\u636e   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # \u5f97\u5230 \u7684   \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b   \" sys \"   \u8bf4 \uff1a app . cmd   =   \" \u5f97\u5230 \u7684 \"   \" sys \"   \u8bf4 \uff1a app . arg   =   \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39   \u6765 \u770b\u770b \"   \" sys \"   \u8bf4 \uff1a app . args   =   [ \" \u6c34\u7535 \u7535\u8d39 \u6c34\u7535\u8d39 \" , \" \u6765 \u770b\u770b \" ]   app . set _ state   \u72b6\u6001 \u8f6c\u79fb \uff0c \u4ee4 \u7fa4\u7ec4 \u4ece A \u72b6\u6001 \u53d8\u4e3a B \u72b6\u6001   await   app   .   set _ state   (   \" \u5730\u7403 \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   await   app   .   set _ state   (   \" \u6708\u7403 \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u6708\u7403   await   app   .   set _ state   ( [   \" \u5730\u7403 \"   ,   \" \u4e2d\u56fd \"   ] )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   await   app   .   set _ state   (   \" \u5730\u7403 . \u4e2d\u56fd \"   )   #   \u5f53\u524d \u72b6\u6001   - >   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u5730\u7403   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u5730\u7403   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   \" user \"   \u8bf4 \uff1a # move   \u5730\u7403   \u4e2d\u56fd   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u5730\u7403   \u4e2d\u56fd   \" user \"   \u8bf4 \uff1a # hi   \" Bot \"   \u8bf4 \uff1a hi   I ' m   in   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u65c5\u884c"},{"location":"intro/quick_start/#_4","text":"\u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u5730\u7403 \uff0c \u6708\u7403   drink   \u559d\u6c34   \u592a\u9633   drink   \u559d \u592a\u9633 \u592a\u9633\u98ce   #   \u6ce8\u518c \u5404\u79cd \u884c\u52a8   @ app   .   on _ state   (   \" \u5730\u7403 \"   ,   \" \u6708\u7403 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d\u6c34 ' ' '   await   app   .   send   (   \" \u559d\u6c34 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u592a\u9633 \u592a\u9633\u98ce ' ' '   await   app   .   send   (   \" \u559d \u592a\u9633 \u592a\u9633\u98ce \"   )   on _ state   \u4ee3\u7801   \u610f\u4e49   @ app . on _ state ( \" \u5730\u7403 \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   @ app . on _ state ( [ \" \u5730\u7403 \" , \" \u4e2d\u56fd \" ] )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   @ app . on _ state ( \" \u5730\u7403 . \u4e2d\u56fd \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403 . \u4e2d\u56fd   @ app . on _ state ( \" \u5730\u7403 \" , \" \u6708\u7403 \" )   root . \u661f\u9645 \u65c5\u884c . \u5730\u7403   \u6216   root . \u661f\u9645 \u65c5\u884c . \u6708\u7403   on _ cmd   \u8bbe\u7f6e \u4e00\u4e2a \u6216 \u591a\u4e2a \u547d\u4ee4   \u4ee3\u7801   \u610f\u4e49   @ app . on _ cmd ( \" drink \" )   \u56de\u8c03 \u901a\u8fc7   drink   \u547d\u4ee4 \u89e6\u53d1   @ app . on _ cmd ( \" drink \" ,   \" \u559d\u6c34 \" )   \u56de\u8c03 \u901a\u8fc7   drink   \u6216   \u559d\u6c34   \u547d\u4ee4 \u89e6\u53d1   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   app . state   AyakaState   \u5b50 \u72b6\u6001 \u53ef\u4ee5 \u89e6\u53d1 \u7236 \u72b6\u6001 \u7684 \u56de\u8c03   \u72b6\u6001   \u6ce8\u518c \u56de\u8c03   root . \u661f\u9645 \u65c5\u884c   move   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   drink   \u5f53 \u4f4d\u4e8e \u6b64 \u72b6\u6001 \u65f6   \u53ef \u89e6\u53d1 \u7684 \u56de\u8c03   root . \u661f\u9645 \u65c5\u884c   move   root . \u661f\u9645 \u65c5\u884c . \u592a\u9633   move   , drink   \u524d\u63d0 \u662f   move   \u56de\u8c03 \u4f7f\u7528 \u4e86   @ app . on _ deep _ all ( )   \u88c5\u9970 \u5668   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u6708\u7403   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u6708\u7403   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d\u6c34   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u592a\u9633 \u592a\u9633\u98ce   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u4e0d\u540c \u5730\u65b9 \u4e0d\u540c \u6548\u679c"},{"location":"intro/quick_start/#_5","text":"\u5728 \u521a\u624d \u7684 \u57fa\u7840 \u4e0a \uff0c \u6211\u4eec \u5e0c\u671b \u80fd \u518d \u52a0\u70b9 \u529f\u80fd \uff0c \u6bd4\u5982 \uff0c \u592a\u9633 \u4e0a\u65b0\u5f00 \u4e86 \u4e00\u5bb6 \u5976\u8336 \u5e97   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u5976\u8336 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   \u6ce8\u610f \u5230 \uff0c \u76ee\u524d \u5b9a\u4e49 \u4e86 \u4e24\u4e2a drink   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633   drink   \u559d \u592a\u9633 \u592a\u9633\u98ce   \u592a\u9633 . \u5976\u8336 \u5e97   drink   \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \u7531\u4e8e \u4e0a\u6eaf \u67e5\u8be2 \u7684 \u673a\u5236 \uff0c \u4f18\u5148 \u89e6\u53d1 \u5f53\u524d \u72b6\u6001 \u4e0b \u7684 \u56de\u8c03 \uff0c \u5176\u6b21 \u89e6\u53d1 \u7236 \u72b6\u6001 \u7684 \u56de\u8c03 \u3001 \u7237 \u72b6\u6001 \u7684 \u56de\u8c03 \uff0c \u4f8b\u5982 \uff1a   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633 . \u5976\u8336 \u5e97   \u65f6 \uff0c \u89e6\u53d1 \u540e\u8005   \u5f53 \u72b6\u6001 \u4e3a   \u592a\u9633   \u3001   \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \u3001   \u592a\u9633 . \u5df4\u62c9 \u62c9\u5df4 \u5df4\u62c9\u5df4 \u62c9 . \u6211 \u5c31\u662f \u6765 \u51d1 \u4e2a\u6570   \u65f6 \uff0c \u89e6\u53d1 \u524d\u8005   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   \u4e0a\u6eaf \u67e5\u8be2   \u4e0a\u6eaf \u67e5\u8be2   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u592a\u9633 \u592a\u9633\u98ce   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u5976\u8336 \u5e97   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u5976\u8336 \u5e97   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u591a\u5c42\u6b21"},{"location":"intro/quick_start/#_6","text":"\u5b87\u5b99 \u65c5\u6e38 \u516c\u53f8 \u53c8 \u5f00\u8bbe \u4e86 \u4e00\u4e2a \u65b0 \u9879\u76ee \uff1a \u8000\u6591 \u8868\u6f14   \u6211\u4eec \u9700\u8981 \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70 \u8000\u6591 \u8868\u6f14 \u7684 \u95e8\u7968 \uff0c \u7136\u540e \u624d\u80fd \u770b \u8868\u6f14 \uff0c \u4e00\u5f20 \u7968 \u4e0d\u80fd \u7528 \u591a\u6b21   \u5730\u70b9   \u52a8\u4f5c   \u6548\u679c   \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904   buy   \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \u592a\u9633 . \u4efb\u610f \u5730\u70b9   watch   \u770b \u8868\u6f14   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   ticket   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on _ cmd   (   \" buy \"   ,   \" \u4e70\u7968 \"   )   async   def   buy _ ticket   (   cache   :   Cache   ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   cache   .   ticket   + =   1   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" watch \"   ,   \" \u770b \u8868\u6f14 \"   )   async   def   watch   (   cache   :   Cache   ) :   ' ' ' \u770b \u8868\u6f14 ' ' '   if   cache   .   ticket   < =   0   :   await   app   .   send   (   \" \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01 \"   )   else   :   cache   .   ticket   - =   1   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaCache   AyakaCache   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u552e\u7968 \u552e\u7968\u5904   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u552e\u7968 \u552e\u7968\u5904   \" user \"   \u8bf4 \uff1a # buy   \" Bot \"   \u8bf4 \uff1a \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b   \" user \"   \u8bf4 \uff1a # watch   \" Bot \"   \u8bf4 \uff1a \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u7f13\u5b58"},{"location":"intro/quick_start/#vs","text":"\u521a\u624d \u7684 \u6240\u6709 \u56de\u8c03 \u90fd \u662f \u7531 \u5177\u4f53 \u7684 \u3001 \u6307\u5b9a \u7684 \u547d\u4ee4 \u6765 \u89e6\u53d1 \u8fd0\u884c \u7684   \u7136\u800c \uff0c \u4f60 \u4e5f \u53ef\u4ee5 \u4f7f\u7528 \u6d88\u606f \u89e6\u53d1   \u6bd4\u5982 \uff0c \u4f60 \u5728 \u5976\u8336 \u5e97 \u968f\u4fbf \u8bf4 \u4e86 \u4e00\u53e5 \u8bdd \uff0c \u5c31 \u80fd \u89e6\u53d1 \u8be5 \u56de\u8c03 \u8fd0\u884c   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e \"   )   \u6d88\u606f \u89e6\u53d1 \u7684 \u4f18\u5148 \u4f18\u5148\u7ea7 \u4f4e\u4e8e \u547d\u4ee4 \u89e6\u53d1   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   app . on _ xxx ( )   on _ xxx   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u5976\u8336 \u5e97   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u5976\u8336 \u5e97   \" user \"   \u8bf4 \uff1a # drink   \" Bot \"   \u8bf4 \uff1a \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336   \" user \"   \u8bf4 \uff1a \u55ef \uff1f   \" Bot \"   \u8bf4 \uff1a \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u547d\u4ee4 \u89e6\u53d1   vs   \u6d88\u606f \u89e6\u53d1"},{"location":"intro/quick_start/#_7","text":"\u4f60 \u5728 \u592a\u9633 \u4e0a \u7684 \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \u91cc \u6361 \u5230 \u4e86 ? \u5757 \u91d1\u5b50 \uff0c \u4f60 \u60f3 \u8bbe\u7f6e \u4f60 \u5230\u5e95 \u80fd \u6361 \u5230 \u51e0\u4e2a   from   ayaka   import   AyakaConfig   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   gold _ number   :   int   =   1   config   =   Config   ( )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" fake _ pick \"   )   async   def   get _ gold   ( ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   await   app   .   send   (   f   \" \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   {   config   .   gold _ number   }   \"   )   app . name   \u5bf9\u5e94   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   \u67e5\u770b   data / ayaka / ayaka _ setting . json   {   \" \u661f\u9645 \u65c5\u884c \"   :   {   \" gold _ number \"   :   1   } ,   / /   ...   }   \u4fee\u6539 \u914d\u7f6e \u540e \u9700\u8981   \u91cd\u542f bot   \u624d \u751f\u6548   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # fake _ pick   \" Bot \"   \u8bf4 \uff1a \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   1   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" sys \"   \u8bf4 \uff1a \u4fee\u6539 \u914d\u7f6e \u4e3a 10 \u5e76 \u91cd\u542f bot \u540e   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # fake _ pick   \" Bot \"   \u8bf4 \uff1a \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   10   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u914d\u7f6e \u9879"},{"location":"intro/quick_start/#_8","text":"\u8dd1 \u5230 \u540e\u53f0 \u4fee\u6539 \u914d\u7f6e \u518d \u91cd\u542f bot \u5b9e\u5728 \u592a \u9ebb\u70e6 \u4e86 \uff0c \u4f60 \u60f3 \u901a\u8fc7 \u547d\u4ee4 \u4fee\u6539 \u914d\u7f6e   from   pydantic   import   Field   from   ayaka   import   AyakaInput   class   UserInput   (   AyakaInput   ) :   number   :   int   =   Field   (   description   =   \" \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf \"   )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" change \"   )   async   def   change _ gold _ number   (   userinput   :   UserInput   ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   userinput   .   number   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   AyakaInput   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaInput   AyakaInput   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # change   100   \" Bot \"   \u8bf4 \uff1a \u4fee\u6539 \u6210\u529f   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \u6ce8\u610f \uff0c \u4fee\u6539 \u540e \u53ef\u80fd \u4e0d\u4f1a \u7acb\u523b \u5199\u5165 \u914d\u7f6e \u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \uff08 \u4f46\u662f \u5df2\u7ecf \u751f\u6548 \uff09 \uff0c \u9700\u8981 \u7b49\u5f85 0 - 60s \u540e \u624d \u5199\u5165","title":"\u52a8\u6001 \u4fee\u6539 \u914d\u7f6e \u9879"},{"location":"intro/quick_start/#_9","text":"\u4f60 \u53ef\u4ee5 \u4f7f\u7528 \u6b63\u5219 \u8ba9 \u6307\u4ee4 \u66f4 \u4eba\u6027   \u5173\u4e8e \u6b63\u5219 \uff1a   \u63a8\u8350 \u6559\u7a0b   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd _ regex   (   \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \"   )   async   def   change _ gold _ number   ( ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   int   (   app   .   cmd _ regex   .   group   (   1   ) )   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   app . cmd _ regex   \u8fd4\u56de   re . match ( \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \" ,   text )   \u7684 \u7ed3\u679c   \u6b63\u5219 \u53ea \u5bf9 \u547d\u4ee4 \u751f\u6548   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # \u4e00\u6b21 \u6361 1000 \u5757   \" Bot \"   \u8bf4 \uff1a \u4fee\u6539 \u6210\u529f   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u4f7f\u7528 \u6b63\u5219"},{"location":"intro/quick_start/#_10","text":"\u4f46\u662f \u4e00\u65e6 \u91cd\u542f bot \uff0c \u4f60 \u5c31 \u4f1a \u5931\u53bb \u4f60 \u7684 \u6240\u6709 \u91d1\u5b50 \uff0c \u8fd9 \u610f\u5473 \u610f\u5473\u7740 \u4f60 \u9700\u8981 \u4e00\u4e2a \u6570\u636e \u636e\u5e93 \u6570\u636e\u5e93 \u6765 \u6301\u4e45 \u5730 \u4fdd\u5b58 \u6570\u636e   from   ayaka   import   AyakaUserDB   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   \" gold \"   gold _ number   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" real _ pick \"   )   async   def   get _ gold   (   data   :   Data   ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   data   .   gold _ number   + =   config   .   gold _ number   data   .   save   ( )   await   app   .   send   (   f   \" \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   {   data   .   gold _ number   }   \"   )   \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u4e86\u89e3   AyakaUserDB   AyakaUserDB   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # real _ pick   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   1000   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" sys \"   \u8bf4 \uff1a bot \u91cd\u542f \u540e   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # real _ pick   \" Bot \"   \u8bf4 \uff1a \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   2000   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u6570\u636e\u5e93"},{"location":"intro/quick_start/#_11","text":"\u73b0\u5728 \uff0c \u6211\u4eec \u5199 \u5b8c \u4e86 \u4e00\u4e2a \u5c0f \u63d2\u4ef6 \u4e86 \uff0c \u90a3\u4e48 \u8be5 \u4e3a \u5b83 \u7f16\u5199 \u5e2e\u52a9 \u4e86   \u4e0d\u5e78 \u7684 \u662f \uff0c \u4f60 \u5df2\u7ecf \u5728 \u4e0a\u8ff0 \u4ee3\u7801 \u4e2d \u5b8c\u6210 \u4e86 \u5b83   \u901a\u8fc7 \u5206\u6790   \u6ce8\u518c \u56de\u8c03 \u7684 \u6ce8\u91ca (   __ doc __   ) \uff0c ayaka \u5185\u7f6e \u63d2\u4ef6   ayaka _ master   \u4f1a \u81ea\u52a8 \u751f\u6210 \u5bf9\u5e94 \u7684 \u5e2e\u52a9   \u73b0\u5728 \uff0c \u4f60 \u53ea \u9700 \u53d1\u9001 \u547d\u4ee4   help   \u5b9e\u73b0 \u6548\u679c   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a \u4f7f\u7528   \u5e2e\u52a9   < \u63d2\u4ef6 \u540d >   \u53ef\u4ee5 \u4e00\u6b65 \u8fdb\u4e00\u6b65 \u5c55\u793a \u6307\u5b9a \u63d2\u4ef6 \u7684 \u8be6\u7ec6 \u5e2e\u52a9 \u4fe1\u606f   \" user \"   \u8bf4 \uff1a # help   \u661f\u9645 \u65c5\u884c   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c ]   xing   ji   lv   xing   -   \u661f\u9645 \u65c5\u884c / travel   |   \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   [ \u661f\u9645 \u65c5\u884c . \u5730\u7403 ]   -   drink   |   \u559d\u6c34   [ \u661f\u9645 \u65c5\u884c . \u6708\u7403 ]   -   drink   |   \u559d\u6c34   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 ]   -   drink   |   \u559d \u592a\u9633 \u592a\u9633\u98ce   -   watch / \u770b \u8868\u6f14   |   \u770b \u8868\u6f14   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u5976\u8336 \u5e97 ]   -   drink   |   \u559d \u5976\u8336   -   < \u4efb\u610f \u6587\u5b57 >   |   \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 ]   -   buy / \u4e70\u7968   |   \u4e70 \u95e8\u7968   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed ]   -   fake _ pick   |   \u6361 \u91d1\u5b50   -   change   < number >   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   < number >   \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf   -   \u4e00\u6b21 \u6361 ( \\ d + ) \u5757   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   -   real _ pick   |   \u6361 \u91d1\u5b50   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # travel   \" Bot \"   \u8bf4 \uff1a \u5df2 \u6253\u5f00 \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]   \" user \"   \u8bf4 \uff1a # move   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" Bot \"   \u8bf4 \uff1a \u524d\u5f80   \u592a\u9633   \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed   \" user \"   \u8bf4 \uff1a # help   \" Bot \"   \u8bf4 \uff1a [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed ]   -   fake _ pick   |   \u6361 \u91d1\u5b50   -   change   < number >   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   < number >   \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf   -   \u4e00\u6b21 \u6361 ( \\ d + ) \u5757   |   \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e   -   real _ pick   |   \u6361 \u91d1\u5b50   [ \u661f\u9645 \u65c5\u884c . \u592a\u9633 ]   -   drink   |   \u559d \u592a\u9633 \u592a\u9633\u98ce   -   watch / \u770b \u8868\u6f14   |   \u770b \u8868\u6f14   [ \u661f\u9645 \u65c5\u884c ]   -   \u9000\u51fa / exit   |   \u5173\u95ed \u5e94\u7528   -   hi   |   \u62db\u547c \u6253\u62db\u547c   -   move   |   \u79fb\u52a8   \" user \"   \u8bf4 \uff1a # exit   \" Bot \"   \u8bf4 \uff1a \u5df2 \u5173\u95ed \u5e94\u7528   [ \u661f\u9645 \u65c5\u884c ]","title":"\u63d2\u4ef6 \u5e2e\u52a9"},{"location":"intro/quick_start/#_12","text":"#   ----------   1   ----------   from   ayaka   import   AyakaApp   app   =   AyakaApp   (   \" \u661f\u9645 \u65c5\u884c \"   )   app   .   help   =   \" xing   ji   lv   xing \"   #   \u542f\u52a8 \u5e94\u7528   app   .   set _ start _ cmds   (   \" \u661f\u9645 \u65c5\u884c \"   ,   \" travel \"   )   #   \u5173\u95ed \u5e94\u7528   app   .   set _ close _ cmds   (   \" \u9000\u51fa \"   ,   \" exit \"   )   #   ----------   2   ----------   #   \u88c5\u9970 \u5668 \u7684 \u987a\u5e8f \u6ca1\u6709 \u5f3a\u5236 \u8981\u6c42   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" hi \"   )   async   def   say _ hi   ( ) :   ' ' ' \u62db\u547c \u6253\u62db\u547c ' ' '   await   app   .   send   (   f   \" hi   I ' m   in   {   app   .   state   }   \"   )   #   ----------   3   ----------   @ app   .   on _ state   ( )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" move \"   )   async   def   move   ( ) :   ' ' ' \u79fb\u52a8 ' ' '   args   =   [   str   (   a   )   for   a   in   app   .   args   ]   await   app   .   set _ state   (   *   args   )   await   app   .   send   (   f   \" \u524d\u5f80   {   app   .   arg   }   \"   )   #   ----------   4   ----------   #   \u6ce8\u518c \u5404\u79cd \u884c\u52a8   @ app   .   on _ state   (   \" \u5730\u7403 \"   ,   \" \u6708\u7403 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d\u6c34 ' ' '   await   app   .   send   (   \" \u559d\u6c34 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u592a\u9633 \u592a\u9633\u98ce ' ' '   await   app   .   send   (   \" \u559d \u592a\u9633 \u592a\u9633\u98ce \"   )   #   ----------   5   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ cmd   (   \" drink \"   )   async   def   drink   ( ) :   ' ' ' \u559d \u5976\u8336 ' ' '   await   app   .   send   (   \" \u559d \u4e86 \u4e00\u53e3 3000 \u5ea6 \u7684 \u5976\u8336 \"   )   #   ----------   6   ----------   from   ayaka   import   AyakaCache   class   Cache   (   AyakaCache   ) :   ticket   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u552e\u7968 \u552e\u7968\u5904 \"   )   @ app   .   on _ cmd   (   \" buy \"   ,   \" \u4e70\u7968 \"   )   async   def   buy _ ticket   (   cache   :   Cache   ) :   ' ' ' \u4e70 \u95e8\u7968 ' ' '   cache   .   ticket   + =   1   await   app   .   send   (   \" \u8000\u6591 \u8868\u6f14 \u95e8\u7968 + 1 \"   )   @ app   .   on _ state   (   \" \u592a\u9633 \"   )   @ app   .   on _ deep _ all   ( )   @ app   .   on _ cmd   (   \" watch \"   ,   \" \u770b \u8868\u6f14 \"   )   async   def   watch   (   cache   :   Cache   ) :   ' ' ' \u770b \u8868\u6f14 ' ' '   if   cache   .   ticket   < =   0   :   await   app   .   send   (   \" \u5148 \u53bb \u552e\u7968 \u552e\u7968\u5904 \u4e70\u7968 \uff01 \"   )   else   :   cache   .   ticket   - =   1   await   app   .   send   (   \" 10 \u5206 \u751a\u81f3 9 \u5206 \u7684 \u597d\u770b \"   )   #   ----------   7   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u5976\u8336 \u5e97 \"   )   @ app   .   on _ text   ( )   async   def   handle   ( ) :   ' ' ' \u4ee4\u4eba \u9707\u60ca \u4ee4\u4eba\u9707\u60ca \u7684 \u4e8b\u5b9e ' ' '   await   app   .   send   (   \" \u4f60 \u53d1\u73b0 \u8fd9\u91cc \u53ea\u5356 \u70ed\u996e \"   )   #   ----------   8   ----------   from   ayaka   import   AyakaConfig   class   Config   (   AyakaConfig   ) :   __ app _ name __   =   app   .   name   gold _ number   :   int   =   1   config   =   Config   ( )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" fake _ pick \"   )   async   def   get _ gold   ( ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   await   app   .   send   (   f   \" \u865a\u5047 \u7684 \u559c\u52a0 \u4e00   {   config   .   gold _ number   }   \"   )   #   ----------   9   ----------   from   pydantic   import   Field   from   ayaka   import   AyakaInput   class   UserInput   (   AyakaInput   ) :   number   :   int   =   Field   (   description   =   \" \u4e00\u6b21 \u6361\u8d77 \u7684 \u91d1\u5757 \u6570\u91cf \"   )   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" change \"   )   async   def   change _ gold _ number   (   userinput   :   UserInput   ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   userinput   .   number   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   #   ----------   10   ----------   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd _ regex   (   \" \u4e00\u6b21 \u6361 ( \\ d + ) \u5757 \"   )   async   def   change _ gold _ number   ( ) :   ' ' ' \u4fee\u6539 \u6361 \u91d1\u5b50 \u914d\u7f6e ' ' '   config   .   gold _ number   =   int   (   app   .   cmd _ regex   .   group   (   1   ) )   await   app   .   send   (   \" \u4fee\u6539 \u6210\u529f \"   )   #   ----------   11   ----------   from   ayaka   import   AyakaUserDB   class   Data   (   AyakaUserDB   ) :   __ table _ name __   =   \" gold \"   gold _ number   :   int   =   0   @ app   .   on _ state   (   \" \u592a\u9633 . \u68ee\u6797 \u516c\u56ed \u68ee\u6797\u516c\u56ed \"   )   @ app   .   on _ cmd   (   \" real _ pick \"   )   async   def   get _ gold   (   data   :   Data   ) :   ' ' ' \u6361 \u91d1\u5b50 ' ' '   data   .   gold _ number   + =   config   .   gold _ number   data   .   save   ( )   await   app   .   send   (   f   \" \u771f\u6b63 \u7684 \u559c\u52a0 \u4e00   {   data   .   gold _ number   }   \"   )","title":"\u5168\u90e8 \u4ee3\u7801"},{"location":"intro/quick_start/#_13","text":"\u5728 \u8fd9\u91cc ~   \u2198","title":"\u4e0b \u4e00\u6b65"}]}